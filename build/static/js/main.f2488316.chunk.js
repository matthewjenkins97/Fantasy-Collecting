(this.webpackJsonpSeniorProject=this.webpackJsonpSeniorProject||[]).push([[0],{136:function(e,t,n){},140:function(e,t,n){},206:function(e,t,n){e.exports=n.p+"static/media/guilder.9110e9e5.svg"},413:function(e,t,n){e.exports=n.p+"static/media/menuIcon.d7a593e9.png"},433:function(e,t,n){e.exports=n(809)},438:function(e,t,n){},465:function(e,t){},467:function(e,t){},476:function(e,t){},478:function(e,t){},493:function(e,t){},501:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=501},508:function(e,t){},509:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=509},546:function(e,t){},547:function(e,t){},629:function(e,t){},722:function(e,t,n){},724:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){e.exports=n.p+"static/media/coin.515325b9.png"},806:function(e,t,n){},807:function(e,t,n){},808:function(e,t,n){},809:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAllLots",(function(){return ra})),n.d(a,"getAllAuctions",(function(){return ia})),n.d(a,"conductAuctionTrade",(function(){return ma})),n.d(a,"createAuction",(function(){return sa})),n.d(a,"createLot",(function(){return ua})),n.d(a,"postBid",(function(){return Qn})),n.d(a,"deleteLot",(function(){return ea})),n.d(a,"deleteAuction",(function(){return na}));var r=n(0),o=n.n(r),i=n(25),c=n.n(i),s=(n(438),n(11)),l=n(10),u=n(13),d=n(12),m=n(14),p=n(3),f=n(2),h=n.n(f),g=n(7),y=n(858),b=n(364),v=n(255),E=n(198),x=n(126),k="0123456789abcdef";function w(e){for(var t="",n=0;n<=3;n++)t+=k.charAt(e>>8*n+4&15)+k.charAt(e>>8*n&15);return t}function O(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function j(e,t,n,a,r,o){return O((i=O(O(t,e),O(a,o)))<<(c=r)|i>>>32-c,n);var i,c}function I(e,t,n,a,r,o,i){return j(t&n|~t&a,e,t,r,o,i)}function S(e,t,n,a,r,o,i){return j(t&a|n&~a,e,t,r,o,i)}function C(e,t,n,a,r,o,i){return j(t^n^a,e,t,r,o,i)}function T(e,t,n,a,r,o,i){return j(n^(t|~a),e,t,r,o,i)}function B(e){for(var t=function(e){for(var t=1+(e.length+8>>6),n=new Array(16*t),a=0;a<16*t;a++)n[a]=0;for(var r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<r%4*8,n[r>>2]|=128<<r%4*8,n[16*t-2]=8*e.length;return n}(e),n=1732584193,a=-271733879,r=-1732584194,o=271733878,i=0;i<t.length;i+=16){var c=n,s=a,l=r,u=o;n=I(n,a,r,o,t[i+0],7,-680876936),o=I(o,n,a,r,t[i+1],12,-389564586),r=I(r,o,n,a,t[i+2],17,606105819),a=I(a,r,o,n,t[i+3],22,-1044525330),n=I(n,a,r,o,t[i+4],7,-176418897),o=I(o,n,a,r,t[i+5],12,1200080426),r=I(r,o,n,a,t[i+6],17,-1473231341),a=I(a,r,o,n,t[i+7],22,-45705983),n=I(n,a,r,o,t[i+8],7,1770035416),o=I(o,n,a,r,t[i+9],12,-1958414417),r=I(r,o,n,a,t[i+10],17,-42063),a=I(a,r,o,n,t[i+11],22,-1990404162),n=I(n,a,r,o,t[i+12],7,1804603682),o=I(o,n,a,r,t[i+13],12,-40341101),r=I(r,o,n,a,t[i+14],17,-1502002290),n=S(n,a=I(a,r,o,n,t[i+15],22,1236535329),r,o,t[i+1],5,-165796510),o=S(o,n,a,r,t[i+6],9,-1069501632),r=S(r,o,n,a,t[i+11],14,643717713),a=S(a,r,o,n,t[i+0],20,-373897302),n=S(n,a,r,o,t[i+5],5,-701558691),o=S(o,n,a,r,t[i+10],9,38016083),r=S(r,o,n,a,t[i+15],14,-660478335),a=S(a,r,o,n,t[i+4],20,-405537848),n=S(n,a,r,o,t[i+9],5,568446438),o=S(o,n,a,r,t[i+14],9,-1019803690),r=S(r,o,n,a,t[i+3],14,-187363961),a=S(a,r,o,n,t[i+8],20,1163531501),n=S(n,a,r,o,t[i+13],5,-1444681467),o=S(o,n,a,r,t[i+2],9,-51403784),r=S(r,o,n,a,t[i+7],14,1735328473),n=C(n,a=S(a,r,o,n,t[i+12],20,-1926607734),r,o,t[i+5],4,-378558),o=C(o,n,a,r,t[i+8],11,-2022574463),r=C(r,o,n,a,t[i+11],16,1839030562),a=C(a,r,o,n,t[i+14],23,-35309556),n=C(n,a,r,o,t[i+1],4,-1530992060),o=C(o,n,a,r,t[i+4],11,1272893353),r=C(r,o,n,a,t[i+7],16,-155497632),a=C(a,r,o,n,t[i+10],23,-1094730640),n=C(n,a,r,o,t[i+13],4,681279174),o=C(o,n,a,r,t[i+0],11,-358537222),r=C(r,o,n,a,t[i+3],16,-722521979),a=C(a,r,o,n,t[i+6],23,76029189),n=C(n,a,r,o,t[i+9],4,-640364487),o=C(o,n,a,r,t[i+12],11,-421815835),r=C(r,o,n,a,t[i+15],16,530742520),n=T(n,a=C(a,r,o,n,t[i+2],23,-995338651),r,o,t[i+0],6,-198630844),o=T(o,n,a,r,t[i+7],10,1126891415),r=T(r,o,n,a,t[i+14],15,-1416354905),a=T(a,r,o,n,t[i+5],21,-57434055),n=T(n,a,r,o,t[i+12],6,1700485571),o=T(o,n,a,r,t[i+3],10,-1894986606),r=T(r,o,n,a,t[i+10],15,-1051523),a=T(a,r,o,n,t[i+1],21,-2054922799),n=T(n,a,r,o,t[i+8],6,1873313359),o=T(o,n,a,r,t[i+15],10,-30611744),r=T(r,o,n,a,t[i+6],15,-1560198380),a=T(a,r,o,n,t[i+13],21,1309151649),n=T(n,a,r,o,t[i+4],6,-145523070),o=T(o,n,a,r,t[i+11],10,-1120210379),r=T(r,o,n,a,t[i+2],15,718787259),a=T(a,r,o,n,t[i+9],21,-343485551),n=O(n,c),a=O(a,s),r=O(r,l),o=O(o,u)}return(w(n)+w(a)+w(r)+w(o)).toLowerCase()}function N(e){return/^\d+$/.test(e)}function L(e,t,n,a){return M.apply(this,arguments)}function M(){return(M=Object(g.a)(h.a.mark((function e(t,n,a,r){var o,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N(a)){e.next=23;break}return e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(t),{method:"get",mode:"cors"});case 3:return o=e.sent,e.next=6,o.json();case 6:return(o=(o=e.sent)[0]).guilders=parseInt(o.guilders)+parseInt(a),fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(t),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){console.log(e)})),e.next=12,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"get",mode:"cors"});case 12:return i=e.sent,e.next=15,i.json();case 15:(i=(i=e.sent)[0]).guilders=parseInt(i.guilders)-parseInt(a),fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){console.log(e)})),c={seller:n,buyer:t,price:parseInt(a),timestamp:new Date,tradeid:r},fetch("http://fantasycollecting.hamilton.edu/api/history/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){console.log(e)})),e.next=24;break;case 23:fetch("http://fantasycollecting.hamilton.edu/api/artworks/".concat(a),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:t})}).then((function(e){console.log(e)}));case 24:s={identifier:a,seller:n,buyer:t,timestamp:new Date,tradeid:r},fetch("http://fantasycollecting.hamilton.edu/api/history/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){console.log(e)}));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D,A,H=n(63),R=n(22),U=n(75),J=n(860),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("messageList");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){return o.a.createElement("ul",{className:"message-list",id:"messageList"},this.props.messages.map((function(e,t){return o.a.createElement("li",{key:t},e.senderId==localStorage.getItem("username")?o.a.createElement(J.a,{style:{alignItems:"flex-end"}},o.a.createElement("h5",{style:{textAlign:"right",fontWeight:"normal",marginBottom:-5,fontSize:"1em",color:"#b5b5b5"},className:"message-sender"},"you"),o.a.createElement("div",{className:"message-text"},o.a.createElement("div",{style:{textAlign:"right",padding:"10px",elevation:0,background:"#147efb",color:"white",borderRadius:"15px",marginLeft:"50px",display:"inline-block",marginBottom:-1}},e.text))):o.a.createElement("div",null,o.a.createElement("h5",{style:{textAlign:"left",color:"#b5b5b5",fontWeight:"normal",marginBottom:-5},className:"message-sender"},e.senderId),o.a.createElement("div",{style:{textAlign:"left",padding:"10px",elevation:0,background:"#CCCCCC",borderRadius:"15px",marginRight:"50px",display:"inline-block",marginBottom:-1},className:"message-text"},e.text)))})),o.a.createElement("li",null))}}]),t}(r.Component),F=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={message:""},n.handleChange=n.handleChange.bind(Object(R.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(R.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.message),this.setState({message:""})}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"input-field"},o.a.createElement("input",{className:"message-input",type:"text",onChange:this.handleChange,value:this.state.message}),o.a.createElement("input",{className:"message-submit",type:"submit",value:"send"}))}}]),t}(r.Component),_=n(124),G=n.n(_),V=(o.a.Component,new G.a({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",key:"32b71a31-bcc2-4750-9cff-59640b74814e:hQq+MMcoDqpXgMK0aPNPcm8uFHFDRmNDWcYNeiP2Zjg="}),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={currentUser:localStorage.getItem("username"),currentRoom:{users:[]},messages:[],users:[],otherUser:e.otherUser,created:!1,currentRoomId:"",general:e.general},n.sendMessage=n.sendMessage.bind(Object(R.a)(n)),n.createRoom=n.createRoom.bind(Object(R.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createRoom",value:function(e){var t=this;D.connect().then((function(n){n.enablePushNotifications().then((function(){})).catch((function(e){})),n.createRoom({id:e,name:e,private:!0,addUserIds:[t.state.currentUser.id,t.state.otherUser],customData:{foo:42}})})).then((function(e){})).catch((function(e){}))}},{key:"checkRoom",value:function(e,t){for(var n in e)if(e[n].id==t)return;this.createRoom(t),this.setState({created:!0})}},{key:"componentDidMount",value:function(){var e=this,t=[this.state.otherUser,this.state.currentUser];t=t.sort().join("_")+"_room","general"==this.state.general&&(t="642a21e5-92e6-42fd-8966-b4a151d7ea94"),this.state.currentRoomId=t,D=new U.ChatManager({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",userId:localStorage.getItem("username"),tokenProvider:new U.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/f04ab5ec-b8fc-49ca-bcfb-c15063c21da8/token"})}),this.checkRoom(),D.connect().then((function(n){return e.checkRoom(n.rooms,t),e.state.created&&e.forceUpdate(),e.setState({currentUser:n}),n.subscribeToRoom({roomId:t,messageLimit:100,hooks:{onMessage:function(t){e.setState({messages:[].concat(Object(H.a)(e.state.messages),[t])})}}})})).then((function(t){e.setState({currentRoom:t})})).catch((function(e){return console.log(e)}))}},{key:"sendMessage",value:function(e){this.state.currentUser.sendMessage({roomId:this.state.currentRoomId,text:e})}},{key:"expandUsers",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.otherUser;"general"==this.state.general&&(e="General");this.expandUsers(this);return o.a.createElement("div",{className:"chatapp",style:{zIndex:99}},o.a.createElement("h3",{className:"header"},e),o.a.createElement("div",{id:"messages",style:{marginTop:"17px"}},o.a.createElement(P,{messages:this.state.messages,style:{position:"absolute",bottom:0}})),o.a.createElement(F,{className:"input-field",onSubmit:this.sendMessage,onClick:{},onChange:{}}))}}]),t}(r.Component)),z=n(257),Y=n.n(z);n(722),new G.a({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",key:"32b71a31-bcc2-4750-9cff-59640b74814e:hQq+MMcoDqpXgMK0aPNPcm8uFHFDRmNDWcYNeiP2Zjg="});function W(){document.getElementById("messageinit").style.left="0px",document.getElementById("messagebutt").style.left="210px",document.getElementById("messagealert").style.left="380px"}function q(){document.getElementById("messageinit").style.left="-200px",document.getElementById("messagebutt").style.left="10px",document.getElementById("messagealert").style.left="180px"}function X(){return K.apply(this,arguments)}function K(){return(K=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof localStorage.getItem("username")&&null!==localStorage.getItem("username")){e.next=2;break}return e.abrupt("return");case 2:if("undefined"!==typeof A&&A.uerId===localStorage.getItem("username")){e.next=6;break}return e.next=5,new U.ChatManager({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",userId:localStorage.getItem("username"),tokenProvider:new U.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/f04ab5ec-b8fc-49ca-bcfb-c15063c21da8/token"})});case 5:A=e.sent;case 6:return t=!1,e.next=9,A.connect();case 9:n=e.sent,e.t0=h.a.keys(n.rooms);case 11:if((e.t1=e.t0()).done){e.next=26;break}a=e.t1.value,e.prev=13,console.log(document.getElementById(n.rooms[a].name).innerHTML.toString),e.next=20;break;case 17:return e.prev=17,e.t2=e.catch(13),e.abrupt("continue",11);case 20:return e.next=22,Z(n.rooms[a].name);case 22:e.sent<n.rooms[a].unreadCount?(t=!0,document.getElementById(n.rooms[a].name).innerHTML=document.getElementById(n.rooms[a].name).innerHTML.split(" ")[0]+" !"):document.getElementById(n.rooms[a].name).innerHTML=document.getElementById(n.rooms[a].name).innerHTML.split(" ")[0],e.next=11;break;case 26:document.getElementById("messagealert").style.display=t?"block":"none";case 27:case"end":return e.stop()}}),e,null,[[13,17]])})))).apply(this,arguments)}function $(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username"));case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=h.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=15;break}if(a=e.t1.value,"undefined"!==typeof t){e.next=11;break}return e.abrupt("return");case 11:if(n[a].room.toString()!==t.toString()){e.next=13;break}return e.abrupt("return");case 13:e.next=7;break;case 15:return e.next=17,fetch("http://fantasycollecting.hamilton.edu/api/messages/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:localStorage.getItem("username"),room:t.toString(),messagecount:0})});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username"));case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=h.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,n[a].room.toString()!==t.toString()){e.next=12;break}return console.log(n[a].messagecount),e.abrupt("return",n[a].messagecount);case 12:e.next=7;break;case 14:return e.abrupt("return",-1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(g.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username"));case 2:return a=e.sent,e.next=5,a.json();case 5:return a=e.sent,e.next=8,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username"),{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 8:e.t0=h.a.keys(a);case 9:if((e.t1=e.t0()).done){e.next=16;break}return r=e.t1.value,a[r].room.toString()===t.toString()&&(a[r].messagecount=n),e.next=14,fetch("http://fantasycollecting.hamilton.edu/api/messages/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a[r])});case 14:e.next=9;break;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={currentView:!1,chatView:!1,otherChatter:void 0,userList:[],unread:[]},n.changeView=n.changeView.bind(Object(R.a)(n)),n.setUnread=n.setUnread.bind(Object(R.a)(n)),n.managechats(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getUsers",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:t=e.sent,this.setState({userList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeView",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({currentView:!t}),e.next=3,new U.ChatManager({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",userId:localStorage.getItem("username").toString(),tokenProvider:new U.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/f04ab5ec-b8fc-49ca-bcfb-c15063c21da8/token"})});case 3:return A=e.sent,e.next=6,A.connect();case 6:return n=e.sent,e.next=9,this.setUnread(n.rooms);case 9:for(a=0;a<this.state.unread.length;a++)console.log(this.state.unread[a]),"General"===this.state.unread[a][0].toString()&&te("General",this.state.unread[a][1]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeChat",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({chatView:!t,otherChatter:n}),e.next=3,new U.ChatManager({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",userId:localStorage.getItem("username").toString(),tokenProvider:new U.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/f04ab5ec-b8fc-49ca-bcfb-c15063c21da8/token"})});case 3:return A=e.sent,e.next=6,A.connect();case 6:return a=e.sent,e.next=9,this.setUnread(a.rooms);case 9:if(r=(r=[n,localStorage.getItem("username")]).sort().join("_")+"_room","General"===n&&(r="General"),1==this.state.chatView)for(o=0;o<this.state.unread.length;o++)console.log(this.state.unread[o]),this.state.unread[o][0].toString()===r&&te(r,this.state.unread[o][1]);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUnread",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.length;n++)""!==t[n].name&&this.setState({unread:[].concat(Object(H.a)(this.state.unread),[[t[n].name,t[n].unreadCount]])});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"managechats",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=new U.ChatManager({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",userId:localStorage.getItem("username").toString(),tokenProvider:new U.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/f04ab5ec-b8fc-49ca-bcfb-c15063c21da8/token"})}),e.next=3,A.connect();case 3:t=e.sent,e.t0=h.a.keys(t.rooms);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(n=e.t1.value,"undefined"===typeof t.rooms[n]){e.next=10;break}return e.next=10,$(t.rooms[n].name);case 10:e.next=5;break;case 12:return e.next=14,$("General");case 14:return e.next=16,this.setUnread(t.rooms);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"chatnumber",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=[t,localStorage.getItem("username")]).sort().join("_")+"_room","General"==t&&(n="642a21e5-92e6-42fd-8966-b4a151d7ea94"),e.next=5,A.connect();case 5:a=e.sent,e.t0=h.a.keys(a.rooms);case 7:if((e.t1=e.t0()).done){e.next=26;break}if(r=e.t1.value,a.rooms[r].id!==n){e.next=24;break}if("General"!==t){e.next=16;break}return e.next=13,Z("General");case 13:o=e.sent,e.next=19;break;case 16:return e.next=18,Z(a.rooms[r].id);case 18:o=e.sent;case 19:if(!(o<a.rooms[r].unreadCount&&-1!==o)){e.next=23;break}return e.abrupt("return"," !");case 23:return e.abrupt("return","");case 24:e.next=7;break;case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsers();case 2:for(n in t=this,this.state.userList)this.state.userList[n].username!==localStorage.getItem("username")&&((a=document.createElement("a")).style.padding="0px 0px 5px 0px",r=(r=[this.state.userList[n].username,localStorage.getItem("username")]).sort().join("_")+"_room",a.id=r,a.innerHTML=this.state.userList[n].username,a.onclick=function(){t.changeChat(t.state.chatView,this.innerHTML.split(" ")[0])},document.getElementById("messageusers").appendChild(a));(a=document.createElement("a")).style.padding="0px 0px 5px 0px",a.id="General",a.innerHTML="General",a.onclick=function(){t.changeView(t.state.currentView)},document.getElementById("messageusers").appendChild(a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{style:{zIndex:1,position:"fixed"}},o.a.createElement("p",{id:"messagebutt",onClick:W,className:"messageButton"},"Message Users"),o.a.createElement("div",{id:"messageinit",className:"sidebarinitm"},o.a.createElement("a",{className:"closebtn",onClick:q},"\xd7"),o.a.createElement("button",{className:"dropbtn"},"Users"),o.a.createElement("div",{id:"messageusers",className:"dropdown-contentm"})),o.a.createElement("div",{id:"messagealert",className:"messagealert"},"!")),o.a.createElement("div",{style:{zIndex:10,position:"fixed"}},o.a.createElement(J.a,{style:{position:"fixed",right:0,bottom:0,marginBottom:400}},this.state.currentView?o.a.createElement(Y.a,{style:{cursor:"pointer",background:"white",borderRadius:"10px",position:"fixed",bottom:"410px",right:"20px"},onClick:function(){return e.changeView(e.state.currentView)}}):null,this.state.chatView?o.a.createElement(Y.a,{style:{cursor:"pointer",background:"white",borderRadius:"10px",position:"fixed",bottom:"410px",right:"20px"},onClick:function(){return e.changeChat(e.state.chatView)}}):null),o.a.createElement("div",null,this.state.currentView?o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"form-container"},o.a.createElement(V,{general:"general",style:{position:"fixed",flex:1}}))):null,this.state.chatView?o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"form-container"},o.a.createElement(V,{otherUser:this.state.otherChatter.split(" ")[0],style:{position:"fixed",flex:1}}))):null)))}}]),t}(r.Component),re="http://fantasycollecting.hamilton.edu/api";function oe(e){var t=e();return t.next(),function(e){t.next(e)}}oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:X(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));var ie,ce,se,le,ue,de,me=oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:document.getElementById("notification").style.top="-"+document.getElementById("notification").offsetHeight+"px",clearInterval(ie),e.next=0;break;case 7:case"end":return e.stop()}}),e)})));function pe(e){clearInterval(ie);try{document.getElementById("notification").style.top="50px",document.getElementById("notification").innerHTML=e,ie=setInterval(me,5e3)}catch(t){}}var fe=oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:_e(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));setInterval(fe,2e3);var he=oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:ke(),e.next=0;break;case 6:case"end":return e.stop()}}),e)}))),ge=oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:Ee(),e.next=0;break;case 6:case"end":return e.stop()}}),e)}))),ye=oe(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:De(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));function be(){return ve.apply(this,arguments)}function ve(){return(ve=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+ue,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerapproved:0,sellerapproved:0})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return xe.apply(this,arguments)}function xe(){return(xe=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+ue);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,"undefined"!==typeof(a=JSON.parse(JSON.stringify(n))[0])){e.next=11;break}return Ke(),Ct(),e.abrupt("return");case 11:if(!(a.seller.toString()===localStorage.getItem("username").toString()&&0===parseInt(a.sellerapproved)||a.buyer.toString()===localStorage.getItem("username").toString()&&0===parseInt(a.buyerapproved))){e.next=17;break}return clearInterval(le),document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none",pe("trade updated"),e.abrupt("return");case 17:1===a.sellerapproved&&1===a.buyerapproved&&(clearInterval(le),clearInterval(se),Ct(),pe("trade sent to admin"),a.buyer==localStorage.getItem("username")&&He());case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return we.apply(this,arguments)}function we(){return(we=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+ue);case 2:return t=e.sent,e.next=5,t.json();case 5:if(t=e.sent,"undefined"!==typeof(t=JSON.parse(JSON.stringify(t))[0])){e.next=13;break}return console.log("TRADE CANELLED"),clearInterval(se),Ct(),Ke(),e.abrupt("return");case 13:return e.next=15,fetch(re+"/tradedetails/"+ue);case 15:return n=e.sent,e.next=18,n.json();case 18:a=e.sent,At(JSON.parse(JSON.stringify(a)));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return(je=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/tradedetails");case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=h.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=13;break}if(a=e.t1.value,n[a].offer!==t||n[a].tradeid!==ue){e.next=11;break}return e.abrupt("return");case 11:e.next=7;break;case 13:return e.next=15,fetch(re+"/tradedetails",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:ue,buyer:de,seller:localStorage.getItem("username"),offer:t,approved:0})}).then((function(e){}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/tradedetails/"+ue);case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=h.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,n[a].offer!=t){e.next=12;break}return delete n[a],e.abrupt("break",14);case 12:e.next=7;break;case 14:return e.next=16,fetch(re+"/tradedetails/"+ue,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));case 16:e.t2=h.a.keys(n);case 17:if((e.t3=e.t2()).done){e.next=23;break}return a=e.t3.value,e.next=21,fetch(re+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n[a])}).then((function(e){console.log(e)}));case 21:e.next=17;break;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(g.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/users/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a=e.sent,a=JSON.parse(JSON.stringify(a))[0],console.log(a),e.abrupt("return",parseInt(a.guilders)>=parseInt(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(localStorage.getItem("username"),t);case 2:if(e.sent){e.next=5;break}return pe("not enough guilders"),e.abrupt("return");case 5:return e.next=7,fetch(re+"/tradedetails/"+ue);case 7:return n=e.sent,a=!1,e.next=11,n.json();case 11:n=e.sent,e.t0=h.a.keys(n);case 13:if((e.t1=e.t0()).done){e.next=21;break}if(r=e.t1.value,n[r].seller!==localStorage.getItem("username")||n[r].tradeid!==ue||isNaN(n[r].offer)){e.next=19;break}return n[r].offer=t,a=!0,e.abrupt("break",21);case 19:e.next=13;break;case 21:return e.next=23,fetch(re+"/tradedetails/"+ue,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 23:if(a){e.next=26;break}return e.next=26,fetch(re+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:ue,buyer:de,seller:localStorage.getItem("username"),offer:t,approved:0})});case 26:e.t2=h.a.keys(n);case 27:if((e.t3=e.t2()).done){e.next=33;break}return r=e.t3.value,e.next=31,fetch(re+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n[r])}).then((function(e){console.log(e)}));case 31:e.next=27;break;case 33:document.getElementById("addguilders").value="";case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=localStorage.getItem("username")){e.next=3;break}return console.log("cannot trade with self"),e.abrupt("return");case 3:return e.next=5,fetch(re+"/users/"+t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(a=e.sent,"undefined"!==typeof JSON.parse(JSON.stringify(a))[0]){e.next=13;break}return console.log("user does not exist"),e.abrupt("return");case 13:r=Date.now(),ue=r,console.log(ue),fetch(re+"/trades",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:r,seller:t,buyer:localStorage.getItem("username"),buyerinit:!0,sellerinit:!1,buyerapproved:!1,sellerapproved:!1})}).then((function(e){pe("Trade Initiated"),console.log("trade requested sent to "+t),ce=setInterval(ye,2e3)}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+ue);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,"undefined"!==typeof(a=JSON.parse(JSON.stringify(n))[0])){e.next=12;break}return clearInterval(ce),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="trade",e.abrupt("return");case 12:1==a.sellerinit&&(St(!1,de=a.seller),clearInterval(ce),se=setInterval(he,1e3));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return Re.apply(this,arguments)}function Re(){return(Re=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/tradedetails/"+ue,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!0})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(g.a)(h.a.mark((function e(t){var n,a,r,o,i,c,s,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/tradedetails/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,n=JSON.parse(JSON.stringify(n)),e.next=9,nt();case 9:return a=e.sent,e.next=12,et();case 12:r=e.sent,e.t0=h.a.keys(n);case 14:if((e.t1=e.t0()).done){e.next=32;break}for(l in o=e.t1.value,i=0,c="",s="",r)r[l].username.toString()===n[o].seller.toString()&&(i=r[l].guilders,c=r[l].username);for(u in a)a[u].identifier.toString()===n[o].offer.toString()&&(s=a[u].owner);if(!/^\d+$/.test(n[o].offer)){e.next=27;break}if(!(parseInt(i)<parseInt(n[o].offer))){e.next=25;break}return pe("users no longer have the required items for this trade"),e.abrupt("return");case 25:e.next=30;break;case 27:if(c==s){e.next=30;break}return pe("users no longer have the required items for this trade"),e.abrupt("return");case 30:e.next=14;break;case 32:e.t2=h.a.keys(n);case 33:if((e.t3=e.t2()).done){e.next=40;break}return o=e.t3.value,console.log(n),e.next=38,L(n[o].buyer,n[o].seller,n[o].offer,t);case 38:e.next=33;break;case 40:return e.prev=40,e.next=43,fetch(re+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));case 43:return e.next=45,fetch(re+"/tradedetails/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:1})}).then((function(e){console.log(e)}));case 45:pe("trade between "+n[0].buyer+" and "+n[0].seller+" approved"),e.next=51;break;case 48:e.prev=48,e.t4=e.catch(40),console.log("no trade details");case 51:case"end":return e.stop()}}),e,null,[[40,48]])})))).apply(this,arguments)}function Pe(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){}));case 2:return e.next=4,fetch(re+"/tradedetails/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.toString().endsWith("/gallery")||window.location.toString().endsWith("/auction")){e.next=2;break}return e.abrupt("return");case 2:return t=[],e.next=5,fetch(re+"/trades/");case 5:return n=e.sent,e.next=8,n.json();case 8:for(a=e.sent,r=!0,o=!1,i=void 0,e.prev=12,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)(l=s.value).seller!=localStorage.getItem("username")||1===l.sellerapproved&&1===l.buyerapproved||t.push(l);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,r||null==c.return||c.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:t.length>0?(document.getElementById("mainalert").style.display="block",Jt(t)):Jt(t);case 29:case"end":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})))).apply(this,arguments)}function Ve(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),fetch(re+"/trades/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerinit:!0})}).then((function(e){ue=t,console.log(e),se=setInterval(he,1e3)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return We.apply(this,arguments)}function We(){return(We=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(re+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/"+ue);case 2:return t=e.sent,e.next=5,t.json();case 5:if(1!==(t=e.sent).sellerapproved||1!==t.buyerapproved){e.next=8;break}return e.abrupt("return");case 8:fetch(re+"/trades/"+ue,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){})),fetch(re+"/tradedetails/"+ue,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){})),Ke();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){clearInterval(le),clearInterval(ce),clearInterval(se)}function $e(){localStorage.clear(),window.location.reload()}function Qe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/users/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/users");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return at.apply(this,arguments)}function at(){return(at=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/artworks");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){return(rt=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/users/"+t.username);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,r=JSON.parse(JSON.stringify(a)),"*****"===t.hash?t.hash=r[0].hash:t.hash=B(t.hash),t.admin||(t.admin=0),t.formcompleted||(t.formcompleted=0),t.guilders||(t.guilders=0),t.microresearchpoints||(t.microresearchpoints=0),fetch(re+"/users/"+t.username,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,hash:t.hash,name:t.name,admin:t.admin,formcompleted:t.formcompleted,guilders:t.guilders,microresearchpoints:t.microresearchpoints,blurb:t.blurb})}).then((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return(ot=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/users/"+t.username);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,"undefined"===typeof JSON.parse(JSON.stringify(a))[0]?(console.log(t),t.admin||(t.admin=0),t.formcompleted||(t.formcompleted=0),t.guilders||(t.guilders=0),t.microresearchpoints||(t.microresearchpoints=0),fetch(re+"/users/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,hash:B(t.hash),name:t.name,admin:t.admin,formcompleted:t.formcompleted,guilders:t.guilders,microresearchpoints:t.microresearchpoints,blurb:t.blurb})}).then((function(e){console.log(e)}))):alert("User already exists.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/artworks/"+t.identifier);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,"undefined"===typeof JSON.parse(JSON.stringify(a))[0]?(console.log(t),t.theoreticalprice||(t.theoreticalprice=0),t.actualprice||(t.actualprice=0),t.rateable||(t.rateable=0),fetch(re+"/artworks/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t.identifier,title:t.title,artist:t.artist,year:t.year,theoreticalprice:t.theoreticalprice,actualprice:t.actualprice,owner:t.owner,url:t.url,rateable:t.rateable})}).then((function(e){console.log(e)}))):alert("Artwork already exists.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(){return(st=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.theoreticalprice||(t.theoreticalprice=0),t.actualprice||(t.actualprice=0),t.rateable||(t.rateable=0),fetch(re+"/artworks/"+t.identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.title,artist:t.artist,year:t.year,theoreticalprice:t.theoreticalprice,actualprice:t.actualprice,owner:t.owner,url:t.url,rateable:t.rateable})}).then((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/artworks/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a))[0],e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/history/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/microresearch/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(re+"/microresearch/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t.identifier,username:t.username,information:t.information,timestamp:t.timestamp})}).then((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/tradedetails/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(){return vt.apply(this,arguments)}function vt(){return(vt=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/trades/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return(Et=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(re+"/users/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({blurb:n})}).then((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return(xt=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c,s,l,u,d,m,p,f,g,y,b,v,E,x,k;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:for(t=e.sent,n=!0,a=!1,r=void 0,e.prev=6,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)1!==(c=i.value).admin&&fetch(re+"/users/"+c.username,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,r=e.t0;case 14:e.prev=14,e.prev=15,n||null==o.return||o.return();case 17:if(e.prev=17,!a){e.next=20;break}throw r;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,nt();case 24:for(s=e.sent,l=!0,u=!1,d=void 0,e.prev=28,m=s[Symbol.iterator]();!(l=(p=m.next()).done);l=!0)f=p.value,fetch(re+"/history/"+f.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)})),fetch(re+"/microresearch/"+f.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)})),fetch(re+"/ratetable/"+f.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),u=!0,d=e.t1;case 36:e.prev=36,e.prev=37,l||null==m.return||m.return();case 39:if(e.prev=39,!u){e.next=42;break}throw d;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.next=46,gt();case 46:for(g=e.sent,y=!0,b=!1,v=void 0,e.prev=50,E=g[Symbol.iterator]();!(y=(x=E.next()).done);y=!0)1===(k=x.value).archived&&fetch(re+"/tradedetails/"+k.tradeid,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));e.next=58;break;case 54:e.prev=54,e.t2=e.catch(50),b=!0,v=e.t2;case 58:e.prev=58,e.prev=59,y||null==E.return||E.return();case 61:if(e.prev=61,!b){e.next=64;break}throw v;case 64:return e.finish(61);case 65:return e.finish(58);case 66:$e();case 67:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21],[28,32,36,44],[37,,39,43],[50,54,58,66],[59,,61,65]])})))).apply(this,arguments)}n(724);var kt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).indexValue=0,e}return Object(m.a)(t,e),t}(Object(x.a)(HTMLElement));customElements.define("index-element",kt);var wt=!1;function Ot(){document.getElementById("tradeinit").style.left="-200px",document.getElementById("maininit").style.left="10px"}function jt(){document.getElementById("tradealert").style.left="0px",document.getElementById("mainalert").style.left="210px"}function It(){document.getElementById("tradealert").style.left="-200px",document.getElementById("mainalert").style.left="10px"}function St(e,t){document.getElementById("tradewindow").style.left="0%",wt=e,document.getElementById("otheritems").innerHTML=t,document.getElementById("localitems").innerHTML=localStorage.getItem("username"),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="Trade"}function Ct(){document.getElementById("tradewindow").style.left="-100%",document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none"}function Tt(){return(Tt=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:t=e.sent,e.t0=h.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=17;break}if(n=e.t1.value,t[n].username!==localStorage.getItem("username")&&1!==t[n].admin){e.next=8;break}return e.abrupt("continue",4);case 8:try{document.getElementById("user_t"+n.toString()).remove()}catch(r){}(a=document.createElement("a")).id="user_t"+n.toString(),a.style.padding="0px 0px 5px 0px",a.innerHTML=t[n].username,a.onclick=function(){Le(this.innerHTML),Ot(),document.getElementById("ldsanim").style.display="inline-block",document.getElementById("maininit").innerHTML="Cancel"},document.getElementById("tradeusers").appendChild(a),e.next=4;break;case 17:document.getElementById("tradeusers").style.height="100px";case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.onbeforeunload=function(e){e.preventDefault(),qe();return(e=e||window.event)&&(e.returnValue="leave?"),"leave?"};var Bt=!1;function Nt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bt){e.next=3;break}return document.getElementById("tradeartworks").style.height="70px",e.abrupt("return");case 3:return e.next=5,nt();case 5:for(n in t=e.sent)t[n].owner==localStorage.getItem("username")&&((a=document.createElement("a")).id="art_t"+n.toString(),a.innerHTML=t[n].identifier,a.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(this.innerHTML.toString());case 2:return e.next=4,be();case 4:case"end":return e.stop()}}),e,this)}))),document.getElementById("tradeartworks").appendChild(a));document.getElementById("tradeartworks").style.height="70px",Bt=!0;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mt=0,Dt=[];function At(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(g.a)(h.a.mark((function e(t){var n,a,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dt=[],e.t0=h.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,e.t2=Dt,e.next=7,lt(t[n].offer);case 7:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=2;break;case 11:for(a=0;a<Mt;a++)try{document.getElementById("trade_l_t"+a.toString()).remove(),document.getElementById("trade_l_i"+a.toString()).remove()}catch(s){}for(n in document.getElementById("currentlocalg").innerHTML="Guilders: 0",document.getElementById("currentotherg").innerHTML="Guilders: 0",Mt=0,t)/^\d+$/.test(t[n].offer)?t[n].buyer==localStorage.getItem("username")?document.getElementById("currentotherg").innerHTML="Guilders:  "+t[n].offer:document.getElementById("currentlocalg").innerHTML="Guilders:  "+t[n].offer:(r=t[n].buyer==localStorage.getItem("username")?"otherartworks":"localartworks",(o=document.createElement("a")).id="trade_l_t"+n.toString(),o.innerHTML=t[n].offer,o.style.position="relative",document.getElementById(r).appendChild(o),(i=document.createElement("img")).id="trade_l_i"+n.toString(),i.style.width="200px",i.style.height="200px",i.style.position="relative",i.src=Dt[n].url,document.getElementById(r).appendChild(i),"localartworks"===r&&((c=document.createElement("index-element")).className="closebtnart",c.indexValue=n,c.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ie(t[this.indexValue].offer),e.next=3,be();case 3:case"end":return e.stop()}}),e,this)}))),c.innerHTML="x",o.appendChild(c))),Mt++;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rt=0,Ut=0;function Jt(e){for(var t=0;t<=Rt;t++)try{document.getElementById("trade_n"+t.toString()).remove(),document.getElementById("trade_ba"+t.toString()).remove(),document.getElementById("trade_bd"+t.toString()).remove(),document.getElementById("trade_d"+t.toString()).remove()}catch(c){}for(var n in Ut=0,Rt=0,e){var a=document.createElement("h1");a.id="trade_n"+n.toString(),a.className="tradealertdrop",a.innerHTML=e[n].buyer,document.getElementById("tradealert").appendChild(a);var r=document.createElement("button");r.id="trade_ba"+n.toString(),r.innerHTML="accept",r.className="requestbutton",r.onclick=function(){var t;Ve(e[parseInt(this.id[8])].tradeid),It(),St(!0,document.getElementById("trade_n"+this.id[8]).innerHTML),t=document.getElementById("trade_n"+this.id[8]).innerHTML,de=t,Pt(this.id[8])},document.getElementById("tradealert").appendChild(r);var o=document.createElement("div");o.id="trade_d"+n.toString(),document.getElementById("tradealert").appendChild(o);var i=document.createElement("button");i.id="trade_bd"+n.toString(),i.innerHTML="decline",i.className="requestbutton",i.onclick=function(){Ye(e[n].tradeid),Pt(parseInt(this.id[8]))},document.getElementById("tradealert").appendChild(i),Rt=n,Ut=n+1}0==Ut&&(document.getElementById("mainalert").style.display="none",It())}function Pt(e){try{document.getElementById("trade_n"+e.toString()).remove(),document.getElementById("trade_ba"+e.toString()).remove(),document.getElementById("trade_bd"+e.toString()).remove(),document.getElementById("trade_d"+e.toString()).remove(),0==--Ut&&(document.getElementById("mainalert").style.display="none",It())}catch(t){}}var Ft=!1;var _t=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"ldsanim",class:"lds-dual-ring"}),o.a.createElement("div",{id:"tradeinit",class:"sidebarinit"},o.a.createElement("a",{class:"closebtn",onClick:Ot},"\xd7"),o.a.createElement("button",{class:"dropbtn"},"Users"),o.a.createElement("div",{id:"tradeusers",class:"dropdown-content"})),o.a.createElement("button",{id:"maininit",class:"openbtninit",onClick:function(){document.getElementById("tradeinit").style.left="0px",document.getElementById("maininit").style.left="210px","Cancel"==document.getElementById("maininit").innerHTML.toString()&&(qe(),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="Trade"),function(){Tt.apply(this,arguments)}()}},"Trade"),o.a.createElement("div",{id:"tradewindow",class:"tradewin",display:"none"},o.a.createElement("div",{class:"centering"},o.a.createElement("a",{id:"localitems",class:"myuser"},"My Items"),o.a.createElement("div",{class:"addg"},o.a.createElement("a",null,"Guilders"),o.a.createElement("input",{id:"addguilders",type:"number"}),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(document.getElementById("addguilders").value);case 2:return e.next=4,be();case 4:case"end":return e.stop()}}),e)})))},"Add")),o.a.createElement("div",{class:"dropbtnArtworks",onClick:Nt},"Select Artworks to Trade...",o.a.createElement("div",{id:"tradeartworks",class:"dropdown-content-art"})),o.a.createElement("div",{id:"localguilders",class:"localg"},o.a.createElement("a",{id:"currentlocalg"},"Guilders: 0")),o.a.createElement("div",{id:"localartworks",class:"locala"}),o.a.createElement("a",{id:"confirmbutton",class:"localconfirm",onClick:function(){var e;wt?(e=!Ft,fetch(re+"/trades/"+ue,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerapproved:e})}).then((function(t){console.log(t),e?le=setInterval(ge,1e3):clearInterval(le)}))):function(e){console.log("setting approval"),console.log(e),fetch(re+"/trades/"+ue,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerapproved:e})}).then((function(t){console.log(t),e?le=setInterval(ge,1e3):clearInterval(le)}))}(!Ft),Ft?(document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none"):(document.getElementById("confirmbutton").innerHTML="Cancel Confirm",document.getElementById("ldsanim2").style.display="inline-block"),Ft=!Ft}},"Confirm Trade"),o.a.createElement("div",{id:"ldsanim2",class:"lds-dual-ring2"}),o.a.createElement("a",{class:"closebtn",onClick:function(){Ct(),qe()}},"Cancel"),o.a.createElement("a",{id:"otheritems",class:"otheruser"},"Other User"),o.a.createElement("div",{id:"otherguilders",class:"otherg"},o.a.createElement("a",{id:"currentotherg"},"Guilders: 0")),o.a.createElement("div",{id:"otherartworks",class:"othera"}))),o.a.createElement("div",{id:"tradealert",class:"sidebaralert"},o.a.createElement("a",{class:"closebtn",onClick:It},"\xd7")),o.a.createElement("button",{id:"mainalert",class:"openbtnalert",onClick:jt},"Trade Request"))}}]),t}(o.a.PureComponent),Gt=n(30),Vt=n(852);n(853),n(854),Object(Vt.a)((function(e){return{typography:{padding:e.spacing(2)}}}));n(136);var zt=n(78),Yt=n.n(zt),Wt=n(412),qt=n.n(Wt),Xt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).rows=[],n.read=!1,n.tradeid=e.identifier,n.divid="TradeDropdown"+e.identifier,n.getRows=n.getRows.bind(Object(R.a)(n)),n.raiseTable=n.raiseTable.bind(Object(R.a)(n)),n.getRows(),n.state={columns:[{title:"Buyer",field:"buyer"},{title:"Seller",field:"seller"},{title:"Offer",field:"offer"}],data:n.rows},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rows=[],e.next=3,gt();case 3:for(t=e.sent,n=!0,a=!1,r=void 0,e.prev=7,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)1===(c=i.value).archived&&c.tradeid===this.tradeid&&this.rows.push(c);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,r=e.t0;case 15:e.prev=15,e.prev=16,n||null==o.return||o.return();case 18:if(e.prev=18,!a){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:this.state.data=this.rows,this.read=!0,this.forceUpdate();case 26:case"end":return e.stop()}}),e,this,[[7,11,15,23],[16,,18,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="Trade Details for "+this.tradeid;return o.a.createElement("div",{id:this.divid,class:"tradeTableDropdown"},o.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),o.a.createElement("p",null,"\xa0"),this.read?o.a.createElement(Yt.a,{title:e,columns:this.state.columns,data:this.state.data,options:{rowStyle:{"z-index":3}}}):o.a.createElement("h1",null,"loading..."))}}]),t}(o.a.Component),Kt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).rows=[],n.read=!1,n.tradetables=[],n.getRows=n.getRows.bind(Object(R.a)(n)),n.lowerTable=n.lowerTable.bind(Object(R.a)(n)),n.raiseTable=n.raiseTable.bind(Object(R.a)(n)),n.render=n.render.bind(Object(R.a)(n)),n.divid=n.props.identifier+"HistoryDropdown",n.getRows(),n.state={columns:[{title:"Date",field:"timestamp"},{title:"Buyer",field:"buyer"},{title:"Seller",field:"seller"},{title:"Selling Price",field:"price",type:"numeric"}],data:n.rows},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(this.props.identifier);case 2:for(t=e.sent,n=0;n<t.length;n++)t[n].timestamp=new Date(t[n].timestamp).toLocaleString(),null!==t[n].tradeid?(t[n].tradetableid="TradeDropdown"+t[n].tradeid,this.tradetables.push(t[n].tradeid)):t[n].tradetableid=null,this.rows.push(t[n]);this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return e.timestamp[0]>t.timestamp[0]?1:-1})),this.read=!0,this.forceUpdate();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e='History for "'+this.props.identifier+'"';return o.a.createElement("div",null,o.a.createElement(b.a,{onClick:this.lowerTable},o.a.createElement("i",null,"History")),o.a.createElement("div",{id:this.divid,class:"galleryDropdown"},o.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),o.a.createElement("p",null,"\xa0"),this.read?o.a.createElement(Yt.a,{title:e,columns:this.state.columns,data:this.state.data,actions:[{icon:qt.a,tooltip:"Trade Information",onClick:function(e,t){null!==t.tradetableid?document.getElementById(t.tradetableid).style.top="0px":alert("No trade information found.")}}]}):o.a.createElement("h1",null,"loading..."),this.tradetables.map((function(e){return o.a.createElement(Xt,{identifier:e})}))))}}]),t}(o.a.Component),$t=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).rows=[],n.read=!1,n.getRows=n.getRows.bind(Object(R.a)(n)),n.lowerTable=n.lowerTable.bind(Object(R.a)(n)),n.raiseTable=n.raiseTable.bind(Object(R.a)(n)),n.divid=n.props.identifier+"MicroresearchDropdown",n.getRows(),n.state={columns:[{title:"User",field:"username"},{title:"Microresearch",field:"information"},{title:"Timestamp",field:"timestamp"}],data:n.rows},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rows=[],e.next=3,pt(this.props.identifier);case 3:for(t=e.sent,n=!0,a=!1,r=void 0,e.prev=7,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)(c=i.value).identifier===this.props.identifier&&(c.timestamp=new Date(c.timestamp).toLocaleString(),this.rows.push(c));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,r=e.t0;case 15:e.prev=15,e.prev=16,n||null==o.return||o.return();case 18:if(e.prev=18,!a){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return new Date(e.date)>new Date(t.date)?1:-1})),this.read=!0,this.forceUpdate();case 28:case"end":return e.stop()}}),e,this,[[7,11,15,23],[16,,18,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e='Microresearch for "'+this.props.identifier+'"';return o.a.createElement("div",null,o.a.createElement(b.a,{onClick:this.lowerTable},o.a.createElement("i",null,"Show Microresearch")),o.a.createElement("div",{id:this.divid,class:"galleryDropdown"},o.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),o.a.createElement("p",null,"\xa0"),this.read?o.a.createElement(Yt.a,{title:e,columns:this.state.columns,data:this.state.data}):o.a.createElement("h1",null,"loading...")))}}]),t}(o.a.Component),Qt=[];function Zt(){document.getElementById("galleryview").style.left="-200px",document.getElementById("gallerybutton").style.left="10px"}function en(){document.getElementById("gallerydropdown").style.top="-600px"}var tn,nn,an=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),Qt=[],n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getBlurb",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t);case 2:n=(n=e.sent)[0],console.log(n.blurb),document.getElementById("othergalleryblurb").innerHTML=n.blurb;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expandUsers",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:n=e.sent,e.t0=h.a.keys(n);case 4:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,n[a].username!==localStorage.getItem("username")&&1!==n[a].admin){e.next=8;break}return e.abrupt("continue",4);case 8:try{document.getElementById("user_gt"+a.toString()).remove()}catch(o){}(r=document.createElement("a")).id="user_gt"+a.toString(),r.style.padding="0px 0px 5px 0px",r.innerHTML=n[a].username,r.onclick=function(){t.getTileData(this.innerHTML),Zt(),document.getElementById("gallerydropdown").style.top="50px"},document.getElementById("galleryusers").appendChild(r),e.next=4;break;case 17:document.getElementById("galleryusers").style.height="100px";case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTileData",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qt=[],e.next=3,nt();case 3:for(a in n=e.sent)n[a].owner==t&&Qt.push({img:n[a].url,identifier:n[a].identifier,title:n[a].title,artist:n[a].artist,year:n[a].year});this.getBlurb(t),this.forceUpdate(),document.getElementById("subgalleryname").innerHTML=t+"'s Gallery";case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{id:"galleryview",class:"sidebarinit"},o.a.createElement("a",{class:"closebtn",onClick:Zt},"\xd7"),o.a.createElement("button",{class:"dropbtn"},"Users"),o.a.createElement("div",{id:"galleryusers",class:"dropdown-content"})),o.a.createElement("a",{id:"gallerybutton",class:"galleryButton",onClick:function(){document.getElementById("galleryview").style.left="0px",document.getElementById("gallerybutton").style.left="210px",e.expandUsers(e)}},"View Galleries")),o.a.createElement("div",{id:"gallerydropdown",class:"galleryDropdown"},o.a.createElement("a",{class:"closebtn",onClick:en},"\xd7"),o.a.createElement(v.a,{id:"subgalleryname",fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery"),o.a.createElement("div",null,o.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},Qt.map((function(e){return o.a.createElement("div",{style:{padding:10}},o.a.createElement("img",{src:e.img,alt:e.title,height:500}),o.a.createElement(E.a,{style:{padding:10}},o.a.createElement(v.a,{variant:"h6",fontFamily:"roboto"},e.title),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto"},"Artist: ",e.artist),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto"},"Year: ",e.year)))}))),o.a.createElement("div",{style:{padding:10}},o.a.createElement(v.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Gallery Announcements"),o.a.createElement("h1",{style:{textAlign:"center"},id:"othergalleryblurb"})))))}}]),t}(r.Component),rn=(n(802),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"notification",className:"notification"},"notification")}}]),t}(o.a.PureComponent)),on=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).lowerTable=n.lowerTable.bind(Object(R.a)(n)),n.raiseTable=n.raiseTable.bind(Object(R.a)(n)),n.submitMicroresearch=n.submitMicroresearch.bind(Object(R.a)(n)),n.textid=n.props.identifier+"MicroresearchPromptText",n.divid=n.props.identifier+"MicroresearchPromptDropdown",n.identifier=n.props.identifier,n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"submitMicroresearch",value:function(){!function(e){ht.apply(this,arguments)}({username:localStorage.getItem("username"),identifier:this.identifier,information:document.getElementById(this.textid).value,timestamp:new Date}),document.getElementById(this.divid).style.top="-600px",setTimeout((function(){window.location.reload()}),500)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b.a,{onClick:this.lowerTable},o.a.createElement("i",null,"Add Microresearch...")),o.a.createElement("div",{id:this.divid,class:"galleryDropdown"},o.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),o.a.createElement("p",null,"\xa0"),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h1",null,'Add Microresearch for "',this.identifier,'"'),o.a.createElement("textarea",{style:{width:400,height:300},id:this.textid,multiline:"true"})),o.a.createElement("button",{onClick:this.submitMicroresearch,style:{margin:"auto",display:"block"}},"Submit")))}}]),t}(o.a.Component),cn=(n(350),[]),sn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tileData:[]},n.getArtworks(),n.checkIfDone(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"OnComponentDidMount",value:function(){this.checkIfDone()}},{key:"getArtworks",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return t=e.sent,e.next=5,t.json();case 5:for(n in t=e.sent)1===t[n].rateable&&cn.push({img:t[n].url,title:t[n].title,artist:t[n].artist,identifier:t[n].identifier});this.forceUpdate();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkIfDone",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:for(n in t=e.sent)t[n].username===localStorage.getItem("username")&&0===t[n].formcompleted&&(document.getElementById("ratingbutton").style.display="inline-block");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(v.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Estimated Values"),o.a.createElement("form",null,cn.map((function(e){return o.a.createElement(J.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},o.a.createElement("img",{src:e.img,alt:e.title,height:300,style:{alignItem:"center"}}),o.a.createElement(E.a,{style:{padding:10}},o.a.createElement(v.a,{variant:"h6",fontFamily:"roboto",style:{textAlign:"left",marginLeft:20}},e.title),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto",style:{marginLeft:20}},"By: ",e.artist),o.a.createElement("div",{style:{margin:20}},o.a.createElement("label",null,"Estimated Value (1-10):",o.a.createElement("br",null),o.a.createElement("input",{id:"rate"+e.identifier,type:"number",name:"lname",min:"1",max:"10",maxlength:"2"}),o.a.createElement("br",null)),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("div",{style:{paddingTop:5,position:"relative",alignSelf:"right",justifyContent:"flex-end"}})))})),o.a.createElement(J.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},o.a.createElement("div",null,o.a.createElement(b.a,{size:"large",variant:"contained",color:"secondary",type:"submit",value:"Submit",style:{fontSize:20,backgroundColor:"#002f86",alignItem:"center",margin:20},onClick:Object(g.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,e.t0=h.a.keys(t);case 7:if((e.t1=e.t0()).done){e.next=18;break}return n=e.t1.value,a=document.getElementById("rate"+t[n].identifier),r=a.value,console.log("Before:"+r),a.value>10?r=10:a.value<1&&(r=1),console.log("After:"+r),e.next=16,fetch("http://fantasycollecting.hamilton.edu/api/ratetable/",{method:"post",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({identifier:t[n].identifier,price:r})});case 16:e.next=7;break;case 18:return e.next=20,fetch("http://fantasycollecting.hamilton.edu/api/users/"+localStorage.getItem("username"),{method:"put",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({formcompleted:1})});case 20:document.getElementById("ratingpage").style.left="-100%",document.getElementById("ratingbutton").style.display="none";case 22:case"end":return e.stop()}}),e)})))},"SUBMIT FORM")," "))))}}]),t}(o.a.Component),ln=(n(803),[]),un=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),ln=[],n.getTileData(),n.getBlurb(),document.body.className="gallery",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getTileData",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:for(n in t=e.sent,console.log(t),t)t[n].owner===localStorage.getItem("username")&&1!==t[n].hidden&&ln.push({img:t[n].url,identifier:t[n].identifier,title:t[n].title,artist:t[n].artist,year:t[n].year});console.log("got artworks"),this.forceUpdate();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlurb",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("username"),e.next=3,Qe(t);case 3:n=(n=e.sent)[0],document.getElementById("galleryblurb").value=n.blurb;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveBlurb",value:function(){!function(e,t){Et.apply(this,arguments)}(localStorage.getItem("username"),document.getElementById("galleryblurb").value)}},{key:"openForm",value:function(){document.getElementById("ratingpage").style.left="0%"}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(ae,null)),o.a.createElement("div",null,o.a.createElement(an,null)),o.a.createElement("div",null,o.a.createElement(_t,null))),o.a.createElement(v.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery"),o.a.createElement("div",null,o.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},ln.map((function(e){return o.a.createElement("div",{style:{padding:10}},o.a.createElement("img",{src:e.img,alt:e.title,height:500}),o.a.createElement(E.a,{style:{padding:10}},o.a.createElement(v.a,{variant:"h6",fontFamily:"roboto"},e.title),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto"},"Artist: ",e.artist),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto"},"Year: ",e.year),o.a.createElement(Kt,{identifier:e.identifier}),o.a.createElement($t,{identifier:e.identifier}),o.a.createElement(on,{identifier:e.identifier})))}))),o.a.createElement("br",null),o.a.createElement(v.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery Announcements"),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("textarea",{style:{width:"50%",height:100},id:"galleryblurb",multiline:"true"})),o.a.createElement(b.a,{style:{margin:"auto",display:"block"},onClick:this.saveBlurb},"Save")),o.a.createElement("button",{id:"ratingbutton",onClick:function(){e.openForm()},className:"openFormButton"},"Rate Artworks"),o.a.createElement("div",{id:"ratingpage",style:{overflowX:"hidden",color:"white",zIndex:1e4,backgroundColor:"rgba(0, 0, 0, .7)",position:"absolute",top:"0px",width:"100%",left:"-100%",transition:"1s"}},o.a.createElement(sn,null)))}}]),t}(r.Component),dn=n(859),mn=n(368),pn=n(192),fn=n(387),hn=n(413),gn=n.n(hn),yn=(n(140),o.a.Component,n(804),Object(Vt.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}})));function bn(){var e=yn();return o.a.createElement("div",{className:e.root},o.a.createElement(dn.a,{position:"static",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting"))))}var vn=n(115),En=n(18),xn=n(366),kn=n(62),wn=n.n(kn);function On(e){var t=o.a.useState(null),n=Object(Gt.a)(t,2),a=n[0],r=n[1],i=function(){r(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:i},e.mode?o.a.createElement(En.b,{to:"/auction",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){i(),qe()}},"Auction")):o.a.createElement(En.b,{to:"/gallery",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){i(),qe()}},"My Gallery")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}var jn=n(206),In=n.n(jn),Sn=0;console.log(Sn);var Cn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={guilders:0},n.getGuilders=n.getGuilders.bind(Object(R.a)(n)),n.getGuilders(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getGuilders",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(localStorage.getItem("username"));case 2:t=e.sent,this.setState({guilders:t[0].guilders}),this.guilders=t[0].guilders,console.log("GUILDERS IS IT HERE"),console.log(Sn);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},o.a.createElement(y.a,{justify:"space-between",container:!0,spacing:1},o.a.createElement(y.a,{item:!0,xs:"90%"},o.a.createElement(On,{mode:!0})),o.a.createElement(y.a,{item:!0,xs:!0},o.a.createElement(v.a,{variant:"h6",color:"inherit",style:{marginTop:9}},"Fantasy Collecting -\xa0",localStorage.getItem("username"))),o.a.createElement(y.a,{item:!0,xs:!0},o.a.createElement(v.a,{variant:"h6",style:{float:"right",marginTop:10}},o.a.createElement("img",{src:In.a,height:"20",width:"20"}),"  ",this.state.guilders))))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(un,null))}}]),t}(r.Component),Tn=n(16);function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(n,!0).forEach((function(t){Object(Tn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln=[],Mn=!1,Dn={columns:[{title:"Username",field:"username"},{title:"Password",field:"hash"},{title:"Name",field:"name"},{title:"Admin?",field:"admin",type:"numeric"},{title:"Completed form?",field:"formcompleted",type:"numeric"},{title:"Guilders",field:"guilders",type:"numeric"},{title:"Microresearch Points",field:"microresearchpoints",type:"numeric"},{title:"Blurb",field:"blurb"}],data:Ln},An=new G.a({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",key:"32b71a31-bcc2-4750-9cff-59640b74814e:hQq+MMcoDqpXgMK0aPNPcm8uFHFDRmNDWcYNeiP2Zjg="}),Hn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getRows(),n.state=Dn,document.body.className="background",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createUser",value:function(e){var t=this;An.createUser({id:e,name:e}).then((function(n){t.setState({currentUsername:e,currentId:e,currentView:"chatApp"})})).catch((function(n){400===n.status?t.setState({currentUsername:e,currentId:e,currentView:"chatApp"}):console.log(n.status)}))}},{key:"getRows",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ln=[],e.next=3,et();case 3:for(t=e.sent,n=!0,a=!1,r=void 0,e.prev=7,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)c=i.value,s={username:c.username,hash:"*****",name:c.name,admin:c.admin,formcompleted:c.formcompleted,guilders:c.guilders,microresearchpoints:c.microresearchpoints,blurb:c.blurb},Ln.push(s);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,r=e.t0;case 15:e.prev=15,e.prev=16,n||null==o.return||o.return();case 18:if(e.prev=18,!a){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:this.state.data=Ln,this.state.data=this.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),Mn=!0,this.forceUpdate();case 28:case"end":return e.stop()}}),e,this,[[7,11,15,23],[16,,18,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"hidePasswords",value:function(){for(var e in this.state.data)this.state.data[e].hash="*****"}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,Mn?o.a.createElement(Yt.a,{title:"Users",columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),function(e){ot.apply(this,arguments)}(t),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Nn({},e.state,{},e.state.data)),e.createUser(t.username),e.forceUpdate()}),600)}))},onRowUpdate:function(t,n){return new Promise((function(a){setTimeout((function(){a(),e.state.data=e.state.data.filter((function(e,t,a){return a[t].username!==n.username})),function(e){rt.apply(this,arguments)}(t),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Nn({},e.state,{},e.state.data)),e.forceUpdate()}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){var a;n(),e.state.data=e.state.data.filter((function(e,n,a){return a[n].username!==t.username})),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Nn({},e.state,{},e.state.data)),a=t.username,fetch(re+"/users/"+a,{method:"delete",mode:"cors"}).then((function(e){console.log(e)})),e.forceUpdate()}),600)}))}}}):o.a.createElement("h1",null,"loading...")," ")}}]),t}(o.a.Component);n(806);function Rn(e){e.preventDefault(),e.stopPropagation()}function Un(e){!function(e){Object(H.a)(e).forEach(Jn)}(e.dataTransfer.files)}function Jn(e){var t=new XMLHttpRequest,n=new FormData;t.open("POST","http://fantasycollecting.hamilton.edu/api/upload",!0),t.addEventListener("readystatechange",(function(n){if(4===t.readyState&&200===t.status){if(console.log("IMAGE SAVED"),document.getElementById("status").innerHTML=t.responseText,window.confirm("Upload successful! Do you want to turn this photo into an artwork for the game?")){var a=e.name;it({identifier:a=(a=a.replace(/\.[^/.]+$/,"")).toLowerCase(),url:"http://fantasycollecting.hamilton.edu/static/media/"+e.name}),setTimeout((function(){window.location.reload()}),500)}}else 4===t.readyState&&200!==t.status&&(console.log("IMAGE UPLOAD FAILED"),document.getElementById("status").innerHTML="Something went wrong. Try uploading again.")})),n.append("file",e),t.send(n)}var Pn=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setUpDrop(),this.getAllImages();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllImages",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("imagebank"),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/upload");case 3:return n=e.sent,e.next=6,n.json();case 6:for(a in n=e.sent,console.log(n),n.photos)console.log(n.photos[a]),(r=document.createElement("p")).style.backgroundImage="url('http://fantasycollecting.hamilton.edu/static/media/"+n.photos[a]+"')",r.style.width="200px",r.style.height="200px",r.style.backgroundSize="100%",r.style.objectFit="contain",r.style.display="inline-block",r.style.padding="10px",(o=document.createElement("h1")).innerHTML=n.photos[a],o.style.backgroundColor="rgba(0, 0, 0, .5)",o.style.borderRadius="5px",o.style.color="white",o.style.width="180px",o.style.padding="5px",r.appendChild(o),t.append(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setUpDrop",value:function(){var e=document.getElementById("drop-area");function t(t){e.classList.add("highlight")}function n(t){e.classList.remove("highlight")}["dragenter","dragover","dragleave","drop"].forEach((function(t){e.addEventListener(t,Rn,!1)})),["dragenter","dragover"].forEach((function(n){e.addEventListener(n,t,!1)})),["dragleave","drop"].forEach((function(t){e.addEventListener(t,n,!1)})),e.addEventListener("drop",Un,!1)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"drop-area"},o.a.createElement("form",{className:"my-form"},o.a.createElement("p",null,"Upload multiple files by dragging and dropping images onto the dashed region."),o.a.createElement("br",null),o.a.createElement("i",{id:"status"}))),o.a.createElement("div",{id:"imagebank",style:{padding:"10px",overflowX:"wrap",backgroundColor:"rgba(255, 255, 255, .9)"}}))}}]),t}(o.a.Component);function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(n,!0).forEach((function(t){Object(Tn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=[],Vn=!1,zn={columns:[{title:"Identifier",field:"identifier"},{title:"Title",field:"title"},{title:"Artist",field:"artist"},{title:"Year",field:"year",type:"numeric"},{title:"Theoretical Price",field:"theoreticalprice",type:"numeric"},{title:"Actual Price",field:"actualprice",type:"numeric"},{title:"Rateable?",field:"rateable"},{title:"Owner",field:"owner"},{title:"URL",field:"url"}],data:Gn},Yn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getRows(),n.state=zn,document.body.className="background",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getRows",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn=[],e.next=3,nt();case 3:for(t=e.sent,n=!0,a=!1,r=void 0,e.prev=7,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)c=i.value,Gn.push(c);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,r=e.t0;case 15:e.prev=15,e.prev=16,n||null==o.return||o.return();case 18:if(e.prev=18,!a){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:this.state.data=Gn,this.state.data=this.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),Vn=!0,this.forceUpdate();case 28:case"end":return e.stop()}}),e,this,[[7,11,15,23],[16,,18,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,Vn?o.a.createElement("div",null,o.a.createElement(Yt.a,{title:"Artworks",columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(_n({},e.state,{},e.state.data)),it(t),e.forceUpdate()}),600)}))},onRowUpdate:function(t,n){return new Promise((function(a){setTimeout((function(){a(),e.state.data=e.state.data.filter((function(e,t,a){return a[t].title!==n.title})),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(_n({},e.state,{},e.state.data)),function(e){st.apply(this,arguments)}(t),e.forceUpdate()}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){var a;n(),e.state.data=e.state.data.filter((function(e,n,a){return a[n].title!==t.title})),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(_n({},e.state,{},e.state.data)),a=t.identifier,fetch(re+"/artworks/"+a,{method:"delete",mode:"cors"}).then((function(e){console.log(e)})),e.forceUpdate()}),600)}))}}}),o.a.createElement(Pn,null)):o.a.createElement("h1",null,"loading...")," ")}}]),t}(o.a.Component);var Wn=function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},o.a.createElement(En.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Admin Homepage")),o.a.createElement(En.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Artworks")),o.a.createElement(En.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Auction")),o.a.createElement(En.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Trades")),o.a.createElement(En.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Ratings")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting"))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Hn,null))},qn=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Page Not Found."))},Xn=n(388),Kn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).logBackInUser=Object(g.a)(h.a.mark((function e(){var t,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("username"),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,"undefined"===typeof(o=JSON.parse(JSON.stringify(r))[0])?localStorage.clear():1===o.admin?n.setState({gotoadmin:!0}):n.setState({gotostudent:!0});case 9:case"end":return e.stop()}}),e)}))),n.logInUser=Object(g.a)(h.a.mark((function e(){var t,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("liusername").value,e.next=3,fetch(re+"/users/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,"undefined"===typeof(o=JSON.parse(JSON.stringify(r))[0])?alert("Username or password are incorrect. Please try again with correct credentials."):o.hash!==B(document.getElementById("lipassword").value)?(console.log(o.hash),console.log(B(document.getElementById("lipassword").value)),alert("Username or password are incorrect. Please try again with correct credentials.")):(console.log("login successful"),localStorage.setItem("username",document.getElementById("liusername").value),localStorage.setItem("admin",o.admin),1===o.admin?n.setState({gotoadmin:!0}):(console.log("changing state"),n.setState({gotostudent:!0})));case 9:case"end":return e.stop()}}),e)}))),n.state={values:{username:"",password:"",gotoadmin:!1,gotostudent:!1}},n.handleChange=n.handleChange.bind(Object(R.a)(n)),document.body.className="background","undefined"!==localStorage.getItem("username")&&n.logBackInUser(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({username:e.target.username}),this.setState({password:e.target.password})}},{key:"redirectToPage",value:function(){return this.state.gotoadmin?o.a.createElement(vn.a,{to:"/admin"}):o.a.createElement(vn.a,{to:"/gallery"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null," ",this.state.gotoadmin||this.state.gotostudent?o.a.createElement("div",null,this.redirectToPage()):o.a.createElement("div",{className:"Login"},o.a.createElement(bn,null),o.a.createElement(J.a,{style:{flexDirection:"row",justifyContent:"center"}},o.a.createElement(E.a,{style:{width:300,marginTop:30}},o.a.createElement("h1",{style:{textAlign:"center",color:"black",marginTop:20}},"Login"),o.a.createElement("div",{style:{alignItems:"center",textAlign:"center"}},o.a.createElement("div",null,o.a.createElement(Xn.a,{id:"liusername",label:"Username",margin:"normal",variant:"outlined",value:this.state.username,onChange:this.handleChange})),o.a.createElement("div",null,o.a.createElement(Xn.a,{id:"lipassword",label:"Password",margin:"normal",variant:"outlined",type:"password",value:this.state.password,onChange:this.handleChange})),o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,backgroundColor:"#002f86"},onClick:function(){return e.logInUser()}},"Log In"))))))}}]),t}(o.a.Component);console.log(window.location),null!==localStorage.getItem("username")&&window.location.pathname;var $n=Kn;function Qn(e,t,n){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(g.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/"+n,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({deadline:null,highestbid:a,username:t})}).then((function(e){pe("posted bid of "+a+" on "+n)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){pe("deleted lot "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e){return aa.apply(this,arguments)}function aa(){return(aa=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){pe("deleted auction "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(){return oa.apply(this,arguments)}function oa(){return(oa=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/",{method:"get",mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(){return ca.apply(this,arguments)}function ca(){return(ca=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/",{method:"get",mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t,n){return la.apply(this,arguments)}function la(){return(la=Object(g.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupid:n,identifier:t,date:a})}).then((function(e){pe("created auction "+n+" with name "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t,n,a){return da.apply(this,arguments)}function da(){return(da=Object(g.a)(h.a.mark((function e(t,n,a,r){var o,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra();case 2:o=e.sent,e.t0=h.a.keys(o);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(i=e.t1.value,o[i].number.toString()!==t.toString()||o[i].identifier.toString()!==n.toString()){e.next=9;break}return pe("artwork "+n+" already exists in this auction"),e.abrupt("return");case 9:e.next=4;break;case 11:for(s in c="sjarosi",r)r[s].identifier===n&&(c=r[s].owner);return e.next=15,fetch("http://fantasycollecting.hamilton.edu/api/auction/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:n,number:t,highestbid:0,username:c,deadline:null,groupid:null,lotessay:a})}).then((function(){pe("created lot "+t+" with name "+n)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t,n,a){return pa.apply(this,arguments)}function pa(){return(pa=Object(g.a)(h.a.mark((function e(t,n,a,r){var o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("http://fantasycollecting.hamilton.edu/api/artworks/".concat(t),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:n,actualprice:r})}).then((function(e){})),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"get",mode:"cors"});case 3:return o=e.sent,e.next=6,o.json();case 6:return(o=(o=e.sent)[0]).guilders-=r,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),e.next=12,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(a),{method:"get",mode:"cors"});case 12:return i=e.sent,e.next=15,i.json();case 15:(i=(i=e.sent)[0]).guilders+=r,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(a),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),c={identifier:t,seller:"sjarosi",buyer:n,price:r,timestamp:new Date},fetch("http://fantasycollecting.hamilton.edu/api/history/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(807);var fa,ha,ga=[];function ya(){document.getElementById("createauctiondropdown").style.top="-200px"}function ba(){document.getElementById("addauctiondropdown").style.display="none"}function va(){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(document.getElementById("auctionname").value,Date.now().toString(),null);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(){return ka.apply(this,arguments)}function ka(){return(ka=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.t1=fa,e.t2=document.getElementById("addlotname").innerHTML,e.t3=document.getElementById("addlotessay").value,e.next=6,nt();case 6:return e.t4=e.sent,e.next=9,e.t0.createLot.call(e.t0,e.t1,e.t2,e.t3,e.t4);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(){return(wa=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:for(n in t=e.sent)(a=document.createElement("p")).innerHTML=t[n].identifier,a.onclick=function(){document.getElementById("addlotname").innerHTML=this.innerHTML,document.getElementById("addlotname").style.height="20px"},document.getElementById("addlotname").appendChild(a);document.getElementById("addlotname").style.height="100px";case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),document.body.className="gallery",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadAuctions()}},{key:"loadAuctions",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in ga)try{document.getElementById(ga[t]).remove()}catch(o){}return ga=[],e.next=4,ia();case 4:return n=e.sent,e.next=7,ra();case 7:a=e.sent,e.t0=h.a.keys(n);case 9:if((e.t1=e.t0()).done){e.next=15;break}return r=e.t1.value,e.next=13,this.loadLots(n[r].identifier,n[r].groupid,a,this);case 13:e.next=9;break;case 15:this.forceUpdate();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLots",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n,a,r){var o,i,c,s,l,u,d,m,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=document.createElement("p")).id="titlenode"+n,o.innerHTML=t,document.getElementById("auctions").append(o),o.style.color="white",o.style.backgroundColor="#002f86",o.style.width="auto",o.style.borderRadius="5px",o.style.width="20%",o.style.padding="5px",(i=document.createElement("div")).className="auctionscroll",i.id="auctionscroll"+n.toString(),document.getElementById("auctions").append(i),document.getElementById("auctions").append(document.createElement("br")),ga.push(i.id),ga.push(o.id),c=-1,s=h.a.mark((function e(t){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t].number==n){e.next=2;break}return e.abrupt("return","continue");case 2:return c++,e.next=5,lt(a[t].identifier);case 5:o=e.sent,u=i,(d=document.createElement("button")).innerHTML="Delete Lot",d.style.position="absolute",d.style.left=(550*c).toString()+"px",d.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a[t].identifier),e.next=3,ea(a[t].identifier);case 3:r.loadAuctions();case 4:case"end":return e.stop()}}),e)}))),u.appendChild(d),(m=document.createElement("img",{is:"lot-image"})).id="auction_pic"+t.toString(),m.index=c,m.src=o.url,m.style.left=(10+550*c).toString()+"px",m.onclick=function(){document.getElementById("lotdropdown").style.top="50px",document.getElementById("lotnumber").innerHTML="LOT "+this.index.toString(),document.getElementById("lotimage").src=this.src,document.getElementById("lotinfo").innerHTML="<pre>INFO:\n\nTITLE:  "+o.title+"\n\nARTIST:  "+o.artist+"\n\nYEAR:  "+o.year+"\n\nOWNER:  "+o.owner+"\n\nCURRENT HIGHEST BID:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(document.getElementById("lotinfo").innerHTML+="<pre>(you)</pre>"),document.getElementById("lotessay").innerHTML=a[t].lotessay,ha=a[t].identifier},u.appendChild(m),(p=document.createElement("a")).innerHTML="<pre>LOT "+c.toString()+"\n\nTITLE:  "+o.title+"\n\nARTIST:  "+o.artist+"\n\nYEAR:  "+o.year+"\n\nOWNER:  "+o.owner+"\n\nCURRENT HIGHEST BID:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(p.innerHTML+="<pre>(you)</pre>"),p.style.left=(250+550*c).toString()+"px",u.appendChild(p);case 25:case"end":return e.stop()}}),e)})),e.t0=h.a.keys(a);case 20:if((e.t1=e.t0()).done){e.next=28;break}return l=e.t1.value,e.delegateYield(s(l),"t2",23);case 23:if("continue"!==e.t2){e.next=26;break}return e.abrupt("continue",20);case 26:e.next=20;break;case 28:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"confirmBid",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra();case 2:t=e.sent,e.t0=h.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=24;break}if(n=e.t1.value,t[n].identifier!==ha){e.next=22;break}if(!(parseInt(document.getElementById("userbid").value)<=parseInt(t[n].highestbid))){e.next=10;break}return pe("bid must be higher than previous bid"),e.abrupt("return");case 10:return e.next=12,et();case 12:a=e.sent,e.t2=h.a.keys(a);case 14:if((e.t3=e.t2()).done){e.next=22;break}if(r=e.t3.value,a[r].username!==localStorage.getItem("username")){e.next=20;break}if(!(parseInt(document.getElementById("userbid").value)>a[r].guilders)){e.next=20;break}return pe("you do not have enough guilders to post this bid"),e.abrupt("return");case 20:e.next=14;break;case 22:e.next=4;break;case 24:return e.next=26,Qn(localStorage.getItem("username"),ha,document.getElementById("userbid").value);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(an,null)),o.a.createElement("div",null,o.a.createElement(_t,null)),o.a.createElement("div",{id:"lotdropdown",className:"lotdropdown"},o.a.createElement("a",{onClick:function(){document.getElementById("lotdropdown").style.top="-600px"},style:{position:"absolute",top:"15px",right:"20px",fontSize:"20px",cursor:"pointer"}},"x"),o.a.createElement("a",{id:"lotnumber",style:{position:"absolute",top:"20px",left:"40px",fontSize:"30px"}},"LOT X"),o.a.createElement("img",{id:"lotimage",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"40px"}}),o.a.createElement("a",{id:"lotinfo",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"300px",overflowX:"wrap",overflowY:"auto"}},"INFO"),o.a.createElement("p",{id:"lotdropdowninfo"}),o.a.createElement("a",{style:{position:"absolute",top:"400px",left:"50px",fontSize:"30px"}},"LOT ESSAY"),o.a.createElement("p",{id:"lotessay",style:{position:"absolute",height:"100px",width:"500px",objectFit:"contain",top:"450px",left:"40px",overflowX:"wrap",overflowY:"auto"}}),o.a.createElement("input",{id:"userbid",type:"number",style:{position:"absolute",top:"300px",left:"380px"}}),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.confirmBid();case 2:return t.next=4,e.loadAuctions();case 4:document.getElementById("lotdropdown").style.top="-600px";case 5:case"end":return t.stop()}}),t)}))),style:{position:"absolute",top:"320px",left:"420px"}},"Place Bid")),o.a.createElement("div",{className:"stitle"},o.a.createElement("a",null,"Auctions")),o.a.createElement("div",{id:"createauctiondropdown",className:"createdropdown"},o.a.createElement("a",{onClick:ya,style:{position:"absolute",top:"5px",left:"10px",cursor:"pointer"}},"x"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",null,"create auction"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",null,"auction name"),o.a.createElement("br",null),o.a.createElement("input",{id:"auctionname",type:"text"}),o.a.createElement("br",null),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ya(),t.next=3,va();case 3:e.loadAuctions();case 4:case"end":return t.stop()}}),t)})))},"submit")),o.a.createElement("div",{id:"addauctiondropdown",style:{display:"none",backgroundColor:"rgba(0, 0, 0, .7)",position:"fixed",borderRadius:"10px",top:"30%",left:"30%",width:"40%",height:"40%",zIndex:1,color:"white",textAlign:"center",alignContent:"center"}},o.a.createElement("br",null),o.a.createElement("p",{id:"addlotname",className:"addlotdrop",onClick:function(){!function(){wa.apply(this,arguments)}()}},"select artwork"),o.a.createElement("br",null),o.a.createElement("a",null,"lot essay"),o.a.createElement("br",null),o.a.createElement("textarea",{id:"addlotessay",type:"text",style:{height:"20%",width:"80%"}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ba();case 2:return t.next=4,xa();case 4:e.loadAuctions();case 5:case"end":return t.stop()}}),t)})))},"submit"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:ba},"cancel")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{id:"auctions"}),o.a.createElement("br",null),o.a.createElement("br",null))}}]),t}(o.a.Component),ja=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={guilders:0},n.getGuilders=n.getGuilders.bind(Object(R.a)(n)),n.getGuilders(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getGuilders",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,Qe(localStorage.getItem("username"));case 3:n=e.sent,this.setState({guilders:n[0].guilders}),this.guilders=n[0].guilders,console.log("GUILDERS IS IT HERE"),console.log(t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},o.a.createElement(y.a,{justify:"space-between",container:!0,spacing:1},o.a.createElement(y.a,{item:!0,xs:"90%"},o.a.createElement(On,{mode:!1})),o.a.createElement(y.a,{item:!0,xs:!0},o.a.createElement(v.a,{variant:"h6",color:"inherit",style:{marginTop:9}},"Fantasy Collecting -\xa0",localStorage.getItem("username"))),o.a.createElement(y.a,{item:!0,xs:!0},o.a.createElement(v.a,{variant:"h6",style:{float:"right",marginTop:10}},o.a.createElement("img",{src:In.a,height:"20",width:"20"}),this.state.guilders))))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(ae,null)),o.a.createElement(Oa,null))}}]),t}(r.Component);var Ia=function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},o.a.createElement(En.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Admin Homepage")),o.a.createElement(En.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Users")),o.a.createElement(En.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Auction")),o.a.createElement(En.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Trades")),o.a.createElement(En.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Ratings")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),o.a.createElement(v.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Yn,null))},Sa=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return window.resizeTo(400,400)}},"Accept"),o.a.createElement("button",{onClick:window.close},"Decline"))}}]),t}(o.a.PureComponent);console.log(window.location),null!==localStorage.getItem("username")&&window.location.pathname;var Ca=Sa;function Ta(){window.confirm("WARNING: Resetting the game means removing all non-admin users, all artwork metadata (including history, microresearch, and theoretical price data), and all archived trade details. Press OK if you want to continue.")&&window.confirm("WARNING: THIS CANNOT BE UNDONE. Press OK if you are 100% certain you want to reset the game.")&&function(){xt.apply(this,arguments)}()}var Ba=function(){return o.a.createElement("div",null,o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){document.body.className="background";var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1];return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){a(null)}},o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),o.a.createElement(v.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(J.a,{style:{flexDirection:"row",justifyContent:"center"}},o.a.createElement(E.a,{style:{width:500,marginTop:30,padding:20}},o.a.createElement(v.a,{variant:"h3",align:"center"},"Administrator Page"),o.a.createElement("br",null),o.a.createElement(J.a,{style:{paddingLeft:"10%",paddingRight:"10%",flexDirection:"column",alignItems:"center"}},o.a.createElement(En.b,{style:{color:"#ffffff",textDecoration:"none",justifyContent:"center"},to:"/table"},o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Users"))),o.a.createElement(En.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/arttable"},o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Artworks"))),o.a.createElement(En.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/tradetable"},o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Incoming Trades"))),o.a.createElement(En.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/adminauction"},o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Create Auction"))),o.a.createElement(En.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/adminform"},o.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Artwork Ratings"))),o.a.createElement(b.a,{variant:"contained",color:"primary",onClick:Ta,style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},o.a.createElement("span",{style:{fontSize:"1.5em"}},"Reset Game"))))),o.a.createElement("div",null,o.a.createElement(ae,null)))},Na=(o.a.Component,n(808),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).index=0,e.numofdetails=0,e.expanded=!1,e}return Object(m.a)(t,e),t}(Object(x.a)(HTMLElement)));customElements.define("trade-details",Na);var La=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).index=0,e}return Object(m.a)(t,e),t}(Object(x.a)(HTMLElement));function Ma(e){document.getElementById(e).style.height="200px"}customElements.define("expand-button",La);var Da=0,Aa=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),document.body.className="background",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getIncomingTrades(this)}},{key:"getIncomingTrades",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r,o,i,c,s,l,u,d,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<Da;n++)try{document.getElementById("trade"+n).remove()}catch(p){}return e.next=3,bt();case 3:return a=e.sent,e.next=6,gt();case 6:r=e.sent,Da=0,e.t0=h.a.keys(a);case 9:if((e.t1=e.t0()).done){e.next=45;break}if(o=e.t1.value,0!==a[o].sellerapproved&&0!==a[o].buyerapproved){e.next=13;break}return e.abrupt("continue",9);case 13:for(d in Da++,(i=document.createElement("trade-details")).id="trade"+o.toString(),i.index=o,i.className="tradedropdown",i.style.color="white",i.style.top=(150+40*o).toString()+"px",i.innerHTML=a[o].buyer+" trading with "+a[o].seller,(c=document.createElement("expand-button")).innerHTML="expand",c.className="expandbutton",c.index=o,c.onclick=function(){var e,t=document.getElementById("trade"+this.index.toString());if(t.expanded){t.expanded=!1,e=t.id,document.getElementById(e).style.height="35px";for(var n=0;n<Da;n++)if(n>parseInt(t.id.slice(5)))try{document.getElementById("trade"+n.toString()).style.top=(parseInt(document.getElementById("trade"+n.toString()).style.top)-170).toString()+"px"}catch(a){}}else{Ma(t.id);for(n=0;n<Da;n++)if(n>parseInt(t.id.slice(5)))try{document.getElementById("trade"+n.toString()).style.top=(parseInt(document.getElementById("trade"+n.toString()).style.top)+170).toString()+"px"}catch(r){}t.expanded=!0}},i.append(c),(s=document.createElement("expand-button")).index=o,s.innerHTML="confirm",s.className="confirmbutton",s.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(a[this.index].tradeid);case 2:t.getIncomingTrades(t);case 3:case"end":return e.stop()}}),e,this)}))),i.append(s),(l=document.createElement("expand-button")).index=o,l.innerHTML="deny",l.className="denybutton",l.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(a[this.index].tradeid);case 2:t.getIncomingTrades(t),pe("trade denied");case 4:case"end":return e.stop()}}),e,this)}))),i.append(l),document.getElementById("incomingtrades").append(i),u=document.createElement("br"),document.getElementById("trade"+o.toString()).append(u),r)r[d].tradeid===a[o].tradeid&&(u=document.createElement("br"),document.getElementById("trade"+o.toString()).append(u),(m=document.createElement("a")).text=r[d].offer+" >> "+r[d].buyer,document.getElementById("trade"+o.toString()).append(m));e.next=9;break;case 45:this.forceUpdate();case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{style:{textAlign:"center "}},o.a.createElement(rn,null),o.a.createElement("div",{className:"title"},"Incoming Trades"),o.a.createElement("div",{id:"incomingtrades"}))}}]),t}(o.a.Component);var Ha,Ra,Ua=function(){return o.a.createElement("div",null,o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){document.body.className="background";var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},o.a.createElement(En.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Admin Homepage")),o.a.createElement(En.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Users")),o.a.createElement(En.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Artworks")),o.a.createElement(En.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Auction")),o.a.createElement(En.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Ratings")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),o.a.createElement(v.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(ae,null)),o.a.createElement(Aa,null))},Ja=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).index=0,e}return Object(m.a)(t,e),t}(Object(x.a)(HTMLImageElement));customElements.define("lot-image",Ja,{extends:"img"});var Pa=[];function Fa(){document.getElementById("createauctiondropdown").style.top="-200px"}function _a(){document.getElementById("addauctiondropdown").style.display="none"}function Ga(e){document.getElementById("addauctiondropdown").style.display="block",Ha=e}function Va(){return za.apply(this,arguments)}function za(){return(za=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(document.getElementById("auctionname").value,Date.now().toString(),null);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.t1=Ha,e.t2=document.getElementById("addlotname").innerHTML,e.t3=document.getElementById("addlotessay").value,e.next=6,nt();case 6:return e.t4=e.sent,e.next=9,e.t0.createLot.call(e.t0,e.t1,e.t2,e.t3,e.t4);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(){return(qa=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:for(n in t=e.sent)(a=document.createElement("p")).innerHTML=t[n].identifier,a.onclick=function(){document.getElementById("addlotname").innerHTML=this.innerHTML,document.getElementById("addlotname").style.height="20px"},document.getElementById("addlotname").appendChild(a);document.getElementById("addlotname").style.height="100px";case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xa=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),document.body.className="background",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadAuctions()}},{key:"loadAuctions",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in Pa)try{document.getElementById(Pa[t]).remove()}catch(i){}return Pa=[],e.next=4,ia();case 4:n=e.sent;try{document.getElementById("bnode").remove()}catch(c){}return(a=document.createElement("button")).onclick=function(){document.getElementById("createauctiondropdown").style.top="50px"},a.className="createButton",a.innerHTML="Create Auction...",a.id="bnode",document.getElementById("abutton").appendChild(a),e.next=14,ra();case 14:r=e.sent,e.t0=h.a.keys(n);case 16:if((e.t1=e.t0()).done){e.next=22;break}return o=e.t1.value,e.next=20,this.loadLots(n[o].identifier,n[o].groupid,r,this);case 20:e.next=16;break;case 22:this.forceUpdate();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLots",value:function(){var e=Object(g.a)(h.a.mark((function e(t,n,a,r){var o,i,c,s,l,u,d,m,p,f,y;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=document.createElement("p")).id="titlenode"+n,o.innerHTML=t,document.getElementById("auctions").append(o),o.style.color="white",o.style.backgroundColor="#002f86",o.style.width="auto",o.style.borderRadius="5px",o.style.width="20%",o.style.padding="5px",(i=document.createElement("button")).id=n,i.innerHTML="Create Lot",i.onclick=function(){Ga(this.id)},document.getElementById("auctions").append(i),(c=document.createElement("button")).id="deletNode"+n,c.innerHTML="Delete Auction",c.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(n);case 2:r.loadAuctions();case 3:case"end":return e.stop()}}),e)}))),document.getElementById("auctions").append(c),(s=document.createElement("button")).id="confirmNode"+n,s.innerHTML="Confirm Auction",s.onclick=Object(g.a)(h.a.mark((function e(){var t,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:t=e.sent,console.log("all artworks"),console.log(t),e.t0=h.a.keys(a);case 6:if((e.t1=e.t0()).done){e.next=19;break}if(o=e.t1.value,a[o].number.toString()!==n.toString()){e.next=17;break}e.t2=h.a.keys(t);case 10:if((e.t3=e.t2()).done){e.next=17;break}if(i=e.t3.value,t[i].identifier.toString()!==a[o].identifier.toString()){e.next=15;break}return e.next=15,ma(a[o].identifier,a[o].username,t[i].owner,a[o].highestbid);case 15:e.next=10;break;case 17:e.next=6;break;case 19:return e.next=21,na(n);case 21:r.loadAuctions();case 22:case"end":return e.stop()}}),e)}))),document.getElementById("auctions").append(s),(l=document.createElement("div")).className="auctionscroll",l.id="auctionscroll"+n.toString(),document.getElementById("auctions").append(l),document.getElementById("auctions").append(document.createElement("br")),Pa.push(l.id),Pa.push(o.id),Pa.push(c.id),Pa.push(i.id),Pa.push(s.id),u=-1,d=h.a.mark((function e(t){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t].number==n){e.next=2;break}return e.abrupt("return","continue");case 2:return u++,e.next=5,lt(a[t].identifier);case 5:o=e.sent,p=l,(c=document.createElement("button")).innerHTML="Delete Lot",c.style.position="absolute",c.style.left=(550*u).toString()+"px",c.onclick=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a[t].identifier),e.next=3,ea(a[t].identifier);case 3:r.loadAuctions();case 4:case"end":return e.stop()}}),e)}))),p.appendChild(c),(f=document.createElement("img",{is:"lot-image"})).id="auction_pic"+t.toString(),f.index=u,f.src=o.url,f.style.left=(10+550*u).toString()+"px",f.onclick=function(){document.getElementById("lotdropdown").style.top="50px",document.getElementById("lotnumber").innerHTML="LOT "+this.index.toString(),document.getElementById("lotimage").src=this.src,document.getElementById("lotinfo").innerHTML="<pre>INFO:\n\nTITLE:  "+o.title+"\n\nARTIST:  "+o.artist+"\n\nYEAR:  "+o.year+"\n\nOWNER:  "+o.owner+"\n\nCURRENT HIGHEST BID:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(document.getElementById("lotinfo").innerHTML+="<pre>(you)</pre>"),document.getElementById("lotessay").innerHTML=a[t].lotessay,Ra=a[t].identifier},p.appendChild(f),(y=document.createElement("a")).innerHTML="<pre>LOT "+u.toString()+"\n\nTITLE:  "+o.title+"\n\nARTIST:  "+o.artist+"\n\nYEAR:  "+o.year+"\n\nOWNER:  "+o.owner+"\n\nCURRENT HIGHEST BID:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(y.innerHTML+="<pre>(you)</pre>"),y.style.left=(250+550*u).toString()+"px",p.appendChild(y);case 25:case"end":return e.stop()}}),e)})),e.t0=h.a.keys(a);case 38:if((e.t1=e.t0()).done){e.next=46;break}return m=e.t1.value,e.delegateYield(d(m),"t2",41);case 41:if("continue"!==e.t2){e.next=44;break}return e.abrupt("continue",38);case 44:e.next=38;break;case 46:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"confirmBid",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra();case 2:t=e.sent,e.t0=h.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=24;break}if(n=e.t1.value,t[n].identifier!==Ra){e.next=22;break}if(!(parseInt(document.getElementById("userbid").value)<=parseInt(t[n].highestbid))){e.next=10;break}return pe("bid must be higher than previous bid"),e.abrupt("return");case 10:return e.next=12,et();case 12:a=e.sent,e.t2=h.a.keys(a);case 14:if((e.t3=e.t2()).done){e.next=22;break}if(r=e.t3.value,a[r].username!==localStorage.getItem("username")){e.next=20;break}if(!(parseInt(document.getElementById("userbid").value)>a[r].guilders)){e.next=20;break}return pe("you do not have enough guilders to post this bid"),e.abrupt("return");case 20:e.next=14;break;case 22:e.next=4;break;case 24:return e.next=26,Qn(localStorage.getItem("username"),Ra,document.getElementById("userbid").value);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{id:"lotdropdown",className:"lotdropdown"},o.a.createElement("a",{onClick:function(){document.getElementById("lotdropdown").style.top="-600px"},style:{position:"absolute",top:"15px",right:"20px",fontSize:"20px",cursor:"pointer"}},"x"),o.a.createElement("a",{id:"lotnumber",style:{position:"absolute",top:"20px",left:"40px",fontSize:"30px"}},"LOT X"),o.a.createElement("img",{id:"lotimage",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"40px"}}),o.a.createElement("a",{id:"lotinfo",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"300px",overflowX:"wrap",overflowY:"auto"}},"INFO"),o.a.createElement("p",{id:"lotdropdowninfo"}),o.a.createElement("a",{style:{position:"absolute",top:"400px",left:"50px",fontSize:"30px"}},"LOT ESSAY"),o.a.createElement("p",{id:"lotessay",style:{position:"absolute",height:"100px",width:"500px",objectFit:"contain",top:"450px",left:"40px",overflowX:"wrap",overflowY:"auto"}}),o.a.createElement("input",{id:"userbid",type:"number",style:{position:"absolute",top:"300px",left:"380px"}}),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.confirmBid();case 2:return t.next=4,e.loadAuctions();case 4:document.getElementById("lotdropdown").style.top="-600px";case 5:case"end":return t.stop()}}),t)}))),style:{position:"absolute",top:"320px",left:"420px"}},"Place Bid")),o.a.createElement("div",{className:"title"},o.a.createElement("a",null,"Auctions")),o.a.createElement("div",{id:"createauctiondropdown",className:"createdropdown"},o.a.createElement("a",{onClick:Fa,style:{position:"absolute",top:"5px",left:"10px",cursor:"pointer"}},"x"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",null,"create auction"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",null,"auction name"),o.a.createElement("br",null),o.a.createElement("input",{id:"auctionname",type:"text"}),o.a.createElement("br",null),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Fa(),t.next=3,Va();case 3:e.loadAuctions();case 4:case"end":return t.stop()}}),t)})))},"submit")),o.a.createElement("div",{id:"addauctiondropdown",style:{display:"none",backgroundColor:"rgba(0, 0, 0, .7)",position:"fixed",borderRadius:"10px",top:"30%",left:"30%",width:"40%",height:"40%",zIndex:1,color:"white",textAlign:"center",alignContent:"center"}},o.a.createElement("br",null),o.a.createElement("p",{id:"addlotname",className:"addlotdrop",onClick:function(){!function(){qa.apply(this,arguments)}()}},"select artwork"),o.a.createElement("br",null),o.a.createElement("a",null,"lot essay"),o.a.createElement("br",null),o.a.createElement("textarea",{id:"addlotessay",type:"text",style:{height:"20%",width:"80%"}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_a();case 2:return t.next=4,Ya();case 4:e.loadAuctions();case 5:case"end":return t.stop()}}),t)})))},"submit"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:_a},"cancel")),o.a.createElement("div",{id:"auctions"}),o.a.createElement("br",null),o.a.createElement("div",{id:"abutton",style:{textAlign:"center"}}),o.a.createElement("br",null),o.a.createElement("br",null))}}]),t}(o.a.Component);var Ka=function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},o.a.createElement(En.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Admin Homepage")),o.a.createElement(En.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Users")),o.a.createElement(En.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Artworks")),o.a.createElement(En.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Trades")),o.a.createElement(En.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Ratings")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),o.a.createElement(v.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ae,null),o.a.createElement(Xa,{style:{flex:1,zIndex:1}}))},$a=[],Qa=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),document.body.className="background",n.state={tileData:[]},n.getArtworks(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getAverageValue",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/ratetable/");case 2:return n=e.sent,e.next=5,n.json();case 5:for(o in n=e.sent,a=0,r=0,n)n[o].identifier===t&&(r++,a+=parseInt(n[o].price));return a/=r,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getArtworks",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $a=[],e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 3:return t=e.sent,e.next=6,t.json();case 6:t=e.sent,e.t0=h.a.keys(t);case 8:if((e.t1=e.t0()).done){e.next=17;break}if(n=e.t1.value,1!==t[n].rateable){e.next=15;break}return e.next=13,this.getAverageValue(t[n].identifier);case 13:a=e.sent,$a.push({img:t[n].url,title:t[n].title,artist:t[n].artist,identifier:t[n].identifier,average:a.toString().slice(0,5)});case 15:e.next=8;break;case 17:this.forceUpdate();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{color:"white"}},o.a.createElement(v.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Estimated Values"),$a.map((function(e){return o.a.createElement(J.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},o.a.createElement("img",{src:e.img,alt:e.title,height:300,style:{alignItem:"center"}}),o.a.createElement(E.a,{style:{padding:10}},o.a.createElement(v.a,{variant:"h6",fontFamily:"roboto",style:{textAlign:"left",marginLeft:20}},e.title),o.a.createElement(v.a,{variant:"subtitle1",fontFamily:"roboto",style:{marginLeft:20}},"By: ",e.artist),o.a.createElement("div",{style:{margin:20}},o.a.createElement("form",null,o.a.createElement("label",null,"Average Value:"),o.a.createElement("br",null),o.a.createElement("p",null,e.average),o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement("div",{style:{paddingTop:5,position:"relative",alignSelf:"right",justifyContent:"flex-end"}})))})),o.a.createElement(J.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},o.a.createElement("div",null,o.a.createElement(b.a,{size:"large",variant:"contained",color:"secondary",type:"submit",value:"Submit",style:{fontSize:20,backgroundColor:"#002f86",alignItem:"center",margin:20},onClick:Object(g.a)(h.a.mark((function t(){var n,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,t.t0=h.a.keys(n);case 7:if((t.t1=t.t0()).done){t.next=20;break}if(a=t.t1.value,1!==n[a].rateable){t.next=18;break}return t.next=12,e.getAverageValue(n[a].identifier);case 12:return r=t.sent,r*=100,r=Math.round(r),console.log(r),t.next=18,fetch("http://fantasycollecting.hamilton.edu/api/artworks/"+n[a].identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({theoreticalprice:r})});case 18:t.next=7;break;case 20:pe("theoretical prices of artworks assigned");case 21:case"end":return t.stop()}}),t)})))},"Create Theoretical Prices")," ")))}}]),t}(o.a.Component);var Za=function(){return o.a.createElement("div",null,o.a.createElement(rn,null),o.a.createElement(dn.a,{position:"fixed",style:{backgroundColor:"#002f86"}},o.a.createElement(mn.a,{variant:"dense"},function(){var e=o.a.useState(null),t=Object(Gt.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return o.a.createElement("div",null,o.a.createElement(xn.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(wn.a,null)),o.a.createElement(pn.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},o.a.createElement(En.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Admin Homepage")),o.a.createElement(En.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Users")),o.a.createElement(En.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Artworks")),o.a.createElement(En.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Trades")),o.a.createElement(En.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:r},"Auction")),o.a.createElement(En.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},o.a.createElement(fn.a,{onClick:function(){return $e()}},"Log Out"))))}(),o.a.createElement(v.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),o.a.createElement(v.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Qa,null))},er=function(e){var t=e.component,n=Object(p.a)(e,["component"]);return o.a.createElement(vn.b,Object.assign({},n,{render:function(e){return null!==localStorage.getItem("username")?o.a.createElement(t,e):o.a.createElement(vn.a,{to:"/"})}}))},tr=function(e){var t=e.component,n=Object(p.a)(e,["component"]);return o.a.createElement(vn.b,Object.assign({},n,{render:function(e){return null!==localStorage.getItem("username")&&"1"===localStorage.getItem("admin")?o.a.createElement(t,e):o.a.createElement(vn.a,{to:"/gallery"})}}))},nr=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(En.a,null,o.a.createElement(vn.d,null,o.a.createElement(vn.b,{exact:!0,path:"/",component:$n}),o.a.createElement(er,{path:"/tradeoption",component:Ca}),o.a.createElement(tr,{path:"/table",component:Wn}),o.a.createElement(tr,{path:"/arttable",component:Ia}),o.a.createElement(tr,{path:"/tradetable",component:Ua}),o.a.createElement(tr,{path:"/adminauction",component:Ka}),o.a.createElement(er,{path:"/gallery",component:Cn}),o.a.createElement(er,{path:"/auction",component:ja}),o.a.createElement(er,{path:"/adminform",component:Za}),o.a.createElement(tr,{path:"/admin",component:Ba}),o.a.createElement(vn.b,{exact:!0,path:"/404notfound",component:qn}),o.a.createElement(vn.a,{to:"/404notfound"})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(nr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[433,1,2]]]);
//# sourceMappingURL=main.f2488316.chunk.js.map