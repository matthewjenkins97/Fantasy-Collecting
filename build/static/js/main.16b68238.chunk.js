(this.webpackJsonpSeniorProject=this.webpackJsonpSeniorProject||[]).push([[0],{137:function(e,t,n){},157:function(e,t,n){e.exports=n.p+"static/media/guilder.9110e9e5.svg"},213:function(e,t,n){},610:function(e,t,n){e.exports=n(993)},615:function(e,t,n){},642:function(e,t){},644:function(e,t){},669:function(e,t){},677:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=677},684:function(e,t){},685:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=685},720:function(e,t){},721:function(e,t){},803:function(e,t){},898:function(e,t,n){},901:function(e,t,n){},902:function(e,t,n){},903:function(e,t,n){},904:function(e,t,n){},991:function(e,t,n){},992:function(e,t,n){},993:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAllLots",(function(){return ct})),n.d(a,"getAllAuctions",(function(){return lt})),n.d(a,"conductAuctionTrade",(function(){return ht})),n.d(a,"createAuction",(function(){return dt})),n.d(a,"createLot",(function(){return pt})),n.d(a,"postBid",(function(){return $e})),n.d(a,"deleteLot",(function(){return Ze})),n.d(a,"deleteAuction",(function(){return tt})),n.d(a,"archiveAuction",(function(){return at})),n.d(a,"releaseAuction",(function(){return it})),n.d(a,"checkForAuctionUpdates",(function(){return qe})),n.d(a,"setTrackedLots",(function(){return Xe})),n.d(a,"trackedLots",(function(){return We}));var r=n(0),i=n.n(r),o=n(27),c=n.n(o),s=(n(615),n(15)),l=n(21),u=n(16),d=n(17),m=n(388),p=n(142),f=n(20),h=n(2),y=n.n(h),g=n(7),b=n(29),v=n(1015),E=n(537),x=n(143),w=n(194),k=n(159),j=n(66);function I(e){for(var t="",n=0;n<=3;n++)t+="0123456789abcdef".charAt(e>>8*n+4&15)+"0123456789abcdef".charAt(e>>8*n&15);return t}function O(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function S(e,t,n,a,r,i){return O((o=O(O(t,e),O(a,i)))<<(c=r)|o>>>32-c,n);var o,c}function C(e,t,n,a,r,i,o){return S(t&n|~t&a,e,t,r,i,o)}function B(e,t,n,a,r,i,o){return S(t&a|n&~a,e,t,r,i,o)}function T(e,t,n,a,r,i,o){return S(t^n^a,e,t,r,i,o)}function N(e,t,n,a,r,i,o){return S(n^(t|~a),e,t,r,i,o)}function L(e){for(var t=function(e){for(var t=1+(e.length+8>>6),n=new Array(16*t),a=0;a<16*t;a++)n[a]=0;for(var r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<r%4*8,n[r>>2]|=128<<r%4*8,n[16*t-2]=8*e.length;return n}(e),n=1732584193,a=-271733879,r=-1732584194,i=271733878,o=0;o<t.length;o+=16){var c=n,s=a,l=r,u=i;n=C(n,a,r,i,t[o+0],7,-680876936),i=C(i,n,a,r,t[o+1],12,-389564586),r=C(r,i,n,a,t[o+2],17,606105819),a=C(a,r,i,n,t[o+3],22,-1044525330),n=C(n,a,r,i,t[o+4],7,-176418897),i=C(i,n,a,r,t[o+5],12,1200080426),r=C(r,i,n,a,t[o+6],17,-1473231341),a=C(a,r,i,n,t[o+7],22,-45705983),n=C(n,a,r,i,t[o+8],7,1770035416),i=C(i,n,a,r,t[o+9],12,-1958414417),r=C(r,i,n,a,t[o+10],17,-42063),a=C(a,r,i,n,t[o+11],22,-1990404162),n=C(n,a,r,i,t[o+12],7,1804603682),i=C(i,n,a,r,t[o+13],12,-40341101),r=C(r,i,n,a,t[o+14],17,-1502002290),n=B(n,a=C(a,r,i,n,t[o+15],22,1236535329),r,i,t[o+1],5,-165796510),i=B(i,n,a,r,t[o+6],9,-1069501632),r=B(r,i,n,a,t[o+11],14,643717713),a=B(a,r,i,n,t[o+0],20,-373897302),n=B(n,a,r,i,t[o+5],5,-701558691),i=B(i,n,a,r,t[o+10],9,38016083),r=B(r,i,n,a,t[o+15],14,-660478335),a=B(a,r,i,n,t[o+4],20,-405537848),n=B(n,a,r,i,t[o+9],5,568446438),i=B(i,n,a,r,t[o+14],9,-1019803690),r=B(r,i,n,a,t[o+3],14,-187363961),a=B(a,r,i,n,t[o+8],20,1163531501),n=B(n,a,r,i,t[o+13],5,-1444681467),i=B(i,n,a,r,t[o+2],9,-51403784),r=B(r,i,n,a,t[o+7],14,1735328473),n=T(n,a=B(a,r,i,n,t[o+12],20,-1926607734),r,i,t[o+5],4,-378558),i=T(i,n,a,r,t[o+8],11,-2022574463),r=T(r,i,n,a,t[o+11],16,1839030562),a=T(a,r,i,n,t[o+14],23,-35309556),n=T(n,a,r,i,t[o+1],4,-1530992060),i=T(i,n,a,r,t[o+4],11,1272893353),r=T(r,i,n,a,t[o+7],16,-155497632),a=T(a,r,i,n,t[o+10],23,-1094730640),n=T(n,a,r,i,t[o+13],4,681279174),i=T(i,n,a,r,t[o+0],11,-358537222),r=T(r,i,n,a,t[o+3],16,-722521979),a=T(a,r,i,n,t[o+6],23,76029189),n=T(n,a,r,i,t[o+9],4,-640364487),i=T(i,n,a,r,t[o+12],11,-421815835),r=T(r,i,n,a,t[o+15],16,530742520),n=N(n,a=T(a,r,i,n,t[o+2],23,-995338651),r,i,t[o+0],6,-198630844),i=N(i,n,a,r,t[o+7],10,1126891415),r=N(r,i,n,a,t[o+14],15,-1416354905),a=N(a,r,i,n,t[o+5],21,-57434055),n=N(n,a,r,i,t[o+12],6,1700485571),i=N(i,n,a,r,t[o+3],10,-1894986606),r=N(r,i,n,a,t[o+10],15,-1051523),a=N(a,r,i,n,t[o+1],21,-2054922799),n=N(n,a,r,i,t[o+8],6,1873313359),i=N(i,n,a,r,t[o+15],10,-30611744),r=N(r,i,n,a,t[o+6],15,-1560198380),a=N(a,r,i,n,t[o+13],21,1309151649),n=N(n,a,r,i,t[o+4],6,-145523070),i=N(i,n,a,r,t[o+11],10,-1120210379),r=N(r,i,n,a,t[o+2],15,718787259),a=N(a,r,i,n,t[o+9],21,-343485551),n=O(n,c),a=O(a,s),r=O(r,l),i=O(i,u)}return(I(n)+I(a)+I(r)+I(i)).toLowerCase()}function M(e){return/^\d+$/.test(e)}function A(e,t,n,a){return D.apply(this,arguments)}function D(){return(D=Object(g.a)(y.a.mark((function e(t,n,a,r){var i,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M(a)){e.next=22;break}return e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(t),{method:"get",mode:"cors"});case 3:return i=e.sent,e.next=6,i.json();case 6:return(i=(i=e.sent)[0]).guilders=parseInt(i.guilders)+parseInt(a),i.microresearchpoints+=10,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(t),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),e.next=13,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"get",mode:"cors"});case 13:return o=e.sent,e.next=16,o.json();case 16:(o=(o=e.sent)[0]).guilders=parseInt(o.guilders)-parseInt(a),fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),e.next=23;break;case 22:fetch("http://fantasycollecting.hamilton.edu/api/artworks/".concat(a),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:t})});case 23:c={identifier:a,seller:n,buyer:t,timestamp:new Date,tradeid:r},fetch("http://fantasycollecting.hamilton.edu/api/history/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H,U,J,R=n(307),F=(n(441),n(1024)),G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("messageList");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){return i.a.createElement("ul",{className:"message-list",id:"messageList"},this.props.messages.map((function(e,t){return i.a.createElement("li",{key:t},e.entry.entry==localStorage.getItem("username")?i.a.createElement(F.a,{style:{alignItems:"flex-end"}},i.a.createElement("h5",{style:{textAlign:"right",fontWeight:"normal",marginBottom:-5,fontSize:"1em",color:"#b5b5b5"},className:"message-sender"},"you"),i.a.createElement("div",{className:"message-text"},i.a.createElement("div",{style:{textAlign:"right",padding:"10px",elevation:0,background:"#147efb",color:"white",borderRadius:"15px",marginLeft:"50px",display:"inline-block",marginBottom:-1}},e.entry.update))):i.a.createElement("div",null,i.a.createElement("h5",{style:{textAlign:"left",color:"#b5b5b5",fontWeight:"normal",marginBottom:-5},className:"message-sender"},e.entry.entry),i.a.createElement("div",{style:{textAlign:"left",padding:"10px",elevation:0,background:"#CCCCCC",borderRadius:"15px",marginRight:"50px",display:"inline-block",marginBottom:-1},className:"message-text"},e.entry.update)))})),i.a.createElement("li",null))}}]),n}(r.Component),P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={message:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.message),this.setState({message:""})}},{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleSubmit,className:"input-field"},i.a.createElement("input",{className:"message-input",type:"text",onChange:this.handleChange,value:this.state.message}),i.a.createElement("input",{className:"message-submit",type:"submit",value:"send"}))}}]),n}(r.Component),_=n(280),z=n.n(_),V=n(897),Y=(localStorage.getItem("username"),""),W="";function X(e){return q.apply(this,arguments)}function q(){return(q=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.history({channel:t,count:1}).then((function(e){n=0===e.messages.length?0:e.messages[0].entry.time})).catch((function(e){n=-1}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return"General"===e[1]?"General":(e=e.sort()).join("")}function $(){return Q.apply(this,arguments)}function Q(){return(Q=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/users/"+localStorage.getItem("username"));case 2:return t=e.sent,e.next=5,t.json();case 5:t=(t=e.sent)[0].uuid,localStorage.setItem("UUIDpub",t),null===localStorage.getItem("UUIDpub")||(localStorage.getItem("UUIDpub"),1)?(H=V.generateUUID(),Z()):H=localStorage.getItem("UUIDpub"),(U=new V({publishKey:"pub-c-f398c4c4-374c-4212-8934-1d1fa38c4dcd",subscribeKey:"sub-c-4977ce58-a103-11ea-9123-e6a08f73ae22",uuid:H})).addListener({message:function(e){console.log("message recieved"),e.message.entry!==localStorage.getItem("username")&&e.message.entry!==W&&"General"!==e.message.room||(oe(J,Y,{entry:e.message}),ee(e.message.time,Y))},presence:function(e){},status:function(e){}}),ne();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){fetch("http://fantasycollecting.hamilton.edu/api/users/"+localStorage.getItem("username"),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:H})}).then((function(e){}))}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(g.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),"undefined"!==typeof t&&null!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username")+"/"+n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(0!==(a=e.sent).length){e.next=14;break}return e.next=12,fetch("http://fantasycollecting.hamilton.edu/api/messages/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:localStorage.getItem("username"),room:n,messagecount:t})});case 12:e.next=16;break;case 14:console.log("updating message count for room "+n),fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username")+"/"+n,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({messagecount:t})}).then((function(e){}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:for(a in t=e.sent,n=["General"],t)n.push(K([localStorage.getItem("username"),t[a].username]));U.subscribe({channels:n,withPresence:!0}),console.log("subscribed to channels");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(g.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.history({channel:n}).then((function(e){t.state.messages=e.messages,"undefined"!==typeof a&&t.state.messages.push(a),console.log("time"),console.log(t.state.messages[t.state.messages.length-1].entry.time),ee(t.state.messages[t.state.messages.length-1].entry.time,n),t.forceUpdate()})).catch((function(e){})),t.state.currentRoom=n;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n){e.state.messages.push(n),e.forceUpdate()}var ce,se=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={currentUser:localStorage.getItem("username"),currentRoom:"",messages:[],users:[],otherUser:e.otherUser,created:!1,currentRoomId:"",general:e.general},a}return Object(l.a)(n,[{key:"checkRoom",value:function(e,t){for(var n in e)if(e[n].id==t)return;this.setState({created:!0})}},{key:"displayMessage",value:function(e,t){re(this,Y)}},{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J=this,re(this,K([localStorage.getItem("username"),this.state.otherUser]));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={entry:localStorage.getItem("username"),update:t,time:Date.now(),room:J.state.currentRoom},console.log(n),U.publish({channel:J.state.currentRoom,message:n},(function(e,t){e.error?console.log(e):ee(n.time,J.state.currentRoom)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expandUsers",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.otherUser;"General"==this.state.general&&(e="General");this.expandUsers(this);return Y=this.state.currentRoom,W=this.state.otherUser,i.a.createElement("div",null,i.a.createElement("div",{className:"chatapp",style:{zIndex:99}},i.a.createElement("h3",{className:"header"},e),i.a.createElement("div",{id:"messages",style:{marginTop:"17px"}},i.a.createElement(G,{messages:this.state.messages,style:{position:"absolute",bottom:0}})),i.a.createElement(P,{className:"input-field",onSubmit:this.sendMessage,onClick:{},onChange:{}})))}}]),n}(r.Component),le=n(383),ue=n.n(le);n(898);function de(e){return"General"===e[1]?"General":(e=e.sort()).join("")}function me(){return pe.apply(this,arguments)}function pe(){return(pe=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("USERNAME"),console.log(localStorage.getItem("username")),e.next=4,vn();case 4:for(a in t=e.sent,n=["General"],t)n.push(de([localStorage.getItem("username"),t[a].username]));ce=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){document.getElementById("messageinit").style.left="0px",document.getElementById("messagebutt").style.left="210px",document.getElementById("messagealert").style.left="380px"}function he(){document.getElementById("messageinit").style.left="-200px",document.getElementById("messagebutt").style.left="10px",document.getElementById("messagealert").style.left="180px"}function ye(){return ge.apply(this,arguments)}function ge(){return(ge=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof localStorage.getItem("username")&&null!==localStorage.getItem("username")){e.next=2;break}return e.abrupt("return");case 2:if("undefined"!=typeof ce){e.next=5;break}return e.next=5,me();case 5:t=!1,e.prev=6,e.t0=y.a.keys(ce);case 8:if((e.t1=e.t0()).done){e.next=32;break}n=e.t1.value,a=ce[n].replace(localStorage.getItem("username"),""),e.prev=11,document.getElementById(a).innerHTML.toString(),e.next=19;break;case 16:return e.prev=16,e.t2=e.catch(11),e.abrupt("continue",8);case 19:if(ce[n].includes(localStorage.getItem("username"))||"General"===ce[n]){e.next=22;break}return e.abrupt("continue",8);case 22:return e.next=24,be(ce[n]);case 24:return r=e.sent,e.next=27,X(ce[n]);case 27:if(i=e.sent,console.log(i),r<i){console.log("there are new messages from "+a),console.log(r+" is less than "+i),t=!0;try{document.getElementById(a).innerHTML=document.getElementById(a).innerHTML.split(" ")[0]+" !"}catch(o){}}else try{document.getElementById(a).innerHTML=document.getElementById(a).innerHTML.split(" ")[0]}catch(c){}e.next=8;break;case 32:document.getElementById("messagealert").style.display=t?"block":"none",e.next=37;break;case 35:e.prev=35,e.t3=e.catch(6);case 37:case"end":return e.stop()}}),e,null,[[6,35],[11,16]])})))).apply(this,arguments)}function be(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/messages/"+localStorage.getItem("username")+"/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:if(0!==(n=e.sent).length){e.next=8;break}return e.abrupt("return",0);case 8:return e.abrupt("return",n[0].messagecount);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee,xe,we,ke=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={currentView:!1,chatView:!1,otherChatter:void 0,userList:[],unread:[]},a}return Object(l.a)(n,[{key:"getUsers",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:t=e.sent,this.setState({userList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeView",value:function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({currentView:!t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeChat",value:function(){var e=Object(g.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({chatView:!t,otherChatter:n});case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUnread",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({unread:[]}),"undefined"!==typeof t){e.next=3;break}return e.abrupt("return");case 3:for(n=0;n<t.length;n++)""!==t[n].name&&this.setState({unread:[].concat(Object(R.a)(this.state.unread),[[t[n].name,t[n].unreadCount]])});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsers();case 2:for(n in t=this,this.state.userList)this.state.userList[n].username!==localStorage.getItem("username")&&((a=document.createElement("a")).style.padding="0px 0px 5px 0px",a.id=this.state.userList[n].username,a.innerHTML=this.state.userList[n].username,a.onclick=function(){t.changeChat(t.state.chatView,this.innerHTML.split(" ")[0])},document.getElementById("messageusers").appendChild(a));(r=document.createElement("a")).style.padding="0px 0px 5px 0px",r.id="General",r.innerHTML="General",r.onclick=function(){t.changeView(t.state.currentView)},document.getElementById("messageusers").appendChild(r);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{zIndex:1,position:"fixed"}},i.a.createElement("p",{id:"messagebutt",onClick:fe,className:"messageButton"},"Message Users"),i.a.createElement("div",{id:"messageinit",className:"sidebarinitm"},i.a.createElement("a",{className:"closebtn",onClick:he},"\xd7"),i.a.createElement("button",{className:"dropbtn"},"Users"),i.a.createElement("div",{id:"messageusers",className:"dropdown-contentm"})),i.a.createElement("div",{id:"messagealert",className:"messagealert"},"!")),i.a.createElement("div",{style:{zIndex:10,position:"fixed"}},i.a.createElement(F.a,{style:{position:"fixed",right:0,bottom:0,marginBottom:400}},this.state.currentView?i.a.createElement(ue.a,{style:{cursor:"pointer",background:"white",borderRadius:"10px",position:"fixed",bottom:"410px",right:"20px"},onClick:function(){return e.changeView(e.state.currentView)}}):null,this.state.chatView?i.a.createElement(ue.a,{style:{cursor:"pointer",background:"white",borderRadius:"10px",position:"fixed",bottom:"410px",right:"20px"},onClick:function(){return e.changeChat(e.state.chatView)}}):null),i.a.createElement("div",null,this.state.currentView?i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"form-container"},i.a.createElement(se,{otherUser:"General",general:"General",style:{position:"fixed",flex:1}}))):null,this.state.chatView?i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"form-container"},i.a.createElement(se,{otherUser:this.state.otherChatter.split(" ")[0],style:{position:"fixed",flex:1}}))):null)))}}]),n}(r.Component),je=(n(213),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).index=0,e}return n}(Object(k.a)(HTMLImageElement)));customElements.define("lot-image",je,{extends:"img"});var Ie=[];function Oe(){for(var e in We)try{var t=document.getElementById(We[e].identifier+We[e].number).innerHTML.toString().split("\n");t[11]=We[e].highestbid,document.getElementById(We[e].identifier+We[e].number).innerHTML=t.join("\n")}catch(n){}}function Se(){document.getElementById("createauctiondropdown").style.top="-200px"}function Ce(){document.getElementById("addauctiondropdown").style.display="none"}function Be(e){document.getElementById("addauctiondropdown").style.display="block",Ee=e}function Te(){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(document.getElementById("auctionname").value,Date.now().toString(),document.getElementById("auctiondate").value.toString());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Me.apply(this,arguments)}function Me(){return(Me=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.t1=Ee,e.t2=document.getElementById("selectedartwork").innerHTML,e.t3=document.getElementById("addlotessay").value,e.next=6,xn();case 6:return e.t4=e.sent,e.next=9,e.t0.createLot.call(e.t0,e.t1,e.t2,e.t3,e.t4);case 9:document.getElementById("selectedartwork").innerHTML="select artwork";case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=!1,De=!1;function He(){return(He=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=3;break}return De=!1,e.abrupt("return");case 3:if(document.getElementById("addlotname").style.height="100px",document.getElementById("addlotname").style.overflowY="scroll",!Ae){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,xn();case 9:for(n in t=e.sent)(a=document.createElement("p")).innerHTML=t[n].identifier,a.onclick=function(){De=!0,document.getElementById("selectedartwork").innerHTML=this.innerHTML,document.getElementById("addlotname").style.height="20px",document.getElementById("addlotname").scrollTop=0,document.getElementById("addlotname").style.overflowY="hidden"},document.getElementById("addlotname").appendChild(a);Ae=!0;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),document.body.className="background",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAuctions()}},{key:"loadAuctions",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i,o,c,s,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in Ie)try{document.getElementById(Ie[t]).remove()}catch(d){}return Ie=[],e.next=4,lt();case 4:n=e.sent;try{document.getElementById("bnode").remove()}catch(m){}return(a=document.createElement("button")).onclick=function(){document.getElementById("createauctiondropdown").style.top="50px"},a.className="createButton",a.innerHTML="Create Auction...",a.id="bnode",document.getElementById("abutton").appendChild(a),e.next=14,ct();case 14:Xe(r=e.sent),e.t0=y.a.keys(n);case 17:if((e.t1=e.t0()).done){e.next=24;break}if(i=e.t1.value,1===n[i].archived||1!==n[i].allowstudents){e.next=22;break}return e.next=22,this.loadLots(n[i].identifier,n[i].groupid,r,this);case 22:e.next=17;break;case 24:(c=document.createElement("br")).id="br8",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br9",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br10",document.getElementById("auctions").append(c),(o=document.createElement("a")).id="releasednode",o.innerHTML="Pending Release Auctions",o.style.backgroundColor="#002f86",o.style.color="white",o.style.fontSize="30px",o.style.width="auto",o.style.borderRadius="5px",o.style.width="20%",o.style.padding="5px",document.getElementById("auctions").append(o),Ie.push("releasednode"),(c=document.createElement("br")).id="br11",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br12",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br13",document.getElementById("auctions").append(c),Ie.push("br8"),Ie.push("br9"),Ie.push("br10"),Ie.push("br11"),Ie.push("br12"),Ie.push("br13"),e.t2=y.a.keys(n);case 61:if((e.t3=e.t2()).done){e.next=68;break}if(s=e.t3.value,1===n[s].archived||1===n[s].allowstudents){e.next=66;break}return e.next=66,this.loadLots(n[s].identifier,n[s].groupid,r,this);case 66:e.next=61;break;case 68:(c=document.createElement("br")).id="br1",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br2",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br3",document.getElementById("auctions").append(c),(l=document.createElement("a")).id="archivednode",l.innerHTML="Archived Auctions",l.style.backgroundColor="#002f86",l.style.color="white",l.style.fontSize="30px",l.style.width="auto",l.style.borderRadius="5px",l.style.width="20%",l.style.padding="5px",document.getElementById("auctions").append(l),Ie.push("archivednode"),(c=document.createElement("br")).id="br4",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br5",document.getElementById("auctions").append(c),(c=document.createElement("br")).id="br6",document.getElementById("auctions").append(c),Ie.push("br1"),Ie.push("br2"),Ie.push("br3"),Ie.push("br4"),Ie.push("br5"),Ie.push("br6"),Ie.push("br7"),e.t4=y.a.keys(n);case 106:if((e.t5=e.t4()).done){e.next=113;break}if(u=e.t5.value,1!==n[u].archived){e.next=111;break}return e.next=111,this.loadLots(n[u].identifier,n[u].groupid,r,this);case 111:e.next=106;break;case 113:this.forceUpdate();case 114:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLots",value:function(){var e=Object(g.a)(y.a.mark((function e(t,n,a,r){var i,o,c,s,l,u,d,m,p,f,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=document.createElement("p")).id="titlenode"+n,i.innerHTML=t,document.getElementById("auctions").append(i),i.style.color="white",i.style.backgroundColor="#002f86",i.style.width="auto",i.style.borderRadius="5px",i.style.width="20%",i.style.padding="5px",(o=document.createElement("p")).id="timernode"+n,o.innerHTML="Expires in: 00:00:00:00",document.getElementById("auctions").append(o),o.style.color="white",o.style.backgroundColor="#002f86",o.style.width="auto",o.style.borderRadius="5px",o.style.width="15%",o.style.padding="5px",Ie.push(o.id),(c=document.createElement("button")).id=n,c.innerHTML="Create Lot",c.onclick=function(){Be(this.id)},document.getElementById("auctions").append(c),(s=document.createElement("button")).id="deletNode"+n,s.innerHTML="Delete Auction",s.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(n);case 2:r.loadAuctions();case 3:case"end":return e.stop()}}),e)}))),document.getElementById("auctions").append(s),(l=document.createElement("button")).id="archiveNode"+n,l.innerHTML="Archive Auction",l.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(n);case 2:r.loadAuctions();case 3:case"end":return e.stop()}}),e)}))),document.getElementById("auctions").append(l),Ie.push(l.id),(u=document.createElement("button")).id="releaseNode"+n,u.innerHTML="Release Auction",u.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(n);case 2:r.loadAuctions();case 3:case"end":return e.stop()}}),e)}))),document.getElementById("auctions").append(u),Ie.push(u.id),(d=document.createElement("div")).className="auctionscroll",d.id="auctionscroll"+n.toString(),document.getElementById("auctions").append(d),(m=document.createElement("br")).id="br7",document.getElementById("auctions").append(m),Ie.push(d.id),Ie.push(i.id),Ie.push(s.id),Ie.push(c.id),p=-1,f=y.a.mark((function e(t){var i,o,c,s,l,u,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t].number==n){e.next=2;break}return e.abrupt("return","continue");case 2:return p++,e.next=5,Cn(a[t].identifier);case 5:i=e.sent,o=d,(c=document.createElement("button")).innerHTML="Delete Lot",c.style.position="absolute",c.style.left=(550*p).toString()+"px",c.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(a[t].identifier);case 2:r.loadAuctions();case 3:case"end":return e.stop()}}),e)}))),o.appendChild(c),(s=document.createElement("button")).id="confirmlot"+t.toString(),s.innerHTML="Confirm Lot",s.style.position="absolute",s.style.left=(550*p+70).toString()+"px",s.onclick=Object(g.a)(y.a.mark((function e(){var t,n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn();case 2:t=e.sent,n=parseInt(this.id.slice(10)),e.t0=y.a.keys(t);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(i=e.t1.value,t[i].identifier.toString()!==a[n].identifier.toString()){e.next=10;break}return e.next=10,ht(a[n].identifier,a[n].username,t[i].owner,a[n].highestbid,a[n].number);case 10:e.next=5;break;case 12:r.loadAuctions();case 13:case"end":return e.stop()}}),e,this)}))),o.appendChild(s),(l=document.createElement("img",{is:"lot-image"})).id="auction_pic"+t.toString(),l.index=p,l.src=i.url,l.style.left=(10+550*p).toString()+"px",a[t].sold||(l.style.cursor="pointer",l.onclick=function(){document.getElementById("lotdropdown").style.top="50px",document.getElementById("lotnumber").innerHTML="LOT "+this.index.toString(),document.getElementById("lotimage").src=this.src,document.getElementById("lotinfo").innerHTML="<pre>Information\n\nTitle:  "+i.title+"\n\nArtist:  "+i.artist+"\n\nYear:  "+i.year+"\n\nOwner:  "+i.owner+"\n\nHighest Bid:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(document.getElementById("lotinfo").innerHTML+="<pre>(you)</pre>"),document.getElementById("lotessay").innerHTML=a[t].lotessay,we=a[t].identifier,xe=a[t].number}),o.appendChild(l),a[t].sold&&((u=document.createElement("a")).style.display="absolute",u.style.left=(550*p-20).toString()+"px",u.innerHTML="SOLD",u.style.color="red",u.style.top="90px",u.style.fontSize="90px",o.appendChild(u),u.style.overflow="hidden",u.style.transform="rotate(25deg)"),(m=document.createElement("a")).id=a[t].identifier+a[t].number,m.innerHTML="<pre>Lot "+p.toString()+"\n\nTitle:  "+i.title+"\n\nArtist:  "+i.artist+"\n\nYear:  "+i.year+"\n\nOwner:  "+i.owner+"\n\nHighest Bid:\n"+a[t].highestbid+"\n</pre>",a[t].username===localStorage.getItem("username")&&(m.innerHTML+="<pre>(you)</pre>"),m.style.left=(250+550*p).toString()+"px",m.style.overflowX="wrap",m.style.overflowY="hidden",o.appendChild(m);case 36:case"end":return e.stop()}}),e)})),e.t0=y.a.keys(a);case 57:if((e.t1=e.t0()).done){e.next=65;break}return h=e.t1.value,e.delegateYield(f(h),"t2",60);case 60:if("continue"!==e.t2){e.next=63;break}return e.abrupt("continue",57);case 63:e.next=57;break;case 65:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"confirmBid",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:t=e.sent,e.t0=y.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=34;break}if(n=e.t1.value,t[n].identifier!==we||t[n].number!==xe){e.next=32;break}if(!(parseInt(document.getElementById("userbid").value)<=parseInt(t[n].highestbid))){e.next=12;break}return Nt("bid must be higher than previous bid"),e.abrupt("return");case 12:if(""!==document.getElementById("userbid").value){e.next=17;break}return Nt("Bid cannot be empty"),e.abrupt("return");case 17:if(!(parseInt(document.getElementById("userbid").value)<=0)){e.next=20;break}return Nt("Bid cannot be 0 or negative"),e.abrupt("return");case 20:return e.next=22,vn();case 22:a=e.sent,e.t2=y.a.keys(a);case 24:if((e.t3=e.t2()).done){e.next=32;break}if(r=e.t3.value,a[r].username!==localStorage.getItem("username")){e.next=30;break}if(!(parseInt(document.getElementById("userbid").value)>a[r].guilders)){e.next=30;break}return Nt("You do not have enough guilders to post this bid"),e.abrupt("return");case 30:e.next=24;break;case 32:e.next=4;break;case 34:return e.next=36,$e(localStorage.getItem("username"),we,xe,document.getElementById("userbid").value);case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{id:"lotdropdown",className:"lotdropdown"},i.a.createElement("a",{onClick:function(){document.getElementById("lotdropdown").style.top="-600px"},style:{position:"absolute",top:"15px",right:"20px",fontSize:"20px",cursor:"pointer"}},"x"),i.a.createElement("a",{id:"lotnumber",style:{position:"absolute",top:"20px",left:"40px",fontSize:"30px"}},"Lot X"),i.a.createElement("img",{id:"lotimage",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"40px"}}),i.a.createElement("a",{id:"lotinfo",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"300px",overflowX:"wrap",overflowY:"auto"}},"Info"),i.a.createElement("p",{id:"lotdropdowninfo"}),i.a.createElement("a",{style:{position:"absolute",top:"400px",left:"50px",fontSize:"30px"}},"Lot Essay"),i.a.createElement("p",{id:"lotessay",style:{position:"absolute",height:"100px",width:"500px",objectFit:"contain",top:"450px",left:"40px",overflowX:"wrap",overflowY:"auto"}}),i.a.createElement("input",{id:"userbid",type:"number",style:{position:"absolute",top:"300px",left:"380px"}}),i.a.createElement("button",{onClick:Object(g.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.confirmBid();case 2:return t.next=4,e.loadAuctions();case 4:document.getElementById("lotdropdown").style.top="-600px";case 5:case"end":return t.stop()}}),t)}))),style:{position:"absolute",top:"320px",left:"420px"}},"Place Bid")),i.a.createElement("div",{className:"title"},i.a.createElement(x.a,{variant:"h3"},"Auctions")),i.a.createElement("div",{id:"createauctiondropdown",className:"createdropdown"},i.a.createElement("a",{onClick:Se,style:{position:"absolute",top:"5px",left:"10px",cursor:"pointer"}},"x"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",null,"Create Auction"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",null,"Auction Name"),i.a.createElement("br",null),i.a.createElement("input",{id:"auctionname",type:"text"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",null,"Auction End Date"),i.a.createElement("br",null),i.a.createElement("input",{id:"auctiondate",type:"date"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:Object(g.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Se(),t.next=3,Te();case 3:e.loadAuctions();case 4:case"end":return t.stop()}}),t)})))},"Submit")),i.a.createElement("div",{id:"addauctiondropdown",style:{display:"none",backgroundColor:"rgba(0, 0, 0, .7)",position:"fixed",borderRadius:"10px",top:"30%",left:"30%",width:"40%",height:"40%",zIndex:1,color:"white",textAlign:"center",alignContent:"center"}},i.a.createElement("br",null),i.a.createElement("div",{id:"addlotname",className:"addlotdrop",onClick:function(){!function(){He.apply(this,arguments)}()}},i.a.createElement("p",{id:"selectedartwork"},"Select Artwork")),i.a.createElement("br",null),i.a.createElement("a",null,"Lot Essay"),i.a.createElement("br",null),i.a.createElement("textarea",{id:"addlotessay",type:"text",style:{height:"20%",width:"80%"}}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:Object(g.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce();case 2:return t.next=4,Le();case 4:e.loadAuctions();case 5:case"end":return t.stop()}}),t)})))},"Submit"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:Ce},"Cancel")),i.a.createElement("div",{id:"auctions"}),i.a.createElement("br",null),i.a.createElement("div",{id:"abutton",style:{textAlign:"center"}}),i.a.createElement("br",null),i.a.createElement("br",null))}}]),n}(i.a.Component),Je=(n(137),[]);function Re(){document.getElementById("galleryview").style.left="-200px",document.getElementById("gallerybutton").style.left="10px"}function Fe(){document.getElementById("gallerydropdown").style.top="-600px"}var Ge,Pe,_e=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Je=[],a}return Object(l.a)(n,[{key:"getBlurb",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(t);case 2:n=(n=e.sent)[0],document.getElementById("othergalleryblurb").innerHTML=n.blurb;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expandUsers",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:n=e.sent,e.t0=y.a.keys(n);case 4:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,n[a].username!==localStorage.getItem("username")&&1!==n[a].admin){e.next=8;break}return e.abrupt("continue",4);case 8:try{document.getElementById("user_gt"+a.toString()).remove()}catch(i){}(r=document.createElement("a")).id="user_gt"+a.toString(),r.style.padding="0px 0px 5px 0px",r.innerHTML=n[a].username,r.onclick=function(){t.getTileData(this.innerHTML),Re(),document.getElementById("gallerydropdown").style.top="50px"},document.getElementById("galleryusers").appendChild(r),e.next=4;break;case 17:document.getElementById("galleryusers").style.height="100px";case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTileData",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je=[],e.next=3,xn();case 3:for(a in n=e.sent)n[a].owner==t&&Je.push({img:n[a].url,identifier:n[a].identifier,title:n[a].title,artist:n[a].artist,year:n[a].year});this.getBlurb(t),this.forceUpdate(),document.getElementById("subgalleryname").innerHTML=t+"'s Gallery";case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{id:"galleryview",class:"sidebarinit"},i.a.createElement("a",{class:"closebtn",onClick:Re},"\xd7"),i.a.createElement("button",{class:"dropbtn"},"Users"),i.a.createElement("div",{id:"galleryusers",class:"dropdown-content"})),i.a.createElement("a",{id:"gallerybutton",class:"galleryButton",onClick:function(){document.getElementById("galleryview").style.left="0px",document.getElementById("gallerybutton").style.left="210px",e.expandUsers(e)}},"View Galleries")),i.a.createElement("div",{id:"gallerydropdown",class:"galleryDropdown"},i.a.createElement("a",{class:"closebtn",onClick:Fe},"\xd7"),i.a.createElement("div",{style:{padding:10}},i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Gallery Announcements"),i.a.createElement("h1",{style:{textAlign:"center"},id:"othergalleryblurb"})),i.a.createElement(x.a,{id:"subgalleryname",fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery"),i.a.createElement("div",null,i.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},Je.map((function(e){return i.a.createElement("div",{style:{padding:10}},i.a.createElement(f.b,{to:"/singleartwork"},i.a.createElement("img",{id:e.identifier,src:e.img,alt:e.title,onClick:function(){localStorage.setItem("singleIdent",e.identifier)},height:350})),i.a.createElement(w.a,{style:{padding:10}},i.a.createElement("div",null,i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},e.title),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto"},e.artist,", ",e.year))))}))))))}}]),n}(r.Component),ze=(n(901),[]);function Ve(){for(var e in We)try{var t=document.getElementById(We[e].identifier+We[e].number).innerHTML.toString().split("\n");t[11]=We[e].highestbid,document.getElementById(We[e].identifier+We[e].number).innerHTML=t.join("\n")}catch(n){}}var Ye=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),document.body.className="gallery",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAuctions()}},{key:"loadAuctions",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in ze)try{document.getElementById(ze[t]).remove()}catch(i){}return ze=[],e.next=4,lt();case 4:return n=e.sent,e.next=7,ct();case 7:Xe(a=e.sent),e.t0=y.a.keys(n);case 10:if((e.t1=e.t0()).done){e.next=17;break}if(r=e.t1.value,1===n[r].archived||1!==n[r].allowstudents){e.next=15;break}return e.next=15,this.loadLots(n[r].identifier,n[r].groupid,a,this);case 15:e.next=10;break;case 17:this.forceUpdate();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLots",value:function(){var e=Object(g.a)(y.a.mark((function e(t,n,a,r){var i,o,c,s,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=document.createElement("p")).id="titlenode"+n,i.innerHTML=t,document.getElementById("auctions").append(i),i.style.color="white",i.style.backgroundColor="#002f86",i.style.width="auto",i.style.borderRadius="5px",i.style.width="20%",i.style.padding="5px",ze.push(i.id),(o=document.createElement("p")).id="timernode"+n,o.innerHTML="Expires in: 00:00:00:00",document.getElementById("auctions").append(o),o.style.color="white",o.style.backgroundColor="#002f86",o.style.width="auto",o.style.borderRadius="5px",o.style.width="15%",o.style.padding="5px",ze.push(o.id),(c=document.createElement("div")).className="auctionscroll",c.id="auctionscroll"+n.toString(),document.getElementById("auctions").append(c),document.getElementById("auctions").append(document.createElement("br")),ze.push(c.id),s=-1,l=y.a.mark((function e(t){var r,i,o,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t].number==n){e.next=2;break}return e.abrupt("return","continue");case 2:return s++,e.next=5,Cn(a[t].identifier);case 5:r=e.sent,i=c,(o=document.createElement("img",{is:"lot-image"})).id="auction_pic"+t.toString(),o.index=s,o.src=r.url,o.style.left=(10+550*s).toString()+"px",a[t].sold||(o.style.cursor="pointer",o.onclick=function(){document.getElementById("lotdropdown").style.top="50px",document.getElementById("lotnumber").innerHTML="LOT "+this.index.toString(),document.getElementById("lotimage").src=this.src,document.getElementById("lotinfo").innerHTML="<pre>Information\n\nTitle:  "+r.title+"\n\nArtist:  "+r.artist+"\n\nYear:  "+r.year+"\n\nOwner:  "+r.owner+"\n\nHighest Bid:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(document.getElementById("lotinfo").innerHTML+="<pre>(you)</pre>"),document.getElementById("lotessay").innerHTML=a[t].lotessay,Pe=a[t].identifier,Ge=a[t].number}),i.appendChild(o),a[t].sold&&((l=document.createElement("a")).style.display="absolute",l.style.left=(550*s-20).toString()+"px",l.innerHTML="SOLD",l.style.color="red",l.style.top="90px",l.style.fontSize="90px",i.appendChild(l),l.style.overflow="hidden",l.style.transform="rotate(25deg)"),(u=document.createElement("a")).id=a[t].identifier+a[t].number,u.innerHTML="<pre>Lot "+(s+1).toString()+"\n\nTitle:  "+r.title+"\n\nArtist:  "+r.artist+"\n\nYear:  "+r.year+"\n\nOwner:  "+r.owner+"\n\nHighest Bid:\n"+a[t].highestbid+"</pre>",a[t].username===localStorage.getItem("username")&&(u.innerHTML+="<pre>(you)</pre>"),u.style.left=(250+550*s).toString()+"px",i.appendChild(u);case 21:case"end":return e.stop()}}),e)})),e.t0=y.a.keys(a);case 31:if((e.t1=e.t0()).done){e.next=39;break}return u=e.t1.value,e.delegateYield(l(u),"t2",34);case 34:if("continue"!==e.t2){e.next=37;break}return e.abrupt("continue",31);case 37:e.next=31;break;case 39:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"confirmBid",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:t=e.sent,e.t0=y.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=34;break}if(n=e.t1.value,t[n].identifier!==Pe||t[n].number!==Ge){e.next=32;break}if(!(parseInt(document.getElementById("userbid").value)<=parseInt(t[n].highestbid))){e.next=12;break}return Nt("Bid must be higher than previous bid"),e.abrupt("return");case 12:if(""!==document.getElementById("userbid").value){e.next=17;break}return Nt("Bid cannot be empty"),e.abrupt("return");case 17:if(!(parseInt(document.getElementById("userbid").value)<=0)){e.next=20;break}return Nt("Bid cannot be 0 or negative"),e.abrupt("return");case 20:return e.next=22,vn();case 22:a=e.sent,e.t2=y.a.keys(a);case 24:if((e.t3=e.t2()).done){e.next=32;break}if(r=e.t3.value,a[r].username!==localStorage.getItem("username")){e.next=30;break}if(!(parseInt(document.getElementById("userbid").value)>a[r].guilders)){e.next=30;break}return Nt("You do not have enough guilders to post this bid"),e.abrupt("return");case 30:e.next=24;break;case 32:e.next=4;break;case 34:return e.next=36,$e(localStorage.getItem("username"),Pe,Ge,document.getElementById("userbid").value);case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(_e,null)),i.a.createElement("div",null,i.a.createElement(la,null)),i.a.createElement("div",{id:"lotdropdown",className:"lotdropdown"},i.a.createElement("a",{onClick:function(){document.getElementById("lotdropdown").style.top="-600px"},style:{position:"absolute",top:"15px",right:"20px",fontSize:"20px",cursor:"pointer"}},"x"),i.a.createElement("a",{id:"lotnumber",style:{position:"absolute",top:"20px",left:"40px",fontSize:"30px"}},"Lot X"),i.a.createElement("img",{id:"lotimage",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"40px"}}),i.a.createElement("a",{id:"lotinfo",style:{position:"absolute",height:"300px",width:"300px",objectFit:"contain",top:"70px",left:"300px",overflowX:"wrap",overflowY:"auto"}},"Info"),i.a.createElement("p",{id:"lotdropdowninfo"}),i.a.createElement("a",{style:{position:"absolute",top:"400px",left:"50px",fontSize:"30px"}},"Lot Essay"),i.a.createElement("p",{id:"lotessay",style:{position:"absolute",height:"100px",width:"500px",objectFit:"contain",top:"450px",left:"40px",overflowX:"wrap",overflowY:"auto"}}),i.a.createElement("input",{id:"userbid",type:"number",style:{position:"absolute",top:"300px",left:"380px"}}),i.a.createElement("button",{onClick:Object(g.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.confirmBid();case 2:return t.next=4,e.loadAuctions();case 4:document.getElementById("lotdropdown").style.top="-600px";case 5:case"end":return t.stop()}}),t)}))),style:{position:"absolute",top:"320px",left:"420px"}},"Place Bid")),i.a.createElement("div",{className:"title"},i.a.createElement(x.a,{variant:"h3"},"Auctions")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{id:"auctions"}),i.a.createElement("br",null),i.a.createElement("br",null))}}]),n}(i.a.Component),We=[];function Xe(e){We=e}function qe(){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:if(t=e.sent,!(We.length>0&&We.length!==t.length)){e.next=6;break}return window.location.toString().endsWith("adminauction")?Oe():Ve(),e.abrupt("return");case 6:for(n in t)We[n]&&t[n]&&We[n].highestbid!==t[n].highestbid&&We[n].identifier===t[n].identifier&&(Nt("bid on artwork "+We[n].identifier+" for "+t[n].highestbid),window.location.toString().endsWith("adminauction")?Oe():Ve());We=t;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t,n,a){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(g.a)(y.a.mark((function e(t,n,a,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/"+n+"/"+a,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({deadline:null,highestbid:r,username:t})}).then((function(e){Nt("posted bid of "+r+" on "+n)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return et.apply(this,arguments)}function et(){return(et=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){Nt("deleted lot "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){Nt("deleted auction "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:!0})}).then((function(e){Nt("archived auction "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({allowstudents:!0})}).then((function(e){Nt("released auction "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return st.apply(this,arguments)}function st(){return(st=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/auction/",{method:"get",mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return ut.apply(this,arguments)}function ut(){return(ut=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/",{method:"get",mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t,n){return mt.apply(this,arguments)}function mt(){return(mt=Object(g.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/groups/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupid:n,identifier:t,date:a})}).then((function(e){Nt("created auction "+n+" with name "+t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t,n,a){return ft.apply(this,arguments)}function ft(){return(ft=Object(g.a)(y.a.mark((function e(t,n,a,r){var i,o,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:i=e.sent,e.t0=y.a.keys(i);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(o=e.t1.value,i[o].number.toString()!==t.toString()||i[o].identifier.toString()!==n.toString()){e.next=9;break}return Nt("artwork "+n+" already exists in this auction"),e.abrupt("return");case 9:e.next=4;break;case 11:for(s in c="sjarosi",r)r[s].identifier===n&&(c=r[s].owner);return e.next=15,fetch("http://fantasycollecting.hamilton.edu/api/auction/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:n,number:t,highestbid:0,username:c,deadline:null,groupid:null,lotessay:a})}).then((function(){Nt("created lot "+t+" with name "+n)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t,n,a,r){return yt.apply(this,arguments)}function yt(){return(yt=Object(g.a)(y.a.mark((function e(t,n,a,r,i){var o,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("http://fantasycollecting.hamilton.edu/api/artworks/".concat(t),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:n,actualprice:r})}).then((function(e){})),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"get",mode:"cors"});case 3:return o=e.sent,e.next=6,o.json();case 6:if((o=(o=e.sent)[0]).guilders-=r,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(n),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),null===a||"undefined"===typeof a){e.next=20;break}return e.next=13,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(a),{method:"get",mode:"cors"});case 13:return c=e.sent,e.next=16,c.json();case 16:(c=(c=e.sent)[0]).guilders+=r,fetch("http://fantasycollecting.hamilton.edu/api/users/".concat(a),{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 20:s={identifier:t,seller:"sjarosi",buyer:n,price:r,timestamp:new Date},fetch("http://fantasycollecting.hamilton.edu/api/history/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){})),fetch("http://fantasycollecting.hamilton.edu/api/auction/"+t+"/"+i,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:1})}).then((function(e){}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt="http://fantasycollecting.hamilton.edu/api";function bt(e){var t=e();return t.next(),function(e){t.next(e)}}var vt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:Et(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));function Et(){return xt.apply(this,arguments)}function xt(){return(xt=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.toString().endsWith("auction")||window.location.toString().endsWith("/auction")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lt();case 4:t=e.sent,e.t0=y.a.keys(t);case 6:if((e.t1=e.t0()).done){e.next=26;break}if(n=e.t1.value,a=new Date(t[n].date)-Date.now(),e.prev=9,!(a<0)){e.next=19;break}if(document.getElementById("timernode"+t[n].groupid.toString()).innerHTML="Expired",document.getElementById("timernode"+t[n].groupid.toString()).style.color="red",0!=t[n].archived&&null!=t[n].archived){e.next=17;break}return e.next=16,at(t[n].groupid);case 16:Location.reload();case 17:e.next=20;break;case 19:document.getElementById("timernode"+t[n].groupid.toString()).innerHTML="Expires in: "+wt(a);case 20:e.next=24;break;case 22:e.prev=22,e.t2=e.catch(9);case 24:e.next=6;break;case 26:case"end":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}function wt(e){var t=Math.floor(e/864e5);e-=864e5*t;var n=Math.floor(e/36e5);e-=36e5*n;var a=Math.floor(e/6e4);e-=6e4*a;var r=Math.floor(e/1e3);return t.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")}setInterval(vt,1e3);var kt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:console.log("checking for messages"),ye(),e.next=0;break;case 7:case"end":return e.stop()}}),e)})));setInterval(kt,5e3);bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CALLED AC"),void(e.next=4);case 4:window.location.toString().endsWith("auction")&&qe(),e.next=0;break;case 7:case"end":return e.stop()}}),e)})));var jt,It,Ot,St,Ct,Bt,Tt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:document.getElementById("notification").style.top="-"+document.getElementById("notification").offsetHeight+"px",clearInterval(jt),e.next=0;break;case 7:case"end":return e.stop()}}),e)})));function Nt(e){clearInterval(jt);try{document.getElementById("notification").style.top="50px",document.getElementById("notification").innerHTML=e,jt=setInterval(Tt,5e3)}catch(t){}}var Lt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:cn(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));setInterval(Lt,2e3);var Mt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:Ft(),e.next=0;break;case 6:case"end":return e.stop()}}),e)}))),At=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:Jt(),e.next=0;break;case 6:case"end":return e.stop()}}),e)}))),Dt=bt(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=3);case 3:Qt(),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));function Ht(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+Ct,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerapproved:0,sellerapproved:0})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+Ct);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,"undefined"!==typeof(a=JSON.parse(JSON.stringify(n))[0])){e.next=11;break}return hn(),qn(),e.abrupt("return");case 11:if(!(a.seller.toString()===localStorage.getItem("username").toString()&&0===parseInt(a.sellerapproved)||a.buyer.toString()===localStorage.getItem("username").toString()&&0===parseInt(a.buyerapproved))){e.next=17;break}return clearInterval(St),document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none",Nt("trade updated"),e.abrupt("return");case 17:1===a.sellerapproved&&1===a.buyerapproved&&(clearInterval(St),clearInterval(Ot),qn(),Nt("trade sent to admin"),a.buyer==localStorage.getItem("username")&&en());case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+Ct);case 2:return t=e.sent,e.next=5,t.json();case 5:if(t=e.sent,"undefined"!==typeof(t=JSON.parse(JSON.stringify(t))[0])){e.next=12;break}return clearInterval(Ot),qn(),hn(),e.abrupt("return");case 12:return e.next=14,fetch(gt+"/tradedetails/"+Ct);case 14:return n=e.sent,e.next=17,n.json();case 17:a=e.sent,na(JSON.parse(JSON.stringify(a)));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/tradedetails");case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=y.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=13;break}if(a=e.t1.value,n[a].offer!==t||n[a].tradeid!==Ct){e.next=11;break}return e.abrupt("return");case 11:e.next=7;break;case 13:return e.next=15,fetch(gt+"/tradedetails",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:Ct,buyer:Bt,seller:localStorage.getItem("username"),offer:t,approved:0})}).then((function(e){}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/tradedetails/"+Ct);case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,e.t0=y.a.keys(n);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,n[a].offer!=t){e.next=12;break}return delete n[a],e.abrupt("break",14);case 12:e.next=7;break;case 14:return e.next=16,fetch(gt+"/tradedetails/"+Ct,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 16:e.t2=y.a.keys(n);case 17:if((e.t3=e.t2()).done){e.next=23;break}return a=e.t3.value,e.next=21,fetch(gt+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n[a])});case 21:e.next=17;break;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(g.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/users/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a=e.sent,a=JSON.parse(JSON.stringify(a))[0],e.abrupt("return",parseInt(a.guilders)>=parseInt(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(localStorage.getItem("username"),t);case 2:if(e.sent){e.next=5;break}return Nt("not enough guilders"),e.abrupt("return");case 5:return e.next=7,fetch(gt+"/tradedetails/"+Ct);case 7:return n=e.sent,a=!1,e.next=11,n.json();case 11:n=e.sent,e.t0=y.a.keys(n);case 13:if((e.t1=e.t0()).done){e.next=21;break}if(r=e.t1.value,n[r].seller!==localStorage.getItem("username")||n[r].tradeid!==Ct||isNaN(n[r].offer)){e.next=19;break}return n[r].offer=t,a=!0,e.abrupt("break",21);case 19:e.next=13;break;case 21:return e.next=23,fetch(gt+"/tradedetails/"+Ct,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 23:if(a){e.next=26;break}return e.next=26,fetch(gt+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:Ct,buyer:Bt,seller:localStorage.getItem("username"),offer:t,approved:0})});case 26:e.t2=y.a.keys(n);case 27:if((e.t3=e.t2()).done){e.next=33;break}return r=e.t3.value,e.next=31,fetch(gt+"/tradedetails/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n[r])}).then((function(e){}));case 31:e.next=27;break;case 33:document.getElementById("addguilders").value="";case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=localStorage.getItem("username")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(gt+"/users/"+t);case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,"undefined"!==typeof JSON.parse(JSON.stringify(a))[0]){e.next=11;break}return e.abrupt("return");case 11:r=Date.now(),Ct=r,fetch(gt+"/trades",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeid:r,seller:t,buyer:localStorage.getItem("username"),buyerinit:!0,sellerinit:!1,buyerapproved:!1,sellerapproved:!1})}).then((function(e){Nt("Trade Initiated"),It=setInterval(Dt,2e3)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+Ct);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,"undefined"!==typeof(a=JSON.parse(JSON.stringify(n))[0])){e.next=12;break}return clearInterval(It),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="trade",e.abrupt("return");case 12:1==a.sellerinit&&(Xn(!1,Bt=a.seller),clearInterval(It),Ot=setInterval(Mt,1e3));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(){return tn.apply(this,arguments)}function tn(){return(tn=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/tradedetails/"+Ct,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!0})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(g.a)(y.a.mark((function e(t){var n,a,r,i,o,c,s,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/tradedetails/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,n=JSON.parse(JSON.stringify(n)),e.next=9,xn();case 9:return a=e.sent,e.next=12,vn();case 12:r=e.sent,e.t0=y.a.keys(n);case 14:if((e.t1=e.t0()).done){e.next=32;break}for(l in i=e.t1.value,o=0,c="",s="",r)r[l].username.toString()===n[i].seller.toString()&&(o=r[l].guilders,c=r[l].username);for(u in a)a[u].identifier.toString()===n[i].offer.toString()&&(s=a[u].owner);if(!/^\d+$/.test(n[i].offer)){e.next=27;break}if(!(parseInt(o)<parseInt(n[i].offer))){e.next=25;break}return Nt("users no longer have the required items for this trade"),e.abrupt("return");case 25:e.next=30;break;case 27:if(c===s){e.next=30;break}return Nt("users no longer have the required items for this trade"),e.abrupt("return");case 30:e.next=14;break;case 32:e.t2=y.a.keys(n);case 33:if((e.t3=e.t2()).done){e.next=39;break}return i=e.t3.value,e.next=37,A(n[i].buyer,n[i].seller,n[i].offer,t);case 37:e.next=33;break;case 39:return e.prev=39,e.next=42,fetch(gt+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 42:return e.next=44,fetch(gt+"/tradedetails/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:1})});case 44:Nt("trade between "+n[0].buyer+" and "+n[0].seller+" approved"),e.next=50;break;case 47:e.prev=47,e.t4=e.catch(39),console.error("no trade details");case 50:case"end":return e.stop()}}),e,null,[[39,47]])})))).apply(this,arguments)}function rn(e){return on.apply(this,arguments)}function on(){return(on=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){}));case 2:return e.next=4,fetch(gt+"/tradedetails/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(){return sn.apply(this,arguments)}function sn(){return(sn=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.toString().endsWith("/gallery")||window.location.toString().endsWith("/auction")){e.next=2;break}return e.abrupt("return");case 2:return t=[],e.next=5,fetch(gt+"/trades/");case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,r=Object(j.a)(a);try{for(r.s();!(i=r.n()).done;)(o=i.value).seller!=localStorage.getItem("username")||1===o.sellerapproved&&1===o.buyerapproved||t.push(o)}catch(c){r.e(c)}finally{r.f()}t.length>0?(document.getElementById("mainalert").style.display="block",oa(t)):oa(t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){return un.apply(this,arguments)}function un(){return(un=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(gt+"/trades/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerinit:!0})}).then((function(e){Ct=t,Ot=setInterval(Mt,1e3)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e){return mn.apply(this,arguments)}function mn(){return(mn=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(gt+"/trades/"+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(){return fn.apply(this,arguments)}function fn(){return(fn=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/"+Ct);case 2:return t=e.sent,e.next=5,t.json();case 5:if(1!==(t=e.sent).sellerapproved||1!==t.buyerapproved){e.next=8;break}return e.abrupt("return");case 8:fetch(gt+"/trades/"+Ct,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}),fetch(gt+"/tradedetails/"+Ct,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}),hn();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(){clearInterval(St),clearInterval(It),clearInterval(Ot)}function yn(){localStorage.clear(),window.location.reload(),U.unsubscribeAll()}function gn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/users/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(){return En.apply(this,arguments)}function En(){return(En=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://fantasycollecting.hamilton.edu/api",e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(){return wn.apply(this,arguments)}function wn(){return(wn=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/artworks");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(){return(kn=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/users/"+t.username);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,r=JSON.parse(JSON.stringify(a)),"*****"===t.hash?t.hash=r[0].hash:t.hash=L(t.hash),t.admin||(t.admin=0),t.formcompleted||(t.formcompleted=0),t.guilders||(t.guilders=0),t.microresearchpoints||(t.microresearchpoints=0),fetch(gt+"/users/"+t.username,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,hash:t.hash,name:t.name,admin:t.admin,formcompleted:t.formcompleted,guilders:t.guilders,microresearchpoints:t.microresearchpoints,blurb:t.blurb})});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(){return(jn=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.username){e.next=3;break}return alert("Please specify a username for your user."),e.abrupt("return");case 3:return e.next=5,fetch(gt+"/users/"+t.username);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,"undefined"===typeof JSON.parse(JSON.stringify(a))[0]?(t.admin||(t.admin=0),t.formcompleted||(t.formcompleted=0),t.guilders||(t.guilders=0),t.microresearchpoints||(t.microresearchpoints=0),fetch(gt+"/users/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,hash:L(t.hash),name:t.name,admin:t.admin,formcompleted:t.formcompleted,guilders:t.guilders,microresearchpoints:t.microresearchpoints,blurb:t.blurb})})):alert("User already exists.");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e){return On.apply(this,arguments)}function On(){return(On=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.identifier){e.next=3;break}return alert("Please specify an artwork identifier."),e.abrupt("return");case 3:return e.next=5,fetch(gt+"/artworks/"+t.identifier);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,"undefined"===typeof JSON.parse(JSON.stringify(a))[0]?(t.theoreticalprice||(t.theoreticalprice=0),t.actualprice||(t.actualprice=0),t.rateable||(t.rateable=0),t.title||(t.title="..."),t.artist||(t.artist="..."),t.owner||(t.owner=""),fetch(gt+"/artworks/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t.identifier,title:t.title,artist:t.artist,year:t.year,theoreticalprice:t.theoreticalprice,actualprice:t.actualprice,owner:t.owner,url:t.url,rateable:t.rateable})})):alert("Artwork already exists.");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(){return(Sn=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.theoreticalprice||(t.theoreticalprice=0),t.actualprice||(t.actualprice=0),t.rateable||(t.rateable=0),fetch(gt+"/artworks/"+t.identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.title,artist:t.artist,year:t.year,theoreticalprice:t.theoreticalprice,actualprice:t.actualprice,owner:t.owner,url:t.url,rateable:t.rateable})});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/artworks/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a))[0],e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/history/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/microresearch/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=JSON.parse(JSON.stringify(a)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(){return(An=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch(gt+"/microresearch/",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t.identifier,username:t.username,information:t.information,timestamp:t.timestamp})}),e.next=3,gn(t.username);case 3:n=(n=e.sent)[0],console.log(n),fetch(gt+"/users/"+t.username,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({microresearchpoints:n.microresearchpoints+1})});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/tradedetails/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(gt+"/trades/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(){return(Rn=Object(g.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(gt+"/users/"+t,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({blurb:n})});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(){return(Fn=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i,o,c,s,l,u,d,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)1!==(r=a.value).admin&&fetch(gt+"/users/"+r.username,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}})}catch(p){n.e(p)}finally{n.f()}return e.next=7,xn();case 7:i=e.sent,o=Object(j.a)(i);try{for(o.s();!(c=o.n()).done;)s=c.value,fetch(gt+"/artworks/"+s.identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:""})}),fetch(gt+"/history/"+s.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}),fetch(gt+"/microresearch/"+s.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}}),fetch(gt+"/ratetable/"+s.identifier,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}})}catch(p){o.e(p)}finally{o.f()}return e.next=12,Dn();case 12:l=e.sent,u=Object(j.a)(l);try{for(u.s();!(d=u.n()).done;)1===(m=d.value).archived&&fetch(gt+"/tradedetails/"+m.tradeid,{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"}})}catch(p){u.e(p)}finally{u.f()}yn();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i,o,c,s,l,u,d,m,p,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn();case 2:return t=e.sent,e.next=5,vn();case 5:n=e.sent,a=[],r=Object(j.a)(n);try{for(r.s();!(i=r.n()).done;)1!==(o=i.value).admin&&a.push(o)}catch(h){r.e(h)}finally{r.f()}c=[],s=Object(j.a)(t);try{for(s.s();!(l=s.n()).done;)1===(u=l.value).rateable&&c.push(u)}catch(h){s.e(h)}finally{s.f()}d=0,m=c;case 13:if(!(d<m.length)){e.next=21;break}return p=m[d],f=a[Math.floor(Math.random()*a.length)],e.next=18,fetch(gt+"/artworks/"+p.identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:f.username})});case 18:d++,e.next=13;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(902);var _n=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).indexValue=0,e}return n}(Object(k.a)(HTMLElement));customElements.define("index-element",_n);var zn=!1;function Vn(){document.getElementById("tradeinit").style.left="-200px",document.getElementById("maininit").style.left="10px"}function Yn(){document.getElementById("tradealert").style.left="0px",document.getElementById("mainalert").style.left="210px"}function Wn(){document.getElementById("tradealert").style.left="-200px",document.getElementById("mainalert").style.left="10px"}function Xn(e,t){document.getElementById("tradewindow").style.left="0%",zn=e,document.getElementById("otheritems").innerHTML=t,document.getElementById("localitems").innerHTML=localStorage.getItem("username"),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="Trade"}function qn(){document.getElementById("tradewindow").style.left="-100%",document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none"}function Kn(){return(Kn=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:t=e.sent,e.t0=y.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=17;break}if(n=e.t1.value,t[n].username!==localStorage.getItem("username")&&1!==t[n].admin){e.next=8;break}return e.abrupt("continue",4);case 8:try{document.getElementById("user_t"+n.toString()).remove()}catch(r){}(a=document.createElement("a")).id="user_t"+n.toString(),a.style.padding="0px 0px 5px 0px",a.innerHTML=t[n].username,a.onclick=function(){Kt(this.innerHTML),Vn(),document.getElementById("ldsanim").style.display="inline-block",document.getElementById("maininit").innerHTML="Cancel"},document.getElementById("tradeusers").appendChild(a),e.next=4;break;case 17:document.getElementById("tradeusers").style.height="100px";case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.onbeforeunload=function(e){e.preventDefault(),pn();return(e=e||window.event)&&(e.returnValue="leave?"),"leave?"};var $n=!1;function Qn(){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$n){e.next=3;break}return document.getElementById("tradeartworks").style.height="70px",e.abrupt("return");case 3:return e.next=5,xn();case 5:for(n in t=e.sent)t[n].owner==localStorage.getItem("username")&&((a=document.createElement("a")).id="art_t"+n.toString(),a.innerHTML=t[n].identifier,a.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(this.innerHTML.toString());case 2:return e.next=4,Ht();case 4:case"end":return e.stop()}}),e,this)}))),document.getElementById("tradeartworks").appendChild(a));document.getElementById("tradeartworks").style.height="70px",$n=!0;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ea=0,ta=[];function na(e){return aa.apply(this,arguments)}function aa(){return(aa=Object(g.a)(y.a.mark((function e(t){var n,a,r,i,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ta=[],e.t0=y.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,e.t2=ta,e.next=7,Cn(t[n].offer);case 7:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=2;break;case 11:for(a=0;a<ea;a++)try{document.getElementById("trade_l_t"+a.toString()).remove(),document.getElementById("trade_l_i"+a.toString()).remove()}catch(s){}for(n in document.getElementById("currentlocalg").innerHTML="Guilders: 0",document.getElementById("currentotherg").innerHTML="Guilders: 0",ea=0,t)/^\d+$/.test(t[n].offer)?t[n].buyer==localStorage.getItem("username")?document.getElementById("currentotherg").innerHTML="Guilders:  "+t[n].offer:document.getElementById("currentlocalg").innerHTML="Guilders:  "+t[n].offer:(r=t[n].buyer==localStorage.getItem("username")?"otherartworks":"localartworks",(i=document.createElement("a")).id="trade_l_t"+n.toString(),i.innerHTML=t[n].offer,i.style.position="relative",document.getElementById(r).appendChild(i),(o=document.createElement("img")).id="trade_l_i"+n.toString(),o.style.width="200px",o.style.height="200px",o.style.position="relative",o.src=ta[n].url,document.getElementById(r).appendChild(o),"localartworks"===r&&((c=document.createElement("index-element")).className="closebtnart",c.indexValue=n,c.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zt(t[this.indexValue].offer),e.next=3,Ht();case 3:case"end":return e.stop()}}),e,this)}))),c.innerHTML="x",i.appendChild(c))),ea++;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=0,ia=0;function oa(e){for(var t=0;t<=ra;t++)try{document.getElementById("trade_n"+t.toString()).remove(),document.getElementById("trade_ba"+t.toString()).remove(),document.getElementById("trade_bd"+t.toString()).remove(),document.getElementById("trade_d"+t.toString()).remove()}catch(c){}for(var n in ia=0,ra=0,e){var a=document.createElement("h1");a.id="trade_n"+n.toString(),a.className="tradealertdrop",a.innerHTML=e[n].buyer,document.getElementById("tradealert").appendChild(a);var r=document.createElement("button");r.id="trade_ba"+n.toString(),r.innerHTML="accept",r.className="requestbutton",r.onclick=function(){var t;ln(e[parseInt(this.id[8])].tradeid),Wn(),Xn(!0,document.getElementById("trade_n"+this.id[8]).innerHTML),t=document.getElementById("trade_n"+this.id[8]).innerHTML,Bt=t,ca(this.id[8])},document.getElementById("tradealert").appendChild(r);var i=document.createElement("div");i.id="trade_d"+n.toString(),document.getElementById("tradealert").appendChild(i);var o=document.createElement("button");o.id="trade_bd"+n.toString(),o.innerHTML="decline",o.className="requestbutton",o.onclick=function(){dn(e[n].tradeid),ca(parseInt(this.id[8]))},document.getElementById("tradealert").appendChild(o),ra=n,ia=n+1}0==ia&&(document.getElementById("mainalert").style.display="none",Wn())}function ca(e){try{document.getElementById("trade_n"+e.toString()).remove(),document.getElementById("trade_ba"+e.toString()).remove(),document.getElementById("trade_bd"+e.toString()).remove(),document.getElementById("trade_d"+e.toString()).remove(),0==--ia&&(document.getElementById("mainalert").style.display="none",Wn())}catch(t){}}var sa=!1;var la=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"ldsanim",class:"lds-dual-ring"}),i.a.createElement("div",{id:"tradeinit",class:"sidebarinit"},i.a.createElement("a",{class:"closebtn",onClick:Vn},"\xd7"),i.a.createElement("button",{class:"dropbtn"},"Users"),i.a.createElement("div",{id:"tradeusers",class:"dropdown-content"})),i.a.createElement("button",{id:"maininit",class:"openbtninit",onClick:function(){document.getElementById("tradeinit").style.left="0px",document.getElementById("maininit").style.left="210px","Cancel"==document.getElementById("maininit").innerHTML.toString()&&(pn(),document.getElementById("ldsanim").style.display="none",document.getElementById("maininit").innerHTML="Trade"),function(){Kn.apply(this,arguments)}()}},"Trade"),i.a.createElement("div",{id:"tradewindow",class:"tradewin",display:"none"},i.a.createElement("div",{class:"centering"},i.a.createElement("a",{id:"localitems",class:"myuser"},"My Items"),i.a.createElement("div",{class:"addg"},i.a.createElement("a",null,"Guilders"),i.a.createElement("input",{id:"addguilders",type:"number"}),i.a.createElement("button",{onClick:Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=Number(document.getElementById("addguilders").value))<0)){e.next=4;break}return Nt("Guilders must be greater than or equal to 0."),e.abrupt("return");case 4:if(Number.isInteger(t)){e.next=7;break}return Nt("Number must be a whole number without decimals."),e.abrupt("return");case 7:return e.next=9,Xt(document.getElementById("addguilders").value);case 9:return e.next=11,Ht();case 11:case"end":return e.stop()}}),e)})))},"Add")),i.a.createElement("div",{class:"dropbtnArtworks",onClick:Qn},"Select Artworks to Trade...",i.a.createElement("div",{id:"tradeartworks",class:"dropdown-content-art"})),i.a.createElement("div",{id:"localguilders",class:"localg"},i.a.createElement("a",{id:"currentlocalg"},"Guilders: 0")),i.a.createElement("div",{id:"localartworks",class:"locala"}),i.a.createElement("a",{id:"confirmbutton",class:"localconfirm",onClick:function(){var e;zn?(e=!sa,fetch(gt+"/trades/"+Ct,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerapproved:e})}).then((function(t){e?St=setInterval(At,1e3):clearInterval(St)}))):function(e){fetch(gt+"/trades/"+Ct,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerapproved:e})}).then((function(t){e?St=setInterval(At,1e3):clearInterval(St)}))}(!sa),sa?(document.getElementById("confirmbutton").innerHTML="Confirm Trade",document.getElementById("ldsanim2").style.display="none"):(document.getElementById("confirmbutton").innerHTML="Cancel Confirm",document.getElementById("ldsanim2").style.display="inline-block"),sa=!sa}},"Confirm Trade"),i.a.createElement("div",{id:"ldsanim2",class:"lds-dual-ring2"}),i.a.createElement("a",{class:"closebtn",onClick:function(){qn(),pn()}},"Cancel"),i.a.createElement("a",{id:"otheritems",class:"otheruser"},"Other User"),i.a.createElement("div",{id:"otherguilders",class:"otherg"},i.a.createElement("a",{id:"currentotherg"},"Guilders: 0")),i.a.createElement("div",{id:"otherartworks",class:"othera"}))),i.a.createElement("div",{id:"tradealert",class:"sidebaralert"},i.a.createElement("a",{class:"closebtn",onClick:Wn},"\xd7")),i.a.createElement("button",{id:"mainalert",class:"openbtnalert",onClick:Yn},"Trade Request"))}}]),n}(i.a.PureComponent),ua=[],da=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={tileData:[]},a.getArtworks(),a.checkIfDone(),a}return Object(l.a)(n,[{key:"OnComponentDidMount",value:function(){this.checkIfDone()}},{key:"getArtworks",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return t=e.sent,e.next=5,t.json();case 5:for(n in t=e.sent)1===t[n].rateable&&ua.push({img:t[n].url,title:t[n].title,artist:t[n].artist,identifier:t[n].identifier});this.forceUpdate();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkIfDone",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:for(n in t=e.sent)t[n].username===localStorage.getItem("username")&&0===t[n].formcompleted&&(document.getElementById("ratingbutton").style.display="inline-block");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Estimated Values"),ua.map((function(e){return i.a.createElement(F.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},i.a.createElement("img",{src:e.img,alt:e.title,height:300,style:{alignItem:"center"}}),i.a.createElement(w.a,{style:{padding:10}},i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto",style:{textAlign:"left",marginLeft:20}},e.title),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto",style:{marginLeft:20}},"By: ",e.artist),i.a.createElement("div",{style:{margin:20}},i.a.createElement("label",null,"Estimated Value (1-10):",i.a.createElement("br",null),i.a.createElement("input",{id:"rate"+e.identifier,type:"number",name:"lname",min:"1",max:"10",maxlength:"2"}),i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null)),i.a.createElement("div",{style:{paddingTop:5,position:"relative",alignSelf:"right",justifyContent:"flex-end"}})))})),i.a.createElement(F.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},i.a.createElement("div",null,i.a.createElement(E.a,{size:"large",variant:"contained",color:"secondary",type:"submit",value:"Submit",style:{fontSize:20,backgroundColor:"#002f86",alignItem:"center",margin:20},onClick:Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,e.t0=y.a.keys(ua);case 7:if((e.t1=e.t0()).done){e.next=16;break}return n=e.t1.value,a=document.getElementById("rate"+ua[n].identifier),r=a.value,a.value>10?r=10:a.value<1&&(r=1),e.next=14,fetch("http://fantasycollecting.hamilton.edu/api/ratetable/",{method:"post",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({identifier:ua[n].identifier,price:r})});case 14:e.next=7;break;case 16:return e.next=18,fetch("http://fantasycollecting.hamilton.edu/api/users/"+localStorage.getItem("username"),{method:"put",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({formcompleted:1})});case 18:document.getElementById("ratingpage").style.left="-100%",document.getElementById("ratingbutton").style.display="none";case 20:case"end":return e.stop()}}),e)})))},"Submit Form"))))}}]),n}(i.a.Component),ma=(n(903),[]),pa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),ma=[],a.getTileData(),a.getBlurb(),document.body.className="gallery",a}return Object(l.a)(n,[{key:"getTileData",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn();case 2:for(n in t=e.sent)t[n].owner===localStorage.getItem("username")&&1!==t[n].hidden&&ma.push({img:t[n].url,identifier:t[n].identifier,title:t[n].title,artist:t[n].artist,year:t[n].year,theoreticalprice:t[n].theoreticalprice,actualprice:t[n].actualprice});this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlurb",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("username"),e.next=3,gn(t);case 3:n=(n=e.sent)[0],document.getElementById("galleryblurb").value=n.blurb;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveBlurb",value:function(){!function(e,t){Rn.apply(this,arguments)}(localStorage.getItem("username"),document.getElementById("galleryblurb").value)}},{key:"openForm",value:function(){document.getElementById("ratingpage").style.left="0%"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ke,null)),i.a.createElement("div",null,i.a.createElement(_e,null)),i.a.createElement("div",null,i.a.createElement(la,null))),i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery"),i.a.createElement("div",null,i.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},ma.map((function(e){return i.a.createElement("div",{style:{padding:10}},i.a.createElement(f.b,{to:"/singleartwork"},i.a.createElement("img",{id:e.identifier,src:e.img,alt:e.title,onClick:function(){localStorage.setItem("singleIdent",e.identifier)},height:350})),i.a.createElement(w.a,null,i.a.createElement("div",{style:{padding:10,height:"1in"}},i.a.createElement("div",{style:{float:"left",width:"80%"}},i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},e.title),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto"},e.artist,", ",e.year)),i.a.createElement("div",{style:{float:"right",width:"20%",textAlign:"right"}},i.a.createElement(x.a,{variant:"h5",fontFamily:"roboto"},0!==e.actualprice&&void 0!==e.actualprice?e.actualprice:e.theoreticalprice)))))}))),i.a.createElement("br",null),i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery Announcements"),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("textarea",{style:{width:"50%",height:100},id:"galleryblurb",multiline:"true"})),i.a.createElement(E.a,{style:{margin:"auto",display:"block"},onClick:this.saveBlurb},"Save")),i.a.createElement("button",{id:"ratingbutton",onClick:function(){e.openForm()},className:"openFormButton"},"Rate Artworks"),i.a.createElement("div",{id:"ratingpage",style:{overflowX:"hidden",color:"white",zIndex:1e4,backgroundColor:"rgba(0, 0, 0, .7)",position:"absolute",top:"0px",width:"100%",left:"-100%",transition:"1s"}},i.a.createElement(da,null)))}}]),n}(r.Component),fa=n(81),ha=n(281),ya=n(538),ga=n(378),ba=n(80),va=n.n(ba);function Ea(e){var t=i.a.useState(null),n=Object(fa.a)(t,2),a=n[0],r=n[1],o=function(){r(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},e.mode?i.a.createElement(f.b,{to:"/auction",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){o(),pn()}},"Auction")):i.a.createElement(f.b,{to:"/gallery",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){o(),pn()}},"My Gallery")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){yn()}},"Log Out"))))}var xa=n(1016),wa=n(539),ka=(n(904),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"notification",className:"notification"},"notification")}}]),n}(i.a.PureComponent)),ja=n(157),Ia=n.n(ja),Oa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={guilders:0},a.getGuilders=a.getGuilders.bind(Object(b.a)(a)),a.getGuilders(),a}return Object(l.a)(n,[{key:"getGuilders",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(localStorage.getItem("username"));case 2:t=e.sent,this.setState({guilders:t[0].guilders}),this.guilders=t[0].guilders;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},i.a.createElement(v.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(v.a,{item:!0,xs:"90%"},i.a.createElement(Ea,{mode:!0})),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",color:"inherit",style:{marginTop:9}},"Fantasy Collecting - ",localStorage.getItem("username"))),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",style:{float:"right",marginTop:10}},i.a.createElement("img",{src:Ia.a,height:"20",width:"20"}),this.state.guilders))))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(pa,null))}}]),n}(r.Component),Sa=n(144),Ca=n(115),Ba=n.n(Ca),Ta=n(305),Na=n.n(Ta),La=new z.a({instanceLocator:"v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8",key:"32b71a31-bcc2-4750-9cff-59640b74814e:hQq+MMcoDqpXgMK0aPNPcm8uFHFDRmNDWcYNeiP2Zjg="}),Ma=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).rows=[],a.read=!1,a.getRows=a.getRows.bind(Object(b.a)(a)),a.lowerTable=a.lowerTable.bind(Object(b.a)(a)),a.raiseTable=a.raiseTable.bind(Object(b.a)(a)),a.divid=a.props.username+"MicroresearchDropdown",a.getRows(),a.state={columns:[{title:"User",field:"username"},{title:"Microresearch",field:"information"},{title:"Timestamp",field:"timestamp"}],data:a.rows},a}return Object(l.a)(n,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rows=[],this.username=this.props.username,e.next=4,Ln(this.props.username);case 4:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)(r=a.value).username===this.props.username&&(r.timestamp=new Date(r.timestamp).toLocaleString(),this.rows.push(r))}catch(i){n.e(i)}finally{n.f()}this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return new Date(e.date)>new Date(t.date)?1:-1})),this.read=!0,this.forceUpdate();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.username+"'s Microresearch";return i.a.createElement("div",null,i.a.createElement("div",{id:this.divid,class:"galleryDropdownAdmin"},i.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),i.a.createElement("p",null,"\xa0"),this.read?i.a.createElement(Ba.a,{title:e,columns:this.state.columns,data:this.state.data}):i.a.createElement("h1",null,"Loading...")))}}]),n}(i.a.Component),Aa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).rows=[],a.read=!1,a.microresearchids=[],a.stateBeg={columns:[{title:"Username",field:"username"},{title:"Password",field:"hash"},{title:"Name",field:"name"},{title:"Admin?",field:"admin",type:"numeric"},{title:"Completed form?",field:"formcompleted",type:"numeric"},{title:"Guilders",field:"guilders",type:"numeric"},{title:"Points",field:"microresearchpoints",type:"numeric"},{title:"Blurb",field:"blurb"}],data:a.rows},a.getRows=a.getRows.bind(Object(b.a)(a)),a.getRows(),a.state=a.stateBeg,document.body.className="background",a}return Object(l.a)(n,[{key:"createUser",value:function(e){var t=this;La.createUser({id:e,name:e}).then((function(n){t.setState({currentUsername:e,currentId:e,currentView:"chatApp"})})).catch((function(n){400===n.status?t.setState({currentUsername:e,currentId:e,currentView:"chatApp"}):console.error(n.status)}))}},{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rows=[],e.next=3,vn();case 3:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)r=a.value,i=r.username+"MicroresearchDropdown",o={username:r.username,hash:"*****",name:r.name,admin:r.admin,formcompleted:r.formcompleted,guilders:r.guilders,microresearchpoints:r.microresearchpoints,blurb:r.blurb,id:i},this.rows.push(o),this.microresearchids.push(o.username)}catch(c){n.e(c)}finally{n.f()}this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),this.read=!0,this.forceUpdate();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hidePasswords",value:function(){for(var e in this.state.data)this.state.data[e].hash="*****"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.read?i.a.createElement(Ba.a,{title:"Users",columns:this.state.columns,data:this.state.data,actions:[{icon:Na.a,tooltip:"User Microresearch",onClick:function(e,t){document.getElementById(t.id).style.top="50px"}}],editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),function(e){jn.apply(this,arguments)}(t),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),e.createUser(t.username),e.forceUpdate()}),600)}))},onRowUpdate:function(t,n){return new Promise((function(a){setTimeout((function(){a(),e.state.data=e.state.data.filter((function(e,t,a){return a[t].username!==n.username})),function(e){kn.apply(this,arguments)}(t),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),e.forceUpdate()}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){var a;n(),e.state.data=e.state.data.filter((function(e,n,a){return a[n].username!==t.username})),e.state.data=e.state.data.sort((function(e,t){return e.username[0]>t.username[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),a=t.username,fetch(gt+"/users/"+a,{method:"delete",mode:"cors"}),e.forceUpdate()}),600)}))}}}):i.a.createElement("h1",null,"Loading..."),this.microresearchids.map((function(e){return i.a.createElement(Ma,{username:e})})))}}]),n}(i.a.Component),Da=[];function Ha(){document.getElementById("galleryview").style.left="-200px",document.getElementById("gallerybutton").style.left="10px"}function Ua(){document.getElementById("gallerydropdown").style.top="-600px"}var Ja=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Da=[],a}return Object(l.a)(n,[{key:"getBlurb",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(t);case 2:n=(n=e.sent)[0],document.getElementById("othergalleryblurb").innerHTML=n.blurb;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expandUsers",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn();case 2:n=e.sent,e.t0=y.a.keys(n);case 4:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,n[a].username!==localStorage.getItem("username")&&1!==n[a].admin){e.next=8;break}return e.abrupt("continue",4);case 8:try{document.getElementById("user_gt"+a.toString()).remove()}catch(i){}(r=document.createElement("a")).id="user_gt"+a.toString(),r.style.padding="0px 0px 5px 0px",r.innerHTML=n[a].username,r.onclick=function(){t.getTileData(this.innerHTML),Ha(),document.getElementById("gallerydropdown").style.top="50px"},document.getElementById("galleryusers").appendChild(r),e.next=4;break;case 17:document.getElementById("galleryusers").style.height="100px";case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTileData",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da=[],e.next=3,xn();case 3:for(a in n=e.sent)n[a].owner==t&&Da.push({img:n[a].url,identifier:n[a].identifier,title:n[a].title,artist:n[a].artist,year:n[a].year});this.getBlurb(t),this.forceUpdate(),document.getElementById("subgalleryname").innerHTML=t+"'s Gallery";case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{id:"galleryview",class:"sidebarinit"},i.a.createElement("a",{class:"closebtn",onClick:Ha},"\xd7"),i.a.createElement("button",{class:"dropbtn"},"Users"),i.a.createElement("div",{id:"galleryusers",class:"dropdown-content"})),i.a.createElement("a",{id:"gallerybutton",class:"galleryButtonAdmin",onClick:function(){document.getElementById("galleryview").style.left="0px",document.getElementById("gallerybutton").style.left="210px",e.expandUsers(e)}},"View Galleries")),i.a.createElement("div",{id:"gallerydropdown",class:"galleryDropdownAdmin"},i.a.createElement("a",{class:"closebtn",onClick:Ua},"\xd7"),i.a.createElement("div",{style:{padding:10}},i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Gallery Announcements"),i.a.createElement("h1",{style:{textAlign:"center"},id:"othergalleryblurb"})),i.a.createElement(x.a,{id:"subgalleryname",fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"My Gallery"),i.a.createElement("div",null,i.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},Da.map((function(e){return i.a.createElement("div",{style:{padding:10}},i.a.createElement(f.b,{to:"/singleartwork"},i.a.createElement("img",{id:e.identifier,src:e.img,alt:e.title,onClick:function(){localStorage.setItem("singleIdent",e.identifier)},height:350})),i.a.createElement(w.a,{style:{padding:10}},i.a.createElement("div",null,i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},e.title),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto"},e.artist,", ",e.year))))}))))))}}]),n}(r.Component);var Ra=function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},i.a.createElement(f.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Admin Homepage")),i.a.createElement(f.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Artworks")),i.a.createElement(f.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Auction")),i.a.createElement(f.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Trades")),i.a.createElement(f.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Ratings")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting"))),i.a.createElement(Ja,null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(Aa,null))},Fa=function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Page Not Found."),i.a.createElement("p",null," If you believe this to be a mistake, email syoung@hamilton.edu and describe what occurred and the steps to reproduce the problem."))},Ga=n(559),Pa=n(1023),_a=n(560),za=Object(_a.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function Va(){var e=za();return i.a.createElement("div",{className:e.root},i.a.createElement(xa.a,{position:"static",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting"))))}var Ya=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={values:{username:"",password:"",gotoadmin:!1,gotostudent:!1}},a.handleChange=a.handleChange.bind(Object(b.a)(a)),document.body.className="background","undefined"!==localStorage.getItem("username")&&a.logBackInUser(),a}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({username:e.target.username}),this.setState({password:e.target.password})}},{key:"logBackInUser",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("username"),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/users/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,"undefined"===typeof(r=JSON.parse(JSON.stringify(a))[0])?localStorage.clear():($(),1===r.admin?this.setState({gotoadmin:!0}):this.setState({gotostudent:!0}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logInUser",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("liusername").value,e.next=3,fetch(gt+"/users/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,"undefined"===typeof(r=JSON.parse(JSON.stringify(a))[0])||r.hash!==L(document.getElementById("lipassword").value)?alert("Username or password are incorrect. Please try again with correct credentials."):(localStorage.setItem("username",document.getElementById("liusername").value),localStorage.setItem("admin",r.admin),$(),1===r.admin?this.setState({gotoadmin:!0}):this.setState({gotostudent:!0}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"redirectToPage",value:function(){return this.state.gotoadmin?i.a.createElement(p.a,{to:"/admin"}):i.a.createElement(p.a,{to:"/gallery"})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null," ",this.state.gotoadmin||this.state.gotostudent?i.a.createElement("div",null,this.redirectToPage()):i.a.createElement("div",{className:"Login"},i.a.createElement(Va,null),i.a.createElement(F.a,{style:{flexDirection:"row",justifyContent:"center"}},i.a.createElement(w.a,{style:{width:300,marginTop:30}},i.a.createElement("h1",{style:{textAlign:"center",color:"black",marginTop:20}},"Login"),i.a.createElement("div",{style:{alignItems:"center",textAlign:"center"}},i.a.createElement("div",null,i.a.createElement(Ga.a,{id:"liusername",label:"Username",margin:"normal",variant:"outlined",value:this.state.username,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement(Ga.a,{id:"lipassword",label:"Password",margin:"normal",variant:"outlined",type:"password",value:this.state.password,onChange:this.handleChange})),i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,backgroundColor:"#002f86"},onClick:function(){return e.logInUser()}},"Log In"))))),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement(Pa.a,{style:{width:300,margin:"auto",padding:10}},i.a.createElement("p",{style:{textAlign:"center",fontSize:".75em"}},"Fantasy Collecting game created by Professor Susan Jarosi."),i.a.createElement("p",{style:{textAlign:"center",fontSize:".75em"}},"Web application developed by Julia Opatrny, Donald Holley, and Matthew R. Jenkins for their Computer Science Senior Project in Fall 2019. Further development by Donald Holley and Matthew R. Jenkins in Spring 2020."),i.a.createElement("p",{style:{textAlign:"center",fontSize:".75em"}},"Questions, comments and concerns should go to slyoung@hamilton.edu."))))}}]),n}(i.a.Component),Wa=Ya,Xa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={guilders:0},a.getGuilders=a.getGuilders.bind(Object(b.a)(a)),a.getGuilders(),a}return Object(l.a)(n,[{key:"getGuilders",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,e.next=3,gn(localStorage.getItem("username"));case 3:t=e.sent,this.setState({guilders:t[0].guilders}),this.guilders=t[0].guilders;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},i.a.createElement(v.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(v.a,{item:!0,xs:"90%"},i.a.createElement(Ea,{mode:!1})),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",color:"inherit",style:{marginTop:9}},"Fantasy Collecting - ",localStorage.getItem("username"))),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",style:{float:"right",marginTop:10}},i.a.createElement("img",{src:Ia.a,height:"20",width:"20"}),this.state.guilders))))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement(ke,null)),i.a.createElement(Ye,null))}}]),n}(r.Component);n(991);function qa(e){e.preventDefault(),e.stopPropagation()}function Ka(e){!function(e){Object(R.a)(e).forEach($a)}(e.dataTransfer.files)}function $a(e){var t=new XMLHttpRequest,n=new FormData;t.open("POST","http://fantasycollecting.hamilton.edu/api/upload",!0),t.addEventListener("readystatechange",(function(n){if(4===t.readyState&&200===t.status){if(document.getElementById("status").innerHTML=t.responseText,window.confirm("Upload successful! Do you want to turn this photo into an artwork for the game?")){var a=e.name;a=(a=(a=a.replace(/\.[^/.]+$/,"")).replace(/[\ ;\/?:@=&\"<>#%{}|\^~\[\]\(\)`]/g,"_")).toLowerCase();var r=e.name;r="http://fantasycollecting.hamilton.edu/static/media/"+(r=e.name.replace(/[\ ;\/?:@=&\"<>#%{}|\^~\[\]\(\)`]/g,"_")),console.log(a),console.log(r),In({identifier:a,url:r}),setTimeout((function(){window.location.reload()}),500)}}else 4===t.readyState&&200!==t.status&&(document.getElementById("status").innerHTML="Something went wrong. Try uploading again.")})),n.append("file",e),t.send(n)}var Qa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setUpDrop(),this.getAllImages();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllImages",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("imagebank"),e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/upload");case 3:return n=e.sent,e.next=6,n.json();case 6:for(a in(n=e.sent).photos)(r=document.createElement("p")).style.backgroundImage="url('http://fantasycollecting.hamilton.edu/static/media/"+n.photos[a]+"')",r.style.width="200px",r.style.height="200px",r.style.backgroundSize="100%",r.style.objectFit="contain",r.style.display="inline-block",r.style.padding="10px",(i=document.createElement("h1")).innerHTML=n.photos[a],i.style.backgroundColor="rgba(0, 0, 0, .5)",i.style.borderRadius="5px",i.style.color="white",i.style.width="180px",i.style.padding="5px",r.appendChild(i),t.append(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setUpDrop",value:function(){var e=document.getElementById("drop-area");function t(t){e.classList.add("highlight")}function n(t){e.classList.remove("highlight")}["dragenter","dragover","dragleave","drop"].forEach((function(t){e.addEventListener(t,qa,!1)})),["dragenter","dragover"].forEach((function(n){e.addEventListener(n,t,!1)})),["dragleave","drop"].forEach((function(t){e.addEventListener(t,n,!1)})),e.addEventListener("drop",Ka,!1)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"drop-area"},i.a.createElement("form",{className:"my-form"},i.a.createElement("p",null,"Upload files by dragging and dropping images onto the dashed region."),i.a.createElement("p",null,"Note that characters with diacritics will prevent the file from being added - replace any diacritics with the closest equivalent character."),i.a.createElement("br",null),i.a.createElement("i",{id:"status"}))),i.a.createElement("div",{id:"imagebank",style:{padding:"10px",overflowX:"wrap",backgroundColor:"rgba(255, 255, 255, .9)"}}))}}]),n}(i.a.Component),Za=n(582),er=[],tr=!1,nr={columns:[{title:"Identifier",field:"identifier"},{title:"Title",field:"title"},{title:"Artist",field:"artist"},{title:"Year",field:"year",type:"numeric"},{title:"Theoretical Price",field:"theoreticalprice",type:"numeric"},{title:"Actual Price",field:"actualprice",type:"numeric"},{title:"Rateable?",field:"rateable"},{title:"Owner",field:"owner"},{title:"URL",field:"url"}],data:er},ar=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getRows(),a.state=nr,document.body.className="background",a}return Object(l.a)(n,[{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return er=[],e.next=3,xn();case 3:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)r=a.value,er.push(r)}catch(i){n.e(i)}finally{n.f()}this.state.data=er,this.state.data=this.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),tr=!0,this.forceUpdate();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,tr?i.a.createElement("div",null,i.a.createElement(Ba.a,{title:"Artworks",components:{Pagination:function(e){return i.a.createElement("div",null,i.a.createElement(Za.a,e))}},columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),In(t),e.forceUpdate()}),600)}))},onRowUpdate:function(t,n){return new Promise((function(a){setTimeout((function(){a(),e.state.data=e.state.data.filter((function(e,t,a){return a[t].identifier!==n.identifier})),e.state.data.push(t),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),function(e){Sn.apply(this,arguments)}(t),e.forceUpdate()}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){var a;n(),e.state.data=e.state.data.filter((function(e,n,a){return a[n].identifier!==t.identifier})),e.state.data=e.state.data.sort((function(e,t){return e.identifier[0]>t.identifier[0]?1:-1})),e.setState(Object(Sa.a)({},e.state,{},e.state.data)),a=t.identifier,fetch(gt+"/artworks/"+a,{method:"delete",mode:"cors"}),e.forceUpdate()}),600)}))}}}),i.a.createElement(Qa,null)):i.a.createElement("h1",null,"Loading...")," ")}}]),n}(i.a.Component);var rr=function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},i.a.createElement(f.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Admin Homepage")),i.a.createElement(f.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Users")),i.a.createElement(f.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Auction")),i.a.createElement(f.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Trades")),i.a.createElement(f.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Ratings")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),i.a.createElement(x.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(ar,null))},ir=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return window.resizeTo(400,400)}},"Accept"),i.a.createElement("button",{onClick:window.close},"Decline"))}}]),n}(i.a.PureComponent),or=function(){return i.a.createElement("div",null,i.a.createElement(ir,null))};function cr(){window.confirm("WARNING: Resetting the game means removing all non-admin users, all artwork metadata (including history, microresearch, and theoretical price data), and all archived trade details. Press OK if you want to continue.")&&window.confirm("WARNING: THIS CANNOT BE UNDONE. Press OK if you are 100% certain you want to reset the game.")&&function(){Fn.apply(this,arguments)}()}var sr=function(){return i.a.createElement("div",null,i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){document.body.className="background";var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1];return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){a(null)}},i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),i.a.createElement(x.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(F.a,{style:{flexDirection:"row",justifyContent:"center"}},i.a.createElement(w.a,{style:{width:500,marginTop:30,padding:20}},i.a.createElement(x.a,{variant:"h3",align:"center"},"Administrator Page"),i.a.createElement("br",null),i.a.createElement(F.a,{style:{paddingLeft:"10%",paddingRight:"10%",flexDirection:"column",alignItems:"center"}},i.a.createElement(f.b,{style:{color:"#ffffff",textDecoration:"none",justifyContent:"center"},to:"/table"},i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Users"))),i.a.createElement(f.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/arttable"},i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Artworks"))),i.a.createElement(f.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/tradetable"},i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Incoming Trades"))),i.a.createElement(f.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/adminauction"},i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Create Auction"))),i.a.createElement(f.b,{style:{color:"#ffffff",textDecoration:"none"},to:"/adminform"},i.a.createElement(E.a,{variant:"contained",color:"primary",style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Artwork Ratings"))),i.a.createElement(E.a,{variant:"contained",color:"primary",onClick:cr,style:{marginTop:10,marginBottom:20,width:400,backgroundColor:"#002f86"}},i.a.createElement("span",{style:{fontSize:"1.5em"}},"Reset Game"))))),i.a.createElement("div",null,i.a.createElement(ke,null)))},lr=(n(992),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).index=0,e.numofdetails=0,e.expanded=!1,e}return n}(Object(k.a)(HTMLElement)));customElements.define("trade-details",lr);var ur=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).index=0,e}return n}(Object(k.a)(HTMLElement));function dr(e){document.getElementById(e).style.height="200px"}customElements.define("expand-button",ur);var mr=0,pr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),document.body.className="background",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getIncomingTrades(this)}},{key:"getIncomingTrades",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a,r,i,o,c,s,l,u,d,m,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<mr;n++)try{document.getElementById("trade"+n).remove()}catch(f){}return e.next=3,Un();case 3:return a=e.sent,e.next=6,Dn();case 6:r=e.sent,mr=0,e.t0=y.a.keys(a);case 9:if((e.t1=e.t0()).done){e.next=45;break}if(i=e.t1.value,0!==a[i].sellerapproved&&0!==a[i].buyerapproved){e.next=13;break}return e.abrupt("continue",9);case 13:for(d in mr++,(o=document.createElement("trade-details")).id="trade"+i.toString(),o.index=i,o.className="tradedropdown",o.style.color="white",o.style.top=(150+40*i).toString()+"px",o.innerHTML=a[i].buyer+" trading with "+a[i].seller,(c=document.createElement("expand-button")).innerHTML="expand",c.className="expandbutton",c.index=i,c.onclick=function(){var e,t=document.getElementById("trade"+this.index.toString());if(t.expanded){t.expanded=!1,e=t.id,document.getElementById(e).style.height="35px";for(var n=0;n<mr;n++)if(n>parseInt(t.id.slice(5)))try{document.getElementById("trade"+n.toString()).style.top=(parseInt(document.getElementById("trade"+n.toString()).style.top)-170).toString()+"px"}catch(r){}}else{dr(t.id);for(var a=0;a<mr;a++)if(a>parseInt(t.id.slice(5)))try{document.getElementById("trade"+a.toString()).style.top=(parseInt(document.getElementById("trade"+a.toString()).style.top)+170).toString()+"px"}catch(i){}t.expanded=!0}},o.append(c),(s=document.createElement("expand-button")).index=i,s.innerHTML="confirm",s.className="confirmbutton",s.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(a[this.index].tradeid);case 2:t.getIncomingTrades(t);case 3:case"end":return e.stop()}}),e,this)}))),o.append(s),(l=document.createElement("expand-button")).index=i,l.innerHTML="deny",l.className="denybutton",l.onclick=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(a[this.index].tradeid);case 2:t.getIncomingTrades(t),Nt("Trade denied");case 4:case"end":return e.stop()}}),e,this)}))),o.append(l),document.getElementById("incomingtrades").append(o),u=document.createElement("br"),document.getElementById("trade"+i.toString()).append(u),r)r[d].tradeid===a[i].tradeid&&(m=document.createElement("br"),document.getElementById("trade"+i.toString()).append(m),(p=document.createElement("a")).text=r[d].seller+" -> "+r[d].offer+" -> "+r[d].buyer,document.getElementById("trade"+i.toString()).append(p));e.next=9;break;case 45:this.forceUpdate();case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ka,null),i.a.createElement("div",{className:"title"},i.a.createElement(x.a,{variant:"h3"},"Incoming Trades")),i.a.createElement("div",{id:"incomingtrades"}))}}]),n}(i.a.Component);var fr=function(){return i.a.createElement("div",null,i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){document.body.className="background";var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},i.a.createElement(f.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Admin Homepage")),i.a.createElement(f.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Users")),i.a.createElement(f.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Artworks")),i.a.createElement(f.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Auction")),i.a.createElement(f.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Ratings")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),i.a.createElement(x.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement(ke,null)),i.a.createElement(pr,null))};var hr=function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},i.a.createElement(f.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Admin Homepage")),i.a.createElement(f.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Users")),i.a.createElement(f.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Artworks")),i.a.createElement(f.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Trades")),i.a.createElement(f.b,{to:"/adminform",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Ratings")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),i.a.createElement(x.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(ke,null),i.a.createElement(Ue,{style:{flex:1,zIndex:1}}))},yr=[],gr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),document.body.className="background",a.state={tileData:[]},a.getArtworks(),a}return Object(l.a)(n,[{key:"getAverageValue",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fantasycollecting.hamilton.edu/api/ratetable/");case 2:return n=e.sent,e.next=5,n.json();case 5:for(i in n=e.sent,a=0,r=0,n)n[i].identifier===t&&(r++,a+=parseInt(n[i].price));return a/=r,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getArtworks",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yr=[],e.next=3,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 3:return t=e.sent,e.next=6,t.json();case 6:t=e.sent,e.t0=y.a.keys(t);case 8:if((e.t1=e.t0()).done){e.next=17;break}if(n=e.t1.value,1!==t[n].rateable){e.next=15;break}return e.next=13,this.getAverageValue(t[n].identifier);case 13:a=e.sent,yr.push({img:t[n].url,title:t[n].title,artist:t[n].artist,identifier:t[n].identifier,average:a.toString().slice(0,5)});case 15:e.next=8;break;case 17:this.forceUpdate();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{color:"white"}},i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"Estimated Values"),yr.map((function(e){return i.a.createElement(F.a,{style:{padding:10,flexDirection:"row",justifyContent:"center"}},i.a.createElement("img",{src:e.img,alt:e.title,height:300,style:{alignItem:"center"}}),i.a.createElement(w.a,{style:{padding:10}},i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto",style:{textAlign:"left",marginLeft:20}},e.title),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto",style:{marginLeft:20}},"By: ",e.artist),i.a.createElement("div",{style:{margin:20}},i.a.createElement("form",null,i.a.createElement("label",null,"Average Value:"),i.a.createElement("br",null),i.a.createElement("p",null,e.average),i.a.createElement("br",null),i.a.createElement("br",null))),i.a.createElement("div",{style:{paddingTop:5,position:"relative",alignSelf:"right",justifyContent:"flex-end"}})))})),i.a.createElement(F.a,{style:{padding:10,flexDirection:"row",justifyContent:"center",textAlign:"center"}},i.a.createElement("div",null,i.a.createElement(w.a,{style:{height:20,width:190,display:"inline-block"}},i.a.createElement("input",{type:"checkbox",id:"shuffle"}),i.a.createElement("label",{for:"shuffle"}," Shuffle artworks?")),i.a.createElement("br",null),i.a.createElement(E.a,{size:"large",variant:"contained",color:"secondary",type:"submit",value:"Submit",style:{fontSize:20,backgroundColor:"#002f86",alignItem:"center",margin:20},onClick:Object(g.a)(y.a.mark((function t(){var n,a,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://fantasycollecting.hamilton.edu/api/artworks/");case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,t.t0=y.a.keys(n);case 7:if((t.t1=t.t0()).done){t.next=19;break}if(a=t.t1.value,1!==n[a].rateable){t.next=17;break}return t.next=12,e.getAverageValue(n[a].identifier);case 12:return r=t.sent,r*=100,r=Math.round(r),t.next=17,fetch("http://fantasycollecting.hamilton.edu/api/artworks/"+n[a].identifier,{method:"put",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({theoreticalprice:r})});case 17:t.next=7;break;case 19:Nt("Theoretical prices of artworks assigned"),!0===document.getElementById("shuffle").checked&&(Gn(),Nt("Artworks shuffled between users"));case 21:case"end":return t.stop()}}),t)})))},"Create Theoretical Prices")," ")))}}]),n}(i.a.Component);var br=function(){return i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},function(){var e=i.a.useState(null),t=Object(fa.a)(e,2),n=t[0],a=t[1],r=function(){a(null)};return i.a.createElement("div",null,i.a.createElement(ga.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},i.a.createElement(va.a,null)),i.a.createElement(ha.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r},i.a.createElement(f.b,{to:"/admin",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Admin Homepage")),i.a.createElement(f.b,{to:"/table",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Users")),i.a.createElement(f.b,{to:"/arttable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Artworks")),i.a.createElement(f.b,{to:"/tradetable",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Trades")),i.a.createElement(f.b,{to:"/adminauction",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:r},"Auction")),i.a.createElement(f.b,{to:"/",style:{color:"#000000",textDecoration:"none"}},i.a.createElement(ya.a,{onClick:function(){return yn()}},"Log Out"))))}(),i.a.createElement(x.a,{variant:"h6",color:"inherit"},"Fantasy Collecting -\xa0"),i.a.createElement(x.a,{variant:"h6",color:"inherit"},localStorage.getItem("username")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(gr,null))},vr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).rows=[],a.read=!1,a.tradeid=e.identifier,a.divid="TradeDropdown"+e.identifier,a.getRows=a.getRows.bind(Object(b.a)(a)),a.raiseTable=a.raiseTable.bind(Object(b.a)(a)),a.getRows(),a.state={columns:[{title:"Buyer",field:"buyer"},{title:"Seller",field:"seller"},{title:"Offer",field:"offer"}],data:a.rows},a}return Object(l.a)(n,[{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rows=[],e.next=3,Dn();case 3:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)1===(r=a.value).archived&&r.tradeid===this.tradeid&&this.rows.push(r)}catch(i){n.e(i)}finally{n.f()}this.state.data=this.rows,this.read=!0,this.forceUpdate();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="Trade Details for "+this.tradeid;return i.a.createElement("div",{id:this.divid,class:"tradeTableDropdown"},i.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),i.a.createElement("p",null,"\xa0"),this.read?i.a.createElement(Ba.a,{title:e,columns:this.state.columns,data:this.state.data,options:{rowStyle:{"z-index":3}}}):i.a.createElement("h1",null,"Loading..."),";")}}]),n}(i.a.Component),Er=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).rows=[],a.read=!1,a.tradetables=[],a.getRows=a.getRows.bind(Object(b.a)(a)),a.lowerTable=a.lowerTable.bind(Object(b.a)(a)),a.raiseTable=a.raiseTable.bind(Object(b.a)(a)),a.render=a.render.bind(Object(b.a)(a)),a.divid=e.identifier+"HistoryDropdown",a.getRows(),a.state={columns:[{title:"Date",field:"timestamp"},{title:"Buyer",field:"buyer"},{title:"Seller",field:"seller"},{title:"Selling Price",field:"price",type:"numeric"}],data:a.rows},a}return Object(l.a)(n,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(this.props.identifier);case 2:return t=e.sent,e.next=5,Cn(this.props.identifier);case 5:for(this.artwork=e.sent,this.artworkName=this.artwork.title,n=0;n<t.length;n++)t[n].timestamp=new Date(t[n].timestamp).toLocaleString(),null!==t[n].tradeid?(t[n].tradetableid="TradeDropdown"+t[n].tradeid,this.tradetables.push(t[n].tradeid)):t[n].tradetableid=null,this.rows.push(t[n]);this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return e.timestamp[0]>t.timestamp[0]?1:-1})),this.read=!0,this.forceUpdate();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="Provenance for '"+this.artworkName+"'";return i.a.createElement("div",null,i.a.createElement(E.a,{onClick:this.lowerTable},i.a.createElement("i",null,"Provenance")),i.a.createElement("div",{id:this.divid,class:"galleryDropdown"},i.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),i.a.createElement("p",null,"\xa0"),this.read?i.a.createElement(Ba.a,{title:e,columns:this.state.columns,data:this.state.data,actions:[{icon:Na.a,tooltip:"Trade Information",onClick:function(e,t){null!==t.tradetableid?document.getElementById(t.tradetableid).style.top="0px":alert("No trade information found.")}}]}):i.a.createElement("h1",null,"Loading..."),this.tradetables.map((function(e){return i.a.createElement(vr,{identifier:e})}))))}}]),n}(i.a.Component),xr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).lowerTable=a.lowerTable.bind(Object(b.a)(a)),a.raiseTable=a.raiseTable.bind(Object(b.a)(a)),a.submitMicroresearch=a.submitMicroresearch.bind(Object(b.a)(a)),a.getName=a.getName.bind(Object(b.a)(a)),a.textid=a.props.identifier+"MicroresearchPromptText",a.divid=a.props.identifier+"MicroresearchPromptDropdown",a.identifier=e.identifier,a.artworkName=void 0,a.getName(),a}return Object(l.a)(n,[{key:"getName",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this.identifier);case 2:t=e.sent,this.artworkName=t.title,this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"submitMicroresearch",value:function(){!function(e){An.apply(this,arguments)}({username:localStorage.getItem("username"),identifier:this.identifier,information:document.getElementById(this.textid).value,timestamp:new Date}),document.getElementById(this.divid).style.top="-600px",Nt("Microresearch submitted"),setTimeout((function(){window.location.reload()}),500)}},{key:"render",value:function(){var e='Add Microresearch for "'+this.artworkName+'"';return i.a.createElement("div",null,i.a.createElement(E.a,{onClick:this.lowerTable},i.a.createElement("i",null,"Add Microresearch...")),i.a.createElement("div",{id:this.divid,class:"galleryDropdown"},i.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),i.a.createElement("p",null,"\xa0"),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("h1",null,e),i.a.createElement("textarea",{style:{width:400,height:300},id:this.textid,multiline:"true"})),i.a.createElement("button",{onClick:this.submitMicroresearch,style:{margin:"auto",display:"block"}},"Submit")))}}]),n}(i.a.Component),wr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).rows=[],a.read=!1,a.getRows=a.getRows.bind(Object(b.a)(a)),a.lowerTable=a.lowerTable.bind(Object(b.a)(a)),a.raiseTable=a.raiseTable.bind(Object(b.a)(a)),a.divid=a.props.identifier+"MicroresearchDropdown",a.getRows(),a.state={columns:[{title:"User",field:"username"},{title:"Microresearch",field:"information"},{title:"Timestamp",field:"timestamp"}],data:a.rows},a}return Object(l.a)(n,[{key:"lowerTable",value:function(){document.getElementById(this.divid).style.top="50px"}},{key:"raiseTable",value:function(){document.getElementById(this.divid).style.top="-600px"}},{key:"getRows",value:function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this.props.identifier);case 2:return this.artwork=e.sent,this.artworkName=this.artwork.title,this.rows=[],e.next=7,Ln(this.props.identifier);case 7:t=e.sent,n=Object(j.a)(t);try{for(n.s();!(a=n.n()).done;)(r=a.value).identifier===this.props.identifier&&(r.timestamp=new Date(r.timestamp).toLocaleString(),this.rows.push(r))}catch(i){n.e(i)}finally{n.f()}this.state.data=this.rows,this.state.data=this.state.data.sort((function(e,t){return new Date(e.date)>new Date(t.date)?1:-1})),this.read=!0,this.forceUpdate();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e='Microresearch for "'+this.artworkName+'"';return i.a.createElement("div",null,i.a.createElement(E.a,{onClick:this.lowerTable},i.a.createElement("i",null,"Show Microresearch")),i.a.createElement("div",{id:this.divid,class:"galleryDropdown"},i.a.createElement("a",{class:"closebtn",onClick:this.raiseTable},"\xd7"),i.a.createElement("p",null,"\xa0"),this.read?i.a.createElement(Ba.a,{title:e,columns:this.state.columns,data:this.state.data}):i.a.createElement("h1",null,"Loading...")))}}]),n}(i.a.Component),kr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getArtworkInformation=a.getArtworkInformation.bind(Object(b.a)(a)),a.render=a.render.bind(Object(b.a)(a)),a.identifier=localStorage.getItem("singleIdent"),a.artworkInfo={},a.getArtworkInformation(),document.body.className="gallery",a}return Object(l.a)(n,[{key:"getArtworkInformation",value:function(){var e=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this.identifier);case 2:this.artworkInfo=e.sent,this.currentUser=localStorage.getItem("username"),this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ke,null)),i.a.createElement("div",null,i.a.createElement(_e,null)),i.a.createElement("div",null,i.a.createElement(la,null))),i.a.createElement(x.a,{fontFamily:"roboto",variant:"h4",component:"h4",style:{textAlign:"center",paddingTop:20,paddingBottom:10}},"More Information"),i.a.createElement("div",null,i.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"left-justified"},i.a.createElement("div",{style:{padding:10}},i.a.createElement("div",{style:{float:"left"}},i.a.createElement("img",{src:this.artworkInfo.url,alt:this.artworkInfo.title,style:{leftMargin:"auto",rightMargin:"auto",display:"block",height:300}})),i.a.createElement("div",{style:{float:"right"}},i.a.createElement(w.a,{style:{height:300}},i.a.createElement("div",{style:{padding:10}},i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},this.artworkInfo.title),i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},this.artworkInfo.artist," "),i.a.createElement(x.a,{variant:"h6",fontFamily:"roboto"},this.artworkInfo.year," "),i.a.createElement("br",null),i.a.createElement(x.a,{variant:"subtitle1",fontFamily:"roboto"},"Most recent sale price: ",0!==this.artworkInfo.actualprice&&void 0!==this.artworkInfo.actualprice?this.artworkInfo.actualprice:"N/A"),i.a.createElement("br",null),i.a.createElement(Er,{identifier:this.identifier}),i.a.createElement(wr,{identifier:this.identifier}),this.currentUser===this.artworkInfo.owner?i.a.createElement(xr,{identifier:this.identifier}):i.a.createElement("br",null)))))),i.a.createElement("br",null)))}}]),n}(r.Component);function jr(){return(jr=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(t);case 2:n=e.sent,document.getElementById("guilders").innerHTML="<img src=".concat(Ia.a," height='20' width='20'></img>").concat(n[0].guilders);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ir=function(){return function(e){jr.apply(this,arguments)}(localStorage.getItem("username")),i.a.createElement("div",null,i.a.createElement(ka,null),i.a.createElement(xa.a,{position:"fixed",style:{backgroundColor:"#002f86"}},i.a.createElement(wa.a,{variant:"dense"},i.a.createElement(v.a,{justify:"space-between",container:!0,spacing:1},i.a.createElement(v.a,{item:!0,xs:"90%"},i.a.createElement(Ea,{mode:!0})),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",color:"inherit",style:{marginTop:9}},"Fantasy Collecting - ",localStorage.getItem("username"))),i.a.createElement(v.a,{item:!0,xs:!0},i.a.createElement(x.a,{variant:"h6",style:{float:"right",marginTop:10},id:"guilders"},i.a.createElement("img",{src:Ia.a,height:"20",width:"20"}),0))))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(kr,null))},Or=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return i.a.createElement(p.b,Object.assign({},n,{render:function(e){return null!==localStorage.getItem("username")?i.a.createElement(t,e):i.a.createElement(p.a,{to:"/"})}}))},Sr=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return i.a.createElement(p.b,Object.assign({},n,{render:function(e){return null!==localStorage.getItem("username")&&"1"===localStorage.getItem("admin")?i.a.createElement(t,e):i.a.createElement(p.a,{to:"/gallery"})}}))},Cr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(f.a,null,i.a.createElement(p.d,null,i.a.createElement(p.b,{exact:!0,path:"/",component:Wa}),i.a.createElement(Or,{path:"/tradeoption",component:or}),i.a.createElement(Sr,{path:"/table",component:Ra}),i.a.createElement(Sr,{path:"/arttable",component:rr}),i.a.createElement(Sr,{path:"/tradetable",component:fr}),i.a.createElement(Sr,{path:"/adminauction",component:hr}),i.a.createElement(Or,{path:"/gallery",component:Oa}),i.a.createElement(Or,{path:"/auction",component:Xa}),i.a.createElement(Or,{path:"/adminform",component:br}),i.a.createElement(Or,{path:"/singleartwork",component:Ir}),i.a.createElement(Sr,{path:"/admin",component:sr}),i.a.createElement(p.b,{exact:!0,path:"/404notfound",component:Fa}),i.a.createElement(p.a,{to:"/404notfound"})))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(Cr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[610,1,2]]]);
//# sourceMappingURL=main.16b68238.chunk.js.map