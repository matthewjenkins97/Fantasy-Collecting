{"version":3,"sources":["static/guilder.svg","../node_modules/keyv/src sync","../node_modules/got/source sync","md5.js","tradefuncs.js","components/ChatApp.js","components/MessageList.js","components/Input.js","components/ChatMessage.js","components/adminauction.js","components/homepageofother.js","components/studentauction.js","auctionfuncs.js","serverfuncs.js","components/tradewindow.js","components/form.js","components/homepage.js","components/simpleMenu.js","components/notification.js","pages/index.js","components/newtable.js","components/homepageofotheradmin.js","pages/usertable.js","pages/error.js","components/appbar.js","components/login.js","pages/login.js","pages/auction.js","components/imagedrop.js","components/artworktable.js","pages/arttable.js","components/tradeoption.js","pages/tradeoption.js","pages/admin.js","components/incomingtrades.js","pages/tradetable.js","pages/adminauction.js","components/adminform.js","pages/adminform.js","components/historytable.js","components/microresearchprompt.js","components/microresearchtable.js","components/singleartwork.js","pages/singleartwork.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","rhex","num","str","j","charAt","add","x","y","lsw","cmn","q","a","b","s","t","cnt","ff","c","d","gg","hh","ii","MD5","nblk","length","blks","Array","i","charCodeAt","str2blks_MD5","olda","oldb","oldc","oldd","toLowerCase","checkOfferType","offer","test","conductTrade","buyer","seller","tradeid","fetch","method","mode","buyerBody","json","guilders","parseInt","microresearchpoints","headers","body","JSON","stringify","sellerBody","owner","historyBody","Date","clientUUID","pubnub","cref","MessageList","objDiv","document","getElementById","scrollTop","scrollHeight","className","this","props","messages","map","message","index","key","entry","localStorage","getItem","View","style","alignItems","textAlign","fontWeight","marginBottom","fontSize","color","padding","elevation","background","borderRadius","marginLeft","display","update","marginRight","Component","Input","state","handleChange","bind","handleSubmit","setState","target","value","preventDefault","onSubmit","type","onChange","PubNub","require","currentRoom","currentUser","getlastmessagetimestamp","history","channel","count","then","ts","time","catch","error","orderchannelname","users","sort","join","setUpUUID","useruuid","uuid","setItem","generateUUID","setUserUUID","publishKey","subscribeKey","addListener","msg","console","log","room","addToMessages","updateMessageCount","presence","event","status","subscribeToPubChannels","res","mroomcount","username","messagecount","serverfuncs","usernames","push","subscribe","channels","withPresence","initializemessages","userchannel","newmessage","response","forceUpdate","allchannels","ChatApp","otherUser","created","currentRoomId","general","rooms","thing","messageType","aMessage","text","sendmessage","now","publish","ref","userList","roomtitle","expandUsers","zIndex","marginTop","position","bottom","sendMessage","onClick","getallmessagechannels","openNav","left","closeNav","checkForMessages","areMessages","r","other","replace","innerHTML","toString","includes","getRoomMessagesForThisUser","lasttimestamp","split","currentLotId","scurrentLotID","currentLotName","ChatMessage","currentView","chatView","otherChatter","undefined","unread","userlist","current","otheruser","name","unreadCount","getUsers","user","cRef","buttonnode","createElement","onclick","changeChat","appendChild","changeView","right","cursor","flex","LotImage","HTMLImageElement","customElements","define","extends","currentAuctions","updateLots","tl","auctionfuncs","mystring","identifier","number","highestbid","closeCreateDropdown","top","closeAddDropdown","openAddDropdown","createAuction","addLotToAuction","createLot","ARTWORKSLOADED","INNER","height","overflowY","artworks","buttonNode","AuctionAdmin","loadAuctions","remove","auctions","lots","auction","archived","allowstudents","loadLots","groupid","brnode","append","releasedNode","backgroundColor","width","archivedNode","title","titleNode","timerNode","addLotNode","deleteNode","archiveNode","releaseNode","auctionnode","auctionnumber","l","sourceOfImage","auctionScroll","confirmNode","slice","imageNode","is","src","url","sold","artist","year","lotessay","soldNode","overflow","transform","textNode","overflowX","u","objectFit","confirmBid","Typography","variant","alignContent","loadArtworksForLot","React","tileData","closeUserMenu","raiseOtherGallery","OtherGallery","userInfo","blurb","admin","getTileData","img","getBlurb","class","fontFamily","component","paddingTop","paddingBottom","Grid","container","direction","justify","tile","to","alt","Paper","supdateLots","AuctionStudent","imagenode","textnode","trackedLots","setTrackedLots","checkForAuctionUpdates","getAllLots","allLots","window","location","endsWith","showNotification","postBid","group","bid","deadline","deleteLot","deleteAuction","archiveAuction","releaseAuction","getAllAuctions","date","essay","currentlots","cl","conductAuctionTrade","artwork","auctionid","actualprice","userBody","apiURL","coroutine","f","o","next","timerupdate","updatetimers","timeleft","Location","reload","parseTime","datetime","datedays","Math","floor","datehours","dateminutes","dateseconds","padStart","setInterval","messageCheck","NOT_REF","RESPONSE_INTERVAL_REF","ITEM_INTERVAL_REF","FINALIZE_INTERVAL_REF","CURRENT_TRADE_ID","CURRENT_TRADE_USER","notCheck","offsetHeight","clearInterval","notification","tradeCheck","checkForTrade","itemCheck","updateItems","finalizeCheck","checkForFinalize","responseCheck","checkForResponse","clearApproval","buyerapproved","sellerapproved","myJson","trade","parse","clearIntervals","tradeFuncs","sendFormToAdmin","still_active","items","items_json","addArtworkToTrade","arts","art","approved","removeArtworkFromTrade","offers","userHasEnough","info","addGuildersToTrade","change_g","isNaN","initiateTrade","tid","buyerinit","sellerinit","approveTrade","getAllArtworks","getAllUsers","userguilders","artworkowner","denyTrade","theTrades","acceptTrade","declineTrade","cancelTrade","logOutUser","clear","unsubscribeAll","getUser","student","students","data","hash","formcompleted","alert","createArtwork","theoreticalprice","rateable","getArtworkInfo","getHistory","getMicroresearch","microresearch","information","timestamp","getTradeDetails","tradedetails","getTrades","shuffleArtworks","playableUsers","rateableArtworks","randomUser","random","IndexElem","indexValue","HTMLElement","receivingRequest","openalert","closealert","openTrade","isReceiving","closeTrade","onbeforeunload","returnValue","ARTWORKS_READ","expandArtworks","artList","totalTradeItems","itemImages","populateUserTradeFields","item","parentid","deletenode","totalTrades","currentTrades","addTrades","removeTrade","divnode","buttonnode2","waiting","TradeWindow","Number","isInteger","check","PureComponent","Form","getArtworks","checkIfDone","images","flexDirection","justifyContent","alignItem","margin","min","max","maxlength","alignSelf","Button","size","ratingIdentifier","rating","price","Main","hidden","setBlurb","float","multiline","saveBlurb","openForm","transition","SimpleMenu","useState","anchorEl","setAnchorEl","handleClose","IconButton","edge","aria-label","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","open","Boolean","onClose","textDecoration","MenuItem","Notification","MainPage","getGuilders","AppBar","Toolbar","spacing","xs","Guilder","chatkit","Chatkit","instanceLocator","MicroresearchTable","rows","read","getRows","lowerTable","raiseTable","divid","columns","field","artworkMicroresearch","toLocaleString","MaterialTableDemo","microresearchids","stateBeg","createUser","currentUsername","currentId","err","microresearchIdentifier","dict","row","actions","icon","SearchIcon","tooltip","rowData","editable","onRowAdd","newData","Promise","setTimeout","onRowUpdate","oldData","filter","arr","onRowDelete","TablePage","ErrorPage","useStyles","makeStyles","theme","root","flexGrow","menuButton","DenseAppBar","classes","Login","values","password","gotoadmin","gotostudent","logBackInUser","stringName","redirectToPage","TextField","label","logInUser","Card","AuctionPage","preventDefaults","stopPropagation","handleDrop","files","forEach","uploadFile","handleFiles","dataTransfer","file","xhr","XMLHttpRequest","formData","FormData","addEventListener","readyState","responseText","confirm","send","ImageDrop","setUpDrop","getAllImages","imageDisplay","photos","backgroundImage","backgroundSize","urlNode","dropArea","highlight","classList","unhighlight","eventName","ArtworkTable","components","Pagination","TablePagination","TradeOption","resizeTo","close","TradeOptionPage","checkConfirmation","AdminPage","align","paddingLeft","paddingRight","TradeDetails","numofdetails","expanded","ExpandButton","expandTradeDropdown","IncomingTrades","getIncomingTrades","trades","details","detail","auctionNode","expandNode","anode","denyNode","breakNode","detailNode","AdminForm","ident","ratings","average","numofratings","getAverageValue","av","for","tp","round","checked","FormPage","TradeTable","options","rowStyle","HistoryTable","tradetables","render","artworkName","tradetableid","MicroresearchPrompt","submitMicroresearch","getName","textid","Single","getArtworkInformation","artworkInfo","leftMargin","rightMargin","SinglePage","PrivateRoute","rest","AdminRoute","Home","exact","path","Table","ArtTable","AdminAuction","Auction","hostname","match","ReactDOM","App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.16b68238.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/guilder.9110e9e5.svg\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 677;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 685;","// MD5 checksum generator.\n\n// CITE: https://lig-membres.imag.fr/donsez/cours/exemplescourstechnoweb/js_securehash/\n// This is used in lieu of a package because it's in browser and can't import without html.\n\n/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Copyright (C) Paul Johnston 1999 - 2000.\n * Updated by Greg Holt 2000 - 2001.\n * See http://pajhome.org.uk/site/legal.html for details.\n */\n\nexport { MD5 }\n\n/*\n * Convert a 32-bit number to a hex string with ls-byte first\n */\nvar hex_chr = \"0123456789abcdef\";\nfunction rhex(num)\n{\n  let str = \"\";\n  for(let j = 0; j <= 3; j++)\n    str += hex_chr.charAt((num >> (j * 8 + 4)) & 0x0F) +\n           hex_chr.charAt((num >> (j * 8)) & 0x0F);\n  return str;\n}\n\n/*\n * Convert a string to a sequence of 16-word blocks, stored as an array.\n * Append padding bits and the length, as described in the MD5 standard.\n */\nfunction str2blks_MD5(str)\n{\n  let nblk = ((str.length + 8) >> 6) + 1;\n  let blks = new Array(nblk * 16);\n  for(let i = 0; i < nblk * 16; i++) {\n    blks[i] = 0;\n  }\n  for(let i = 0; i < str.length; i++) {\n    blks[i >> 2] |= str.charCodeAt(i) << ((i % 4) * 8);\n    blks[i >> 2] |= 0x80 << ((i % 4) * 8);\n    blks[nblk * 16 - 2] = str.length * 8;\n  }\n  return blks;\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally \n * to work around bugs in some JS interpreters.\n */\nfunction add(x, y)\n{\n  let lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  let msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left\n */\nfunction rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\n/*\n * These functions implement the basic operation for each round of the\n * algorithm.\n */\nfunction cmn(q, a, b, x, s, t)\n{\n  return add(rol(add(add(a, q), add(x, t)), s), b);\n}\nfunction ff(a, b, c, d, x, s, t)\n{\n  return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\nfunction gg(a, b, c, d, x, s, t)\n{\n  return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\nfunction hh(a, b, c, d, x, s, t)\n{\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\nfunction ii(a, b, c, d, x, s, t)\n{\n  return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n\n/*\n * Take a string and return the hex representation of its MD5.\n */\nfunction MD5(str)\n{\n  let x = str2blks_MD5(str);\n  let a =  1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d =  271733878;\n\n  for(let i = 0; i < x.length; i += 16)\n  {\n    let olda = a;\n    let oldb = b;\n    let oldc = c;\n    let oldd = d;\n\n    a = ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n    d = ff(d, a, b, c, x[i+ 1], 12, -389564586);\n    c = ff(c, d, a, b, x[i+ 2], 17,  606105819);\n    b = ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n    a = ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n    d = ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n    c = ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n    b = ff(b, c, d, a, x[i+ 7], 22, -45705983);\n    a = ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n    d = ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n    c = ff(c, d, a, b, x[i+10], 17, -42063);\n    b = ff(b, c, d, a, x[i+11], 22, -1990404162);\n    a = ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n    d = ff(d, a, b, c, x[i+13], 12, -40341101);\n    c = ff(c, d, a, b, x[i+14], 17, -1502002290);\n    b = ff(b, c, d, a, x[i+15], 22,  1236535329);    \n\n    a = gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n    d = gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n    c = gg(c, d, a, b, x[i+11], 14,  643717713);\n    b = gg(b, c, d, a, x[i+ 0], 20, -373897302);\n    a = gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n    d = gg(d, a, b, c, x[i+10], 9 ,  38016083);\n    c = gg(c, d, a, b, x[i+15], 14, -660478335);\n    b = gg(b, c, d, a, x[i+ 4], 20, -405537848);\n    a = gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n    d = gg(d, a, b, c, x[i+14], 9 , -1019803690);\n    c = gg(c, d, a, b, x[i+ 3], 14, -187363961);\n    b = gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n    a = gg(a, b, c, d, x[i+13], 5 , -1444681467);\n    d = gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n    c = gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n    b = gg(b, c, d, a, x[i+12], 20, -1926607734);\n    \n    a = hh(a, b, c, d, x[i+ 5], 4 , -378558);\n    d = hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n    c = hh(c, d, a, b, x[i+11], 16,  1839030562);\n    b = hh(b, c, d, a, x[i+14], 23, -35309556);\n    a = hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n    d = hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n    c = hh(c, d, a, b, x[i+ 7], 16, -155497632);\n    b = hh(b, c, d, a, x[i+10], 23, -1094730640);\n    a = hh(a, b, c, d, x[i+13], 4 ,  681279174);\n    d = hh(d, a, b, c, x[i+ 0], 11, -358537222);\n    c = hh(c, d, a, b, x[i+ 3], 16, -722521979);\n    b = hh(b, c, d, a, x[i+ 6], 23,  76029189);\n    a = hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n    d = hh(d, a, b, c, x[i+12], 11, -421815835);\n    c = hh(c, d, a, b, x[i+15], 16,  530742520);\n    b = hh(b, c, d, a, x[i+ 2], 23, -995338651);\n\n    a = ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n    d = ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n    c = ii(c, d, a, b, x[i+14], 15, -1416354905);\n    b = ii(b, c, d, a, x[i+ 5], 21, -57434055);\n    a = ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n    d = ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n    c = ii(c, d, a, b, x[i+10], 15, -1051523);\n    b = ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n    a = ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n    d = ii(d, a, b, c, x[i+15], 10, -30611744);\n    c = ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n    b = ii(b, c, d, a, x[i+13], 21,  1309151649);\n    a = ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n    d = ii(d, a, b, c, x[i+11], 10, -1120210379);\n    c = ii(c, d, a, b, x[i+ 2], 15,  718787259);\n    b = ii(b, c, d, a, x[i+ 9], 21, -343485551);\n\n    a = add(a, olda);\n    b = add(b, oldb);\n    c = add(c, oldc);\n    d = add(d, oldd);\n  }\n  return (rhex(a) + rhex(b) + rhex(c) + rhex(d)).toLowerCase();\n}","function checkOfferType(offer) {\n  return /^\\d+$/.test(offer);\n}\n\nexport async function conductTrade(buyer, seller, offer, tradeid) {\n  // change current owner of painting to buyer\n  if (checkOfferType(offer)) {\n    // subtract buyer's payment from their account, add microresearch points\n    let buyerBody = await fetch(`http://fantasycollecting.hamilton.edu/api/users/${buyer}`, {\n      method: 'get',\n      mode: 'cors',\n    });\n    buyerBody = await buyerBody.json();\n    buyerBody = buyerBody[0];\n    buyerBody.guilders = (parseInt(buyerBody.guilders) + parseInt(offer));\n    buyerBody.microresearchpoints += 10;\n\n    fetch(`http://fantasycollecting.hamilton.edu/api/users/${buyer}`, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(buyerBody),\n    // }).then((res) => {\n    //   console.log(res)\n    });\n\n    // add seller's payment from their account\n    let sellerBody = await fetch(`http://fantasycollecting.hamilton.edu/api/users/${seller}`, {\n      method: 'get',\n      mode: 'cors',\n    });\n    sellerBody = await sellerBody.json();\n    sellerBody = sellerBody[0];\n    sellerBody.guilders = (parseInt(sellerBody.guilders) - parseInt(offer));\n\n    fetch(`http://fantasycollecting.hamilton.edu/api/users/${seller}`, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(sellerBody),\n    // }).then((res) => {\n    //   console.log(res)\n    });\n  } else {\n    fetch(`http://fantasycollecting.hamilton.edu/api/artworks/${offer}`, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        owner: buyer,\n      }),\n    // }).then((res) => {\n    //   console.log(res)\n    });\n  }\n\n  // post transaction to history\n  const historyBody = {\n    'identifier': offer,\n    'seller': seller,\n    'buyer': buyer,\n    'timestamp': new Date,\n    'tradeid': tradeid,\n  };\n\n  fetch(`http://fantasycollecting.hamilton.edu/api/history/`, {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(historyBody),\n  // }).then((res) => {\n  //   console.log(res)\n  });\n}\n","import React, {Component} from 'react';\nimport {ChatManager, TokenProvider, ChatkitProvider} from '@pusher/chatkit-client';\nimport MessageList from './MessageList';\nimport Input from './Input';\nimport {setRoomCount} from './ChatMessage.js';\nimport * as serverfuncs from '../serverfuncs';\nimport {default as Chatkit} from '@pusher/chatkit-server';\n\nexport {setUpUUID, getlastmessagetimestamp, unsubpub};\n\nlet chatManager;\n\n// PUBNUB\n\nconst PubNub = require('pubnub');\nlet clientUUID;\nconst theEntry = localStorage.getItem('username');\n\nlet currentRoom = '';\nlet currentUser = '';\n\nlet pubnub;\n\nfunction unsubpub() {\n  pubnub.unsubscribeAll();\n}\n\nasync function getlastmessagetimestamp(id) {\n  let ts;\n  await pubnub.history({\n    channel: id,\n    count: 1,\n  }).then((messages)=> {\n    if (messages.messages.length === 0) {\n      ts = 0;\n    } else {\n      ts = messages.messages[0].entry.time;\n    }\n  }).catch((error)=> {\n    ts = -1;\n  });\n  return ts;\n}\n\nfunction orderchannelname(users) {\n  if (users[1] === 'General') return 'General';\n  users = users.sort();\n  return users.join('');\n}\n\nlet cref;\n\nasync function setUpUUID() {\n  let useruuid = await fetch('http://fantasycollecting.hamilton.edu/api/users/'+localStorage.getItem('username'));\n  useruuid = await useruuid.json();\n  // try{\n    useruuid = useruuid[0].uuid;\n  // }\n  // catch{\n  //   useruuid = null;\n  // }\n\n  localStorage.setItem('UUIDpub', useruuid);\n\n  if (localStorage.getItem('UUIDpub') === null || typeof(localStorage.getItem('UUIDpub') === 'undefined')) {\n    clientUUID = PubNub.generateUUID();\n    setUserUUID();\n  } else {\n    clientUUID = localStorage.getItem('UUIDpub');\n  }\n  pubnub = new PubNub({\n    publishKey: 'pub-c-f398c4c4-374c-4212-8934-1d1fa38c4dcd',\n    subscribeKey: 'sub-c-4977ce58-a103-11ea-9123-e6a08f73ae22',\n    uuid: clientUUID,\n  });\n  pubnub.addListener({\n    message: function(msg) {\n      console.log(\"message recieved\");\n      if (msg.message.entry === localStorage.getItem('username')||\n          msg.message.entry === currentUser||\n          msg.message.room === 'General') {\n        addToMessages(cref, currentRoom, {entry: msg.message});\n        updateMessageCount(msg.message.time, currentRoom);\n      }\n    },\n    presence: function(event) {\n    },\n    status: function(event) {\n    }});\n  subscribeToPubChannels();\n}\n\nfunction setUserUUID() {\n  fetch('http://fantasycollecting.hamilton.edu/api/users/'+localStorage.getItem('username'), {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      uuid: clientUUID,\n    }),\n  }).then(function (res) {\n  });\n}\n\nasync function updateMessageCount(ts, room) {\n  console.log(room);\n  if (typeof ts === 'undefined' || ts === null) return;\n  let mroomcount = await fetch('http://fantasycollecting.hamilton.edu/api/messages/'+localStorage.getItem('username')+'/'+room);\n  mroomcount = await mroomcount.json();\n  if (mroomcount.length === 0) {\n    await fetch('http://fantasycollecting.hamilton.edu/api/messages/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        username: localStorage.getItem('username'),\n        room: room,\n        messagecount: ts,\n      }),\n    });\n  } else {\n    console.log('updating message count for room '+room);\n    fetch('http://fantasycollecting.hamilton.edu/api/messages/'+localStorage.getItem('username')+'/'+room, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        messagecount: ts,\n      }),\n    }).then(function(res) {\n    });\n  }\n}\n\n\nasync function subscribeToPubChannels() {\n  const users = await serverfuncs.getAllUsers();\n  const usernames = ['General'];\n  for (let i in users) {\n    usernames.push(orderchannelname([localStorage.getItem('username'), users[i].username]));\n  }\n  pubnub.subscribe({\n    channels: usernames,\n    withPresence: true,\n  });\n  console.log('subscribed to channels');\n}\n\n\nasync function initializemessages(cref, userchannel, newmessage) {\n  pubnub.history({\n    channel: userchannel,\n  }).then((response)=> {\n    cref.state.messages = response.messages;\n    if (typeof(newmessage) !== 'undefined') {\n      cref.state.messages.push(newmessage);\n    }\n    console.log('time');\n    console.log(cref.state.messages[cref.state.messages.length-1].entry.time);\n    updateMessageCount(cref.state.messages[cref.state.messages.length-1].entry.time, userchannel);\n    cref.forceUpdate();\n  }).catch((error)=> {\n  });\n  cref.state.currentRoom = userchannel;\n}\n\n\nfunction addToMessages(cref, userchannel, newmessage) {\n  cref.state.messages.push(newmessage);\n  cref.forceUpdate();\n}\n\n\nclass ChatApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUser: localStorage.getItem('username'),\n      currentRoom: '',\n      messages: [],\n      users: [],\n      otherUser: props.otherUser,\n      created: false,\n      currentRoomId: '',\n      general: props.general,\n    };\n  }\n\n  checkRoom(rooms, currentRoom) {\n    for (const thing in rooms) {\n      if (rooms[thing].id == currentRoom) {\n        return;\n      }\n    }\n    this.setState({created: true});\n  }\n\n  displayMessage(messageType, aMessage) {\n    initializemessages(this, currentRoom);\n  }\n\n  async componentDidMount() {\n    // PUBNUB\n    cref = this;\n    initializemessages(this, orderchannelname([localStorage.getItem('username'), this.state.otherUser]));\n  }\n\n  async sendMessage(text) {\n    const sendmessage = {'entry': localStorage.getItem('username'), 'update': text, 'time': Date.now(), 'room':cref.state.currentRoom};\n    console.log(sendmessage);\n    pubnub.publish({\n      channel: cref.state.currentRoom,\n      message: sendmessage,\n    },\n    function(status, response) {\n      if (status.error) {\n        console.log(status);\n      } else {\n        updateMessageCount(sendmessage.time, cref.state.currentRoom);\n      }\n    });\n  }\n\n\n  async expandUsers(ref) {\n    const userList = await serverfuncs.getAllUsers();\n    return userList;\n  }\n\n  render() {\n    let roomtitle = this.state.otherUser;\n    if (this.state.general == 'General') {\n      roomtitle = 'General';\n    }\n    const userList = this.expandUsers(this);\n    const styles = {\n      container: {\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n      },\n      chatContainer: {\n        display: 'flex',\n        flex: 1,\n      },\n      whosOnlineListContainer: {\n        width: '20px',\n        flex: 'none',\n        padding: 20,\n        backgroundColor: '#2c303b',\n        color: 'white',\n      },\n      chatListContainer: {\n        padding: 20,\n        width: '85%',\n        display: 'flex',\n        flexDirection: 'column',\n      },\n    };\n    currentRoom = this.state.currentRoom;\n    currentUser = this.state.otherUser;\n    return (\n      <div>\n        <div className='chatapp' style={{zIndex: 99}}>\n          <h3 className='header'>{roomtitle}</h3>\n          <div id='messages' style={{marginTop: '17px'}}>\n            <MessageList messages={this.state.messages} style={{position: 'absolute', bottom: 0}}/>\n          </div>\n          <Input className='input-field' onSubmit={this.sendMessage} onClick={{}} onChange={{}}/>\n        </div>\n      </div>);\n  }\n}\n\nexport default ChatApp;\n","import React, {Component} from 'react';\nimport {View} from 'react-native';\n\nclass MessageList extends Component {\n  componentDidUpdate() {\n    // get the messagelist container and set the scrollTop to the height of the container\n    const objDiv = document.getElementById('messageList');\n    objDiv.scrollTop = objDiv.scrollHeight;\n  }\n\n  render() {\n    return (\n      <ul className='message-list' id='messageList'>\n        {this.props.messages.map((message, index) => (\n          <li key={index}>\n            {message.entry.entry == localStorage.getItem('username') ?\n            (<View style={{alignItems: 'flex-end'}}><h5 style={{textAlign: 'right', fontWeight: 'normal', marginBottom: -5,\n              fontSize: '1em', color: '#b5b5b5'}}className='message-sender'>you</h5>\n            <div\n              className='message-text'><div style={{textAlign: 'right',\n                padding: '10px',\n                elevation: 0,\n                background: '#147efb',\n                color: 'white',\n                borderRadius: '15px',\n                marginLeft: '50px',\n                display: 'inline-block',\n                marginBottom: -1,\n              }}>{message.entry.update}</div></div></View>) :\n            (<div><h5 style={{textAlign: 'left', color: '#b5b5b5', fontWeight: 'normal', marginBottom: -5}} className='message-sender'>{message.entry.entry}</h5>\n              <div style={{textAlign: 'left',\n                padding: '10px',\n                elevation: 0,\n                background: '#CCCCCC',\n                borderRadius: '15px',\n                marginRight: '50px',\n                display: 'inline-block',\n                marginBottom: -1,\n              }}\n              className='message-text'>\n                {message.entry.update}\n              </div>\n            </div>)}\n          </li>\n        ))}\n        <li></li>\n      </ul>\n    );\n  }\n}\n\nexport default MessageList;\n","import React, {Component} from 'react';\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      message: e.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.props.onSubmit(this.state.message);\n    this.setState({\n      message: '',\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className='input-field'>\n        <input className='message-input' type='text' onChange={this.handleChange} value={this.state.message}/>\n        <input className='message-submit' type='submit' value='send' />\n      </form>\n    );\n  }\n}\n\nexport default Input;\n","import React, {Component} from 'react';\nimport ChatApp from './ChatApp.js';\nimport {default as Chatkit} from '@pusher/chatkit-server';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {View} from 'react-native';\nimport {ChatManager, TokenProvider} from '@pusher/chatkit-client';\nimport * as serverfuncs from '../serverfuncs';\nimport './message.css';\nimport {setUpUUID, getlastmessagetimestamp} from './ChatApp';\nexport {checkForMessages, setRoomCount};\n\n\n\nlet allchannels;\n\nfunction orderchannelname(users) {\n  if (users[1] === 'General') return 'General';\n  users = users.sort();\n  return users.join('');\n}\n\nasync function getallmessagechannels() {\n  console.log('USERNAME');\n  console.log(localStorage.getItem('username'));\n  const users = await serverfuncs.getAllUsers();\n  const usernames = ['General'];\n  for (let i in users) {\n    usernames.push(orderchannelname([localStorage.getItem('username'), users[i].username]));\n  }\n  allchannels = usernames;\n}\n\n// function for opening menu for messaging\nfunction openNav() {\n  document.getElementById('messageinit').style.left = '0px';\n  document.getElementById('messagebutt').style.left = '210px';\n  document.getElementById('messagealert').style.left = '380px';\n}\n\n// function for closing menu for messaging\nfunction closeNav() {\n  document.getElementById('messageinit').style.left = '-200px';\n  document.getElementById('messagebutt').style.left = '10px';\n  document.getElementById('messagealert').style.left = '180px';\n}\n\n// called every few seconds to check for new messages\nasync function checkForMessages() {\n  if (typeof localStorage.getItem('username') === 'undefined' || localStorage.getItem('username') === null) {\n    return;\n  }\n  if(typeof(allchannels) == 'undefined') {\n    await getallmessagechannels();\n  }\n  let areMessages = false;\n  try {\n    for (const r in allchannels) {\n      const other = allchannels[r].replace(localStorage.getItem('username'),'');\n      try {\n        let nan = document.getElementById(other).innerHTML.toString();\n        nan = nan;\n      } catch {\n        continue;\n      };\n      if(!allchannels[r].includes(localStorage.getItem('username'))&&allchannels[r] !== 'General') {\n        continue;\n      }\n      const num = await getRoomMessagesForThisUser(allchannels[r]);\n      const lasttimestamp = await getlastmessagetimestamp(allchannels[r]);\n      console.log(lasttimestamp);\n      if (num < lasttimestamp) {\n        console.log('there are new messages from '+other);\n        console.log(num+\" is less than \"+lasttimestamp);\n        areMessages = true;\n        try{\n        document.getElementById(other).innerHTML = document.getElementById(other).innerHTML.split(' ')[0] + ' !';\n        }catch{}\n      } else {\n        try {\n        document.getElementById(other).innerHTML = document.getElementById(other).innerHTML.split(' ')[0];\n        }catch{}\n      }\n    }\n\n    if (areMessages) {\n      document.getElementById('messagealert').style.display = 'block';\n    } else {\n      document.getElementById('messagealert').style.display = 'none';\n    }\n  }catch{}\n}\n\nasync function getRoomMessagesForThisUser(id) {\n  let room = await fetch('http://fantasycollecting.hamilton.edu/api/messages/'+localStorage.getItem('username')+'/'+id);\n  room = await room.json();\n  if(room.length === 0) {\n    return 0;\n  }\n  return room[0].messagecount;\n}\n\n// set room count for one room\nasync function setRoomCount(id, count) {\n  let mroomcount = await fetch('http://fantasycollecting.hamilton.edu/api/messages/'+localStorage.getItem('username')+'/'+id);\n  mroomcount = await mroomcount.json();\n  if (mroomcount.length === 0) {\n    await fetch('http://fantasycollecting.hamilton.edu/api/messages/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        username: localStorage.getItem('username'),\n        room: id,\n        messagecount: count,\n      }),\n    });\n  } else {\n    await fetch('http://fantasycollecting.hamilton.edu/api/messages/'+localStorage.getItem('username'), {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        messagecount: count,\n      }),\n    });\n  }\n}\n\nclass ChatMessage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentView: false, // general open or not\n      chatView: false, // DM open or not\n      otherChatter: undefined,\n      userList: [],\n      unread: [],\n    };\n    //this.changeView = this.changeView.bind(this);\n    //this.setUnread = this.setUnread.bind(this);\n  }\n\n  // fetch all users from database\n  async getUsers() {\n    const userlist = await serverfuncs.getAllUsers();\n    this.setState({\n      userList: userlist,\n    });\n  }\n\n  // change to general chatroom window\n  async changeView(current) {\n    this.setState({\n      currentView: !current,\n    });\n\n    // await this.setUnread(cm.rooms);\n\n    // for (let i = 0; i < this.state.unread.length; i++) {\n    //   if (this.state.unread[i][0].toString() === 'General') {\n    //     await setRoomCount('General', this.state.unread[i][1]);\n    //   }\n    // }\n  }\n\n  // change chatroom window\n  async changeChat(current, otheruser) {\n    this.setState({\n      chatView: !current,\n      otherChatter: otheruser,\n    });\n\n    // const cm = await chatManager.connect();\n    // await this.setUnread(cm.rooms);\n\n    // let roomName = orderchannelname([localStorage.getItem('username'), otheruser]);\n    // let lastmessage = await this.getlastmessagetimestamp(roomName);\n    // setRoomCount(roomName, lastmessage);\n  }\n\n  // update the amount of messages in room for client side\n  async setUnread(rooms) {\n    this.setState({unread: []});\n    if (typeof rooms === 'undefined') {\n      return;\n    }\n    for (let i = 0; i < rooms.length; i++) {\n      if (rooms[i].name !== '') {\n        this.setState({\n          unread: [...this.state.unread, [rooms[i].name, rooms[i].unreadCount]],\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    await this.getUsers();\n    const cRef = this;\n    for (const user in this.state.userList) {\n      if (this.state.userList[user].username !== localStorage.getItem('username')) {\n        const buttonnode = document.createElement('a');\n        buttonnode.style.padding = '0px 0px 5px 0px';\n        buttonnode.id = this.state.userList[user].username;\n        buttonnode.innerHTML = this.state.userList[user].username;\n        buttonnode.onclick = function() {\n          cRef.changeChat(cRef.state.chatView, this.innerHTML.split(' ')[0]);\n        };\n        document.getElementById('messageusers').appendChild(buttonnode);\n      }\n    }\n\n    const buttonnode = document.createElement('a');\n    buttonnode.style.padding = '0px 0px 5px 0px';\n    buttonnode.id = 'General';\n    buttonnode.innerHTML = 'General';\n    buttonnode.onclick = function() {\n      cRef.changeView(cRef.state.currentView);\n    };\n\n    document.getElementById('messageusers').appendChild(buttonnode);\n  }\n\n  render() {\n    return (\n      <div>\n        <div style={{zIndex: 1, position: 'fixed'}}>\n          <p id = 'messagebutt' onClick = {openNav} className = 'messageButton'>Message Users\n          </p>\n          <div id='messageinit' className='sidebarinitm'>\n            <a className='closebtn' onClick={closeNav}>&times;</a>\n\n            <button className='dropbtn'>Users</button>\n\n            <div id = 'messageusers' className='dropdown-contentm'></div>\n          </div>\n          <div id = 'messagealert' className = 'messagealert'>!</div>\n        </div>\n\n        <div style={{zIndex: 10, position: 'fixed'}}>\n          <View style={{position: 'fixed', right: 0, bottom: 0, marginBottom: 400}}>\n            { this.state.currentView ?\n                (<CloseIcon style={{cursor: 'pointer', background: 'white', borderRadius: '10px', position: 'fixed', bottom: '410px', right: '20px'}} onClick={() => this.changeView(this.state.currentView)}/>) : (null)\n            }\n            { this.state.chatView ?\n                (<CloseIcon style={{cursor: 'pointer', background: 'white', borderRadius: '10px', position: 'fixed', bottom: '410px', right: '20px'}} onClick={() => this.changeChat(this.state.chatView)}/>) :\n                (null)\n            }\n          </View>\n          <div>\n            { this.state.currentView ? (<div className='App'><div className='form-container'>\n              <ChatApp otherUser='General' general='General' style={{position: 'fixed', flex: 1}}/>\n            </div></div>) : (null) }\n            { this.state.chatView ? (<div className='App'><div className='form-container'>\n              <ChatApp otherUser={this.state.otherChatter.split(' ')[0]} style={{position: 'fixed', flex: 1}}/>\n            </div></div>) : (null) }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChatMessage;\n","import React from 'react';\nimport * as auctionfuncs from '../auctionfuncs';\nimport * as serverfuncs from '../serverfuncs';\nimport './backgroundlogin.css';\nimport Typography from '@material-ui/core/Typography';\n\nexport {updateLots}\n\nclass LotImage extends HTMLImageElement {\n  index = 0;\n  constructor() {\n    super();\n  }\n}\n\ncustomElements.define('lot-image', LotImage, {extends: 'img'});\n\nlet currentLotId;\nlet scurrentLotID;\n\nlet currentLotName;\n\nlet currentAuctions = [];\n\nfunction updateLots() {\n  for(var tl in auctionfuncs.trackedLots) {\n    //document.getElementById(auctionfuncs.trackedLots[tl].identifier+auctionfuncs.trackedLots[tl].number).innerHTML=\"\";\n    try {\n    let mystring = document.getElementById(auctionfuncs.trackedLots[tl].identifier+auctionfuncs.trackedLots[tl].number).innerHTML.toString().split('\\n');\n    mystring[11] = auctionfuncs.trackedLots[tl].highestbid;\n    document.getElementById(auctionfuncs.trackedLots[tl].identifier+auctionfuncs.trackedLots[tl].number).innerHTML = mystring.join('\\n');\n    }\n    catch{}\n  }\n}\n\nfunction closeCreateDropdown() {\n  document.getElementById('createauctiondropdown').style.top = '-200px';\n}\nfunction openCreateDropdown() {\n  document.getElementById('createauctiondropdown').style.top = '50px';\n}\nfunction closeAddDropdown() {\n  document.getElementById('addauctiondropdown').style.display = 'none';\n}\nfunction openAddDropdown(id) {\n  document.getElementById('addauctiondropdown').style.display = 'block';\n  currentLotId = id;\n}\n\nasync function createAuction() {\n  await auctionfuncs.createAuction(\n      document.getElementById('auctionname').value,\n      Date.now().toString(),\n      document.getElementById('auctiondate').value.toString(),\n  );\n}\nasync function addLotToAuction() {\n  await auctionfuncs.createLot(currentLotId, document.getElementById('selectedartwork').innerHTML, document.getElementById('addlotessay').value, await serverfuncs.getAllArtworks());\n  document.getElementById('selectedartwork').innerHTML = 'select artwork';\n}\n\nlet ARTWORKSLOADED = false;\nlet INNER = false;\n\nasync function loadArtworksForLot() {\n  if (INNER) {\n    INNER = false;\n    return;\n  }\n\n  document.getElementById('addlotname').style.height = '100px';\n  document.getElementById('addlotname').style.overflowY = 'scroll';\n  if (ARTWORKSLOADED) {\n    return;\n  }\n  const artworks = await serverfuncs.getAllArtworks();\n  for (let a in artworks) {\n    let buttonNode = document.createElement('p');\n    buttonNode.innerHTML = artworks[a].identifier;\n    buttonNode.onclick = function() {\n      INNER = true;\n      document.getElementById('selectedartwork').innerHTML = this.innerHTML;\n      document.getElementById('addlotname').style.height = '20px';\n      document.getElementById('addlotname').scrollTop = 0;\n      document.getElementById('addlotname').style.overflowY = 'hidden';\n    }\n    document.getElementById('addlotname').appendChild(buttonNode);\n  }\n  ARTWORKSLOADED = true;\n}\n\nclass AuctionAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    document.body.className = 'background';\n  };\n\n  componentDidMount() {\n    this.loadAuctions();\n  }\n\n  async loadAuctions() {\n    for(let a in currentAuctions) {\n      try {\n        document.getElementById(currentAuctions[a]).remove();\n      } catch {\n        // pass\n      }\n    }\n\n    currentAuctions = [];\n\n    const auctions = await auctionfuncs.getAllAuctions();\n\n    try {\n      document.getElementById('bnode').remove();\n    } catch {\n      // pass\n    }\n    const buttonNode = document.createElement('button');\n    buttonNode.onclick = () => openCreateDropdown();\n    buttonNode.className = 'createButton';\n    buttonNode.innerHTML = 'Create Auction...';\n    buttonNode.id = 'bnode';\n    document.getElementById('abutton').appendChild(buttonNode);\n\n    const lots = await auctionfuncs.getAllLots();\n    auctionfuncs.setTrackedLots(lots);\n\n    for (let auction in auctions) {\n      if(auctions[auction].archived !== 1 && auctions[auction].allowstudents === 1) {\n        await this.loadLots(auctions[auction].identifier, auctions[auction].groupid, lots, this);\n      }\n    }\n\n    brnode = document.createElement('br');\n    brnode.id = \"br8\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br9\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br10\";\n    document.getElementById('auctions').append(brnode);\n\n    const releasedNode = document.createElement('a');\n    releasedNode.id = \"releasednode\";\n    releasedNode.innerHTML = \"Pending Release Auctions\";\n    releasedNode.style.backgroundColor = \"#002f86\";\n    releasedNode.style.color = \"white\";\n    releasedNode.style.fontSize = \"30px\";\n    releasedNode.style.width = 'auto';\n    releasedNode.style.borderRadius = '5px';\n    releasedNode.style.width = '20%';\n    releasedNode.style.padding = '5px';\n    document.getElementById('auctions').append(releasedNode);\n    currentAuctions.push(\"releasednode\");\n\n    var brnode = document.createElement('br');\n    brnode.id = \"br11\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br12\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br13\";\n    document.getElementById('auctions').append(brnode);\n    currentAuctions.push(\"br8\");\n    currentAuctions.push(\"br9\");\n    currentAuctions.push(\"br10\");\n    currentAuctions.push(\"br11\");\n    currentAuctions.push(\"br12\");\n    currentAuctions.push(\"br13\");\n\n    for (let auction in auctions) {\n      if(auctions[auction].archived !== 1 && auctions[auction].allowstudents !== 1) {\n        await this.loadLots(auctions[auction].identifier, auctions[auction].groupid, lots, this);\n      }\n    }\n\n    brnode = document.createElement('br');\n    brnode.id = \"br1\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br2\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br3\";\n    document.getElementById('auctions').append(brnode);\n\n    const archivedNode = document.createElement('a');\n    archivedNode.id = \"archivednode\";\n    archivedNode.innerHTML = \"Archived Auctions\";\n    archivedNode.style.backgroundColor = \"#002f86\";\n    archivedNode.style.color = \"white\";\n    archivedNode.style.fontSize = \"30px\";\n    archivedNode.style.width = 'auto';\n    archivedNode.style.borderRadius = '5px';\n    archivedNode.style.width = '20%';\n    archivedNode.style.padding = '5px';\n    document.getElementById('auctions').append(archivedNode);\n    currentAuctions.push(\"archivednode\");\n\n    brnode = document.createElement('br');\n    brnode.id = \"br4\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br5\";\n    document.getElementById('auctions').append(brnode);\n    brnode = document.createElement('br');\n    brnode.id = \"br6\";\n    document.getElementById('auctions').append(brnode);\n    currentAuctions.push(\"br1\");\n    currentAuctions.push(\"br2\");\n    currentAuctions.push(\"br3\");\n    currentAuctions.push(\"br4\");\n    currentAuctions.push(\"br5\");\n    currentAuctions.push(\"br6\");\n    currentAuctions.push(\"br7\");\n\n    for (let auction in auctions) {\n      if(auctions[auction].archived === 1) {\n        await this.loadLots(auctions[auction].identifier, auctions[auction].groupid, lots, this);\n      }\n    }\n    this.forceUpdate();\n  }\n\n  async loadLots(title, id, lots, cRef) {\n    const titleNode = document.createElement('p');\n    titleNode.id = 'titlenode'+id;\n    titleNode.innerHTML = title;\n    document.getElementById('auctions').append(titleNode);\n    titleNode.style.color = 'white';\n    titleNode.style.backgroundColor = '#002f86';\n    titleNode.style.width = 'auto';\n    titleNode.style.borderRadius = '5px';\n    titleNode.style.width = '20%';\n    titleNode.style.padding = '5px';\n\n    const timerNode = document.createElement('p');\n    timerNode.id = 'timernode'+id;\n    timerNode.innerHTML = 'Expires in: 00:00:00:00';\n    document.getElementById('auctions').append(timerNode);\n    timerNode.style.color = 'white';\n    timerNode.style.backgroundColor = '#002f86';\n    timerNode.style.width = 'auto';\n    timerNode.style.borderRadius = '5px';\n    timerNode.style.width = '15%';\n    timerNode.style.padding = '5px';\n    currentAuctions.push(timerNode.id);\n\n    const addLotNode = document.createElement('button');\n    addLotNode.id = id;\n    addLotNode.innerHTML = 'Create Lot';\n    addLotNode.onclick = function() {\n      openAddDropdown(this.id);\n    };\n    document.getElementById('auctions').append(addLotNode);\n\n    const deleteNode = document.createElement('button');\n    deleteNode.id = 'deletNode'+id;\n    deleteNode.innerHTML = 'Delete Auction';\n    deleteNode.onclick = async function() {\n      await auctionfuncs.deleteAuction(id);\n      cRef.loadAuctions();\n    };\n    document.getElementById('auctions').append(deleteNode);\n\n    let archiveNode = document.createElement('button');\n    archiveNode.id = 'archiveNode'+id;\n    archiveNode.innerHTML = 'Archive Auction'\n    archiveNode.onclick = async function () {\n      await auctionfuncs.archiveAuction(id);\n      cRef.loadAuctions();\n    };\n    document.getElementById('auctions').append(archiveNode);\n    currentAuctions.push(archiveNode.id);\n\n    let releaseNode = document.createElement('button');\n    releaseNode.id = 'releaseNode'+id;\n    releaseNode.innerHTML = 'Release Auction'\n    releaseNode.onclick = async function () {\n      await auctionfuncs.releaseAuction(id);\n      cRef.loadAuctions();\n    };\n    document.getElementById('auctions').append(releaseNode);\n    currentAuctions.push(releaseNode.id);\n    \n    const auctionnode = document.createElement('div');\n    auctionnode.className = 'auctionscroll';\n    auctionnode.id = 'auctionscroll'+id.toString();\n    document.getElementById('auctions').append(auctionnode);\n    const brnode = document.createElement('br');\n    brnode.id = \"br7\";\n    document.getElementById('auctions').append(brnode);\n    currentAuctions.push(auctionnode.id);\n    currentAuctions.push(titleNode.id);\n    currentAuctions.push(deleteNode.id);\n    currentAuctions.push(addLotNode.id);\n\n    let auctionnumber = -1;\n    for (const l in lots) {\n      if (lots[l].number != id) {\n        continue;\n      }\n      auctionnumber++;\n      const sourceOfImage = await serverfuncs.getArtworkInfo(lots[l].identifier);\n      const auctionScroll = auctionnode;\n\n      const deleteNode = document.createElement('button');\n      deleteNode.innerHTML = 'Delete Lot';\n      deleteNode.style.position = 'absolute';\n      deleteNode.style.left = (auctionnumber*550).toString()+'px';\n      deleteNode.onclick = async function() {\n        await auctionfuncs.deleteLot(lots[l].identifier);\n        cRef.loadAuctions();\n      };\n      auctionScroll.appendChild(deleteNode);\n\n\n      const confirmNode = document.createElement('button');\n      confirmNode.id = 'confirmlot'+l.toString();\n      confirmNode.innerHTML = 'Confirm Lot';\n      confirmNode.style.position = 'absolute';\n      confirmNode.style.left = (auctionnumber*550+70).toString()+'px';\n      confirmNode.onclick = async function() {\n        const artworks = await serverfuncs.getAllArtworks();\n        const l = parseInt(this.id.slice(10));\n        for (const a in artworks) {\n          if (artworks[a].identifier.toString() === lots[l].identifier.toString()) {\n            await auctionfuncs.conductAuctionTrade(lots[l].identifier, lots[l].username, artworks[a].owner, lots[l].highestbid, lots[l].number);\n          }\n        }\n        cRef.loadAuctions();\n      };\n      auctionScroll.appendChild(confirmNode);\n\n      const imageNode = document.createElement('img', {is: 'lot-image'});\n      imageNode.id = 'auction_pic'+l.toString();\n      imageNode.index = auctionnumber;\n      imageNode.src = sourceOfImage.url;\n      imageNode.style.left = (10+550*auctionnumber).toString()+'px';\n      if (!lots[l].sold) {\n        imageNode.style.cursor = 'pointer';\n        imageNode.onclick = function() {\n          document.getElementById('lotdropdown').style.top = '50px';\n          document.getElementById('lotnumber').innerHTML = 'LOT '+this.index.toString();\n          document.getElementById('lotimage').src = this.src;\n          document.getElementById('lotinfo').innerHTML =\n          '<pre>Information\\n'+\n          '\\nTitle:  '+sourceOfImage.title+\n          '\\n\\nArtist:  '+sourceOfImage.artist+\n          '\\n\\nYear:  '+sourceOfImage.year+\n          '\\n\\nOwner:  '+sourceOfImage.owner+\n          '\\n\\nHighest Bid:\\n'+lots[l].highestbid+\n          '</pre>';\n\n          if (lots[l].username === localStorage.getItem('username')) {\n            document.getElementById('lotinfo').innerHTML += '<pre>(you)</pre>';\n          }\n          document.getElementById('lotessay').innerHTML = lots[l].lotessay;\n          currentLotName = lots[l].identifier;\n          scurrentLotID = lots[l].number;\n        };\n      }\n      auctionScroll.appendChild(imageNode);\n\n      if (lots[l].sold) {\n        const soldNode = document.createElement('a');\n        soldNode.style.display = 'absolute';\n        soldNode.style.left = (-20+550*auctionnumber).toString()+'px';\n        soldNode.innerHTML = 'SOLD';\n        soldNode.style.color = 'red';\n        soldNode.style.top = '90px';\n        soldNode.style.fontSize = '90px';\n        auctionScroll.appendChild(soldNode);\n        soldNode.style.overflow = 'hidden';\n        soldNode.style.transform = 'rotate(25deg)';\n      }\n  \n      let textNode = document.createElement('a');\n\n      //for automatic refresh\n      textNode.id = lots[l].identifier+lots[l].number;\n      textNode.innerHTML =\n      '<pre>'+\n      'Lot '+auctionnumber.toString()+\n      '\\n\\nTitle:  '+sourceOfImage.title+\n      '\\n\\nArtist:  '+sourceOfImage.artist+\n      '\\n\\nYear:  '+sourceOfImage.year+\n      '\\n\\nOwner:  '+sourceOfImage.owner+\n      '\\n\\nHighest Bid:\\n'+lots[l].highestbid+\n      '\\n</pre>';\n\n      if(lots[l].username === localStorage.getItem('username')) {\n        textNode.innerHTML += '<pre>(you)</pre>';\n      }\n      textNode.style.left = (250+550*auctionnumber).toString()+'px';\n      textNode.style.overflowX = \"wrap\";\n      textNode.style.overflowY = \"hidden\";\n      auctionScroll.appendChild(textNode);\n    }\n  }\n\n  async confirmBid() {\n    const lots = await auctionfuncs.getAllLots();\n    for (const l in lots) {\n      if (lots[l].identifier === currentLotName && lots[l].number === scurrentLotID) {\n        if (parseInt(document.getElementById('userbid').value) <= parseInt(lots[l].highestbid)) {\n          serverfuncs.showNotification('bid must be higher than previous bid');\n          return;\n        } else if (document.getElementById('userbid').value === '') {\n        // handling accidental empty bids\n          serverfuncs.showNotification('Bid cannot be empty');\n          return;\n        } else if (parseInt(document.getElementById('userbid').value) <= 0) {\n          // handling user bids that are negative or 0\n          serverfuncs.showNotification('Bid cannot be 0 or negative');\n          return;\n        }\n\n        const users = await serverfuncs.getAllUsers();\n        for (const u in users) {\n          if (users[u].username === localStorage.getItem('username')) {\n            if (parseInt(document.getElementById('userbid').value) > users[u].guilders) {\n              serverfuncs.showNotification('You do not have enough guilders to post this bid');\n              return;\n            }\n          }\n        }\n      }\n    }\n    await auctionfuncs.postBid(\n        localStorage.getItem('username'),\n        currentLotName,\n        scurrentLotID,\n        document.getElementById('userbid').value,\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div id = 'lotdropdown' className = 'lotdropdown'>\n          <a onClick = {() => {\n            document.getElementById('lotdropdown').style.top = '-600px';\n          }} style = {{\n            position: 'absolute', top: '15px', right: '20px', fontSize: '20px', cursor: 'pointer',\n          }}>x</a>\n          <a id = 'lotnumber' style={{position: 'absolute', top: '20px', left: '40px', fontSize: '30px'}}>Lot X</a>\n          <img id = 'lotimage' style={{\n            position: 'absolute', height: '300px', width: '300px',\n            objectFit: 'contain', top: '70px', left: '40px',\n          }}></img>\n          <a id = 'lotinfo' style={{\n            position: 'absolute', height: '300px', width: '300px',\n            objectFit: 'contain', top: '70px', left: '300px', overflowX: 'wrap', overflowY: 'auto',\n          }}>Info</a>\n          <p id = 'lotdropdowninfo'></p>\n          <a style={{position: 'absolute', top: '400px', left: '50px', fontSize: '30px'}}>Lot Essay</a>\n          <p id = 'lotessay' style={{\n            position: 'absolute', height: '100px', width: '500px',\n            objectFit: 'contain', top: '450px', left: '40px', overflowX: 'wrap',\n            overflowY: 'auto',\n          }}></p>\n          <input id = 'userbid' type = 'number' style = {{\n            position: 'absolute', top: '300px', left: '380px',\n          }}></input>\n          <button onClick = {async () => {\n            await this.confirmBid();\n            await this.loadAuctions();\n            document.getElementById('lotdropdown').style.top = '-600px';\n          }}\n          style = {{position: 'absolute', top: '320px', left: '420px',\n          }}>Place Bid</button>\n        </div>\n        <div className = 'title'>\n          <Typography variant='h3'>Auctions</Typography>\n        </div>\n\n        <div id = 'createauctiondropdown' className = 'createdropdown'>\n          <a onClick = {closeCreateDropdown} style = {{\n            position: 'absolute',\n            top: '5px',\n            left: '10px',\n            cursor: 'pointer',\n          }}>x</a>\n          <br></br>\n          <br></br>\n          <a>Create Auction</a>\n          <br></br>\n          <br></br>\n          <a>Auction Name</a>\n          <br></br>\n          <input id = 'auctionname' type = 'text'></input>\n          <br></br>\n          <br></br>\n          <a>Auction End Date</a>\n          <br></br>\n          <input id = 'auctiondate' type = 'date'></input>\n          <br></br>\n          <br></br>\n          <button onClick = {async () => {\n            closeCreateDropdown();\n            await createAuction();\n            this.loadAuctions();\n          }}>Submit</button>\n        </div>\n\n        <div id = 'addauctiondropdown' style = {{\n          display: 'none',\n          backgroundColor: 'rgba(0, 0, 0, .7)',\n          position: 'fixed',\n          borderRadius: '10px',\n          top: '30%',\n          left: '30%',\n          width: '40%',\n          height: '40%',\n          zIndex: 1,\n          color: 'white',\n          textAlign: 'center',\n          alignContent: 'center',\n        }}>\n          <br></br>\n          <div id = 'addlotname' className = 'addlotdrop' onClick = {() => {\n            loadArtworksForLot();\n          }}><p id = 'selectedartwork'>Select Artwork</p></div>\n          <br></br>\n          <a>Lot Essay</a>\n          <br></br>\n          <textarea id = 'addlotessay' type = 'text' style={{height: '20%', width: '80%'}}></textarea>\n          <br></br>\n          <br></br>\n          <button onClick = {async () => {\n            await closeAddDropdown();\n            await addLotToAuction();\n            this.loadAuctions();\n          }}>Submit</button>\n          <br></br>\n          <br></br>\n          <button onClick = {closeAddDropdown}>Cancel</button>\n        </div>\n\n        <div id = 'auctions'/>\n        <br></br>\n        <div id = 'abutton' style = {{textAlign: 'center'}}/>\n        <br></br>\n        <br></br>\n      </div>\n    );\n  }\n}\n\nexport default AuctionAdmin;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport './gallerydropdown.css';\nimport * as serverfuncs from '../serverfuncs';\nimport {Link} from 'react-router-dom';\n\nlet tileData = [];\n\nfunction openUserMenu() {\n  document.getElementById('galleryview').style.left = '0px';\n  document.getElementById('gallerybutton').style.left = '210px';\n}\n\nfunction closeUserMenu() {\n  document.getElementById('galleryview').style.left = '-200px';\n  document.getElementById('gallerybutton').style.left = '10px';\n}\n\nfunction raiseOtherGallery() {\n  document.getElementById('gallerydropdown').style.top = '-600px';\n}\n\nclass OtherGallery extends Component {\n  constructor(props) {\n    super(props);\n    tileData = [];\n  }\n\n  async getBlurb(user) {\n    let userInfo = await serverfuncs.getUser(user);\n    userInfo = userInfo[0];\n    document.getElementById('othergalleryblurb').innerHTML = userInfo.blurb;\n  }\n\n  async expandUsers(ref) {\n    const userList = await serverfuncs.getAllUsers();\n    for (const user in userList) {\n      if (userList[user].username === localStorage.getItem('username') || userList[user].admin === 1) {\n        continue;\n      }\n      try {\n      document.getElementById('user_gt'+user.toString()).remove();\n      } catch {}\n      const buttonnode = document.createElement('a');\n      buttonnode.id = 'user_gt'+user.toString();\n      buttonnode.style.padding = '0px 0px 5px 0px';\n      buttonnode.innerHTML = userList[user].username;\n      buttonnode.onclick = function() {\n        ref.getTileData(this.innerHTML);\n        closeUserMenu();\n        document.getElementById('gallerydropdown').style.top = '50px';\n      };\n      document.getElementById('galleryusers').appendChild(buttonnode);\n    }\n    document.getElementById('galleryusers').style.height = '100px';\n  }\n\n  async getTileData(user) {\n    tileData = [];\n    const artworks = await serverfuncs.getAllArtworks();\n    for (const i in artworks) {\n      if (artworks[i].owner == user) {\n        tileData.push({\n          img: artworks[i].url,\n          identifier: artworks[i].identifier,\n          title: artworks[i].title,\n          artist: artworks[i].artist,\n          year: artworks[i].year,\n        });\n      }\n    }\n    this.getBlurb(user);\n    this.forceUpdate();\n    document.getElementById('subgalleryname').innerHTML = user+'\\'s Gallery';\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <div id='galleryview' class='sidebarinit'>\n            <a class='closebtn' onClick={closeUserMenu}>&times;</a>\n            <button class='dropbtn'>Users</button>\n            <div id = 'galleryusers' class='dropdown-content'></div>\n          </div>\n          <a id = 'gallerybutton' class = 'galleryButton' onClick = {() => {\n            openUserMenu(); this.expandUsers(this);\n          }}>View Galleries</a>\n        </div>\n        <div id = 'gallerydropdown' class = 'galleryDropdown'>\n          <a class='closebtn' onClick={raiseOtherGallery}>&times;</a>\n          <div style={{padding: 10}}>\n            <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n              textAlign: 'center',\n              paddingTop: 20,\n              paddingBottom: 10}}>Gallery Announcements</Typography>\n            <h1 style={{textAlign: 'center'}} id='othergalleryblurb'></h1>\n          </div>\n          <Typography id = 'subgalleryname' fontFamily='roboto' variant='h4' component='h4' style={{\n            textAlign: 'center',\n            paddingTop: 20,\n            paddingBottom: 10}}>My Gallery</Typography>\n          <div>\n            <Grid\n              container\n              direction='row'\n              justify='center'\n              alignItems='left-justified'\n            >\n              {tileData.map((tile) => (\n                <div style={{padding: 10}}>\n                  <Link to='/singleartwork'>\n                  <img id = {tile.identifier}\n                  src={tile.img} \n                  alt={tile.title} \n                  onClick={() => {\n                    localStorage.setItem(\"singleIdent\", tile.identifier);}}\n                  height={350}></img>\n                  </Link>\n                  <Paper style={{padding: 10}}>\n                  <div>\n                    <Typography variant='h6' fontFamily='roboto'>{tile.title}</Typography>\n                    <Typography variant='subtitle1' fontFamily='roboto'>{tile.artist}, {tile.year}</Typography>\n                  </div>\n                  </Paper>\n                </div>\n              ))}\n            </Grid>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtherGallery;\n","import React from 'react';\nimport * as auctionfuncs from '../auctionfuncs';\nimport * as serverfuncs from '../serverfuncs';\nimport OtherGallery from './homepageofother';\nimport TradeWindow from './tradewindow';\nimport './auctions.css';\nimport Typography from '@material-ui/core/Typography';\n\nexport {supdateLots};\n\nlet scurrentLotID;\nlet currentLotId;\n\nlet currentLotName;\n\nlet currentAuctions = [];\n\nfunction closeCreateDropdown() {\n  document.getElementById('createauctiondropdown').style.top = '-200px';\n}\nfunction openCreateDropdown() {\n  document.getElementById('createauctiondropdown').style.top = '50px';\n}\nfunction closeAddDropdown() {\n  document.getElementById('addauctiondropdown').style.display = 'none';\n}\nfunction openAddDropdown(id) {\n  document.getElementById('addauctiondropdown').style.display = 'block';\n  currentLotId = id;\n}\n\nasync function createAuction() {\n  await auctionfuncs.createAuction(\n      document.getElementById('auctionname').value,\n      Date.now().toString(),\n      null,\n  );\n}\nasync function addLotToAuction() {\n  await auctionfuncs.createLot(currentLotId, document.getElementById('addlotname').innerHTML, document.getElementById('addlotessay').value, await serverfuncs.getAllArtworks());\n}\n\nfunction supdateLots() {\n  for(var tl in auctionfuncs.trackedLots) {\n    try {\n    let mystring = document.getElementById(auctionfuncs.trackedLots[tl].identifier+auctionfuncs.trackedLots[tl].number).innerHTML.toString().split('\\n');\n    mystring[11] = auctionfuncs.trackedLots[tl].highestbid;\n    document.getElementById(auctionfuncs.trackedLots[tl].identifier+auctionfuncs.trackedLots[tl].number).innerHTML = mystring.join('\\n');\n    }\n    catch{}\n  }\n}\n\nasync function loadArtworksForLot() {\n  const artworks = await serverfuncs.getAllArtworks();\n  for (const a in artworks) {\n    const buttonNode = document.createElement('p');\n    buttonNode.innerHTML = artworks[a].identifier;\n    buttonNode.onclick = function() {\n      document.getElementById('addlotname').innerHTML = this.innerHTML;\n      document.getElementById('addlotname').style.height = '20px';\n    };\n    document.getElementById('addlotname').appendChild(buttonNode);\n  }\n  document.getElementById('addlotname').style.height = '100px';\n}\n\nclass AuctionStudent extends React.Component {\n  constructor(props) {\n    super(props);\n    document.body.className = 'gallery';\n  };\n\n  componentDidMount() {\n    this.loadAuctions();\n  }\n\n  async loadAuctions() {\n    for (const a in currentAuctions) {\n      try {\n        document.getElementById(currentAuctions[a]).remove();\n      } catch {\n        //pass\n      }\n    }\n\n    currentAuctions = [];\n\n    const auctions = await auctionfuncs.getAllAuctions();\n\n    const lots = await auctionfuncs.getAllLots();\n    auctionfuncs.setTrackedLots(lots);\n\n    for (const auction in auctions) {\n      if(auctions[auction].archived !== 1 && auctions[auction].allowstudents === 1) {\n        await this.loadLots(auctions[auction].identifier, auctions[auction].groupid, lots, this);\n      }\n    }\n    this.forceUpdate();\n  }\n\n  async loadLots(title, id, lots, cRef) {\n    const titleNode = document.createElement('p');\n    titleNode.id = 'titlenode'+id;\n    titleNode.innerHTML = title;\n    document.getElementById('auctions').append(titleNode);\n    titleNode.style.color = 'white';\n    titleNode.style.backgroundColor = '#002f86';\n    titleNode.style.width = 'auto';\n    titleNode.style.borderRadius = '5px';\n    titleNode.style.width = '20%';\n    titleNode.style.padding = '5px';\n    currentAuctions.push(titleNode.id);\n\n    const timerNode = document.createElement('p');\n    timerNode.id = 'timernode'+id;\n    timerNode.innerHTML = 'Expires in: 00:00:00:00';\n    document.getElementById('auctions').append(timerNode);\n    timerNode.style.color = 'white';\n    timerNode.style.backgroundColor = '#002f86';\n    timerNode.style.width = 'auto';\n    timerNode.style.borderRadius = '5px';\n    timerNode.style.width = '15%';\n    timerNode.style.padding = '5px';\n    currentAuctions.push(timerNode.id);\n\n    const auctionnode = document.createElement('div');\n    auctionnode.className = 'auctionscroll';\n    auctionnode.id = 'auctionscroll'+id.toString();\n    document.getElementById('auctions').append(auctionnode);\n    document.getElementById('auctions').append(document.createElement('br'));\n    currentAuctions.push(auctionnode.id);\n\n    let auctionnumber = -1;\n    for (const l in lots) {\n      if (lots[l].number != id) {\n        continue;\n      }\n      auctionnumber++;\n      const sourceOfImage = await serverfuncs.getArtworkInfo(lots[l].identifier);\n      const auctionScroll = auctionnode;\n\n      const imagenode = document.createElement('img', {is: 'lot-image'});\n      imagenode.id = 'auction_pic'+l.toString();\n      imagenode.index = auctionnumber;\n      imagenode.src = sourceOfImage.url;\n      imagenode.style.left = (10+550*auctionnumber).toString()+'px';\n      if (!lots[l].sold) {\n        imagenode.style.cursor = 'pointer';\n        imagenode.onclick = function() {\n          document.getElementById('lotdropdown').style.top = '50px';\n          document.getElementById('lotnumber').innerHTML = 'LOT '+this.index.toString();\n          document.getElementById('lotimage').src = this.src;\n          document.getElementById('lotinfo').innerHTML =\n          '<pre>Information\\n'+\n          '\\nTitle:  '+sourceOfImage.title+\n          '\\n\\nArtist:  '+sourceOfImage.artist+\n          '\\n\\nYear:  '+sourceOfImage.year+\n          '\\n\\nOwner:  '+sourceOfImage.owner+\n          '\\n\\nHighest Bid:\\n'+lots[l].highestbid+\n          '</pre>';\n\n          if (lots[l].username === localStorage.getItem('username')) {\n            document.getElementById('lotinfo').innerHTML += '<pre>(you)</pre>';\n          }\n          document.getElementById('lotessay').innerHTML = lots[l].lotessay;\n          currentLotName = lots[l].identifier;\n          scurrentLotID = lots[l].number;\n        };\n      }\n      auctionScroll.appendChild(imagenode);\n\n      if (lots[l].sold) {\n        const soldNode = document.createElement('a');\n        soldNode.style.display = 'absolute';\n        soldNode.style.left = (-20+550*auctionnumber).toString()+'px';\n        soldNode.innerHTML = 'SOLD';\n        soldNode.style.color = 'red';\n        soldNode.style.top = '90px';\n        soldNode.style.fontSize = '90px';\n        auctionScroll.appendChild(soldNode);\n        soldNode.style.overflow = 'hidden';\n        soldNode.style.transform = 'rotate(25deg)';\n      }\n\n\n      const textnode = document.createElement('a');\n      textnode.id = lots[l].identifier+lots[l].number;\n      textnode.innerHTML =\n      '<pre>'+\n      'Lot '+(auctionnumber + 1).toString()+\n      '\\n\\nTitle:  '+sourceOfImage.title+\n      '\\n\\nArtist:  '+sourceOfImage.artist+\n      '\\n\\nYear:  '+sourceOfImage.year+\n      '\\n\\nOwner:  '+sourceOfImage.owner+\n      '\\n\\nHighest Bid:\\n'+lots[l].highestbid+\n      '</pre>';\n      if (lots[l].username === localStorage.getItem('username')) {\n        textnode.innerHTML += '<pre>(you)</pre>';\n      }\n      textnode.style.left = (250+550*auctionnumber).toString()+'px';\n      auctionScroll.appendChild(textnode);\n    }\n  }\n\n  async confirmBid() {\n    const lots = await auctionfuncs.getAllLots();\n    for (const l in lots) {\n      if (lots[l].identifier === currentLotName && lots[l].number === scurrentLotID) {\n        if (parseInt(document.getElementById('userbid').value) <= parseInt(lots[l].highestbid)) {\n          serverfuncs.showNotification('Bid must be higher than previous bid');\n          return;\n        } else if (document.getElementById('userbid').value === '') {\n        // handling accidental empty bids\n          serverfuncs.showNotification('Bid cannot be empty');\n          return;\n        } else if (parseInt(document.getElementById('userbid').value) <= 0) {\n          // handling user bids that are negative or 0\n          serverfuncs.showNotification('Bid cannot be 0 or negative');\n          return;\n        }\n\n        const users = await serverfuncs.getAllUsers();\n        for (const u in users) {\n          if (users[u].username === localStorage.getItem('username')) {\n            if (parseInt(document.getElementById('userbid').value) > users[u].guilders) {\n              serverfuncs.showNotification('You do not have enough guilders to post this bid');\n              return;\n            }\n          }\n        }\n      }\n    }\n    await auctionfuncs.postBid(\n        localStorage.getItem('username'),\n        currentLotName,\n        scurrentLotID,\n        document.getElementById('userbid').value,\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div><OtherGallery/></div>\n        <div><TradeWindow/></div>\n        <div id = 'lotdropdown' className = 'lotdropdown'>\n          <a onClick = {() => {\n            document.getElementById('lotdropdown').style.top = '-600px';\n          }} style = {{position: 'absolute', top: '15px', right: '20px', fontSize: '20px', cursor: 'pointer'}}>x</a>\n          <a id = 'lotnumber' style={{position: 'absolute', top: '20px', left: '40px', fontSize: '30px'}}>Lot X</a>\n          <img id = 'lotimage' style={{\n            position: 'absolute', height: '300px', width: '300px',\n            objectFit: 'contain', top: '70px', left: '40px',\n          }}></img>\n          <a id = 'lotinfo' style={{\n            position: 'absolute', height: '300px', width: '300px',\n            objectFit: 'contain', top: '70px', left: '300px', overflowX: 'wrap', overflowY: 'auto',\n          }}>Info</a>\n          <p id = 'lotdropdowninfo'></p>\n          <a style={{position: 'absolute', top: '400px', left: '50px', fontSize: '30px'}}>Lot Essay</a>\n          <p id = 'lotessay' style={{\n            position: 'absolute', height: '100px', width: '500px',\n            objectFit: 'contain', top: '450px', left: '40px', overflowX: 'wrap',\n            overflowY: 'auto',\n          }}></p>\n          <input id = 'userbid' type = 'number' style = {{\n            position: 'absolute', top: '300px', left: '380px',\n          }}></input>\n          <button onClick = {async () => {\n            await this.confirmBid();\n            await this.loadAuctions();\n            document.getElementById('lotdropdown').style.top = '-600px';\n          }}\n          style = {{position: 'absolute', top: '320px', left: '420px',\n          }}>Place Bid</button>\n        </div>\n        <div className = 'title'>\n          <Typography variant='h3'>Auctions</Typography>\n        </div>\n\n        <br></br>\n        <br></br>\n        <br></br>\n        <br></br>\n        <br></br>\n        <div id = 'auctions'/>\n\n        {/* <div id = 'abutton' style = {{textAlign: 'center'}}/> */}\n        <br></br>\n        <br></br>\n\n      </div>\n    );\n  }\n}\n\nexport default AuctionStudent;\n","\nimport {showNotification} from \"./serverfuncs\";\nimport {updateLots} from \"./components/adminauction\";\nimport {supdateLots} from \"./components/studentauction\";\n\nexport {getAllLots, getAllAuctions,\n  conductAuctionTrade, createAuction,\n  createLot, postBid, deleteLot, deleteAuction, archiveAuction, releaseAuction,\n  checkForAuctionUpdates, setTrackedLots, trackedLots}\n\nvar trackedLots = []\n\nfunction setTrackedLots(tl) {\n  trackedLots = tl;\n}\n\nasync function checkForAuctionUpdates() {\n  //const allAuctions = await getAllAuctions();\n  const allLots = await getAllLots();\n  if(trackedLots.length > 0 && trackedLots.length !== allLots.length) {\n    if(window.location.toString().endsWith(\"adminauction\")) {\n      updateLots();\n    } else {supdateLots();}\n    return; \n  }\n  for(let l in allLots) {\n    if(trackedLots[l] && allLots[l]) {\n      if(trackedLots[l].highestbid !== allLots[l].highestbid && trackedLots[l].identifier === allLots[l].identifier) {\n        showNotification(\"bid on artwork \"+trackedLots[l].identifier+\" for \"+allLots[l].highestbid);\n        if(window.location.toString().endsWith(\"adminauction\")) {\n          updateLots();\n        } else {supdateLots();}\n      }\n    }\n  }\n  trackedLots = allLots;\n}\n\n\nasync function postBid(username, id, group, bid) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/auction/`+id+'/'+group, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      deadline: null, // remove soon\n\n      highestbid: bid,\n      username: username,\n    }),\n  }).then((res) => {\n    showNotification(\"posted bid of \"+bid+\" on \"+id);\n  });\n}\n\nasync function deleteLot(id) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/auction/`+id, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  }).then(function (res) {\n    showNotification(\"deleted lot \"+id);\n  });\n}\n\nasync function deleteAuction(id) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/groups/`+id, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  }).then(function (res) {\n    showNotification(\"deleted auction \"+id);\n  });\n}\n\nasync function archiveAuction(id) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/groups/`+id, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      archived: true\n    }),\n  }).then(function (res) {\n    showNotification(\"archived auction \"+id);\n  });\n}\n\nasync function releaseAuction(id) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/groups/`+id, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      allowstudents: true\n    }),\n  }).then(function (res) {\n    showNotification(\"released auction \"+id);\n  });\n}\n\nasync function getAllLots() {\n  let auctions = await fetch(`http://fantasycollecting.hamilton.edu/api/auction/`, {\n    method: 'get',\n    mode: 'cors',\n  })\n  auctions = await auctions.json();\n  return auctions;\n}\n\n// async function getLot(id) {\n//   let auction = await fetch(`http://fantasycollecting.hamilton.edu/api/auction/`, {\n//     method: 'get',\n//     mode: 'cors',\n//   })\n//   auction = await auction.json();\n//   return auction;\n// }\n\nasync function getAllAuctions() {\n  let auctions = await fetch(`http://fantasycollecting.hamilton.edu/api/groups/`, {\n    method: 'get',\n    mode: 'cors',\n  })\n  auctions = await auctions.json();\n  return auctions;\n}\n\nasync function createAuction(name, id, d) {\n  await fetch(`http://fantasycollecting.hamilton.edu/api/groups/`, {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      groupid: id,\n      identifier: name,\n      date: d,\n    }),\n  }).then((res) => {\n    showNotification(\"created auction \"+id+\" with name \"+name);\n  });\n}\n\nasync function createLot(id, name, essay, artworks) {\n  var currentlots = await getAllLots();\n  for(var cl in currentlots) {\n    if(currentlots[cl].number.toString() === id.toString() && currentlots[cl].identifier.toString() === name.toString()) {\n      showNotification(\"artwork \"+name+\" already exists in this auction\");\n      return;\n    }\n  }\n\n  var user = \"sjarosi\";\n  for(var a in artworks) {\n    if(artworks[a].identifier === name) {\n      user = artworks[a].owner;\n    }\n  }\n\n  await fetch(`http://fantasycollecting.hamilton.edu/api/auction/`, {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      identifier: name,\n      number: id,\n      highestbid: 0,\n      username: user,\n      deadline: null,\n      groupid: null,\n      lotessay: essay,\n    }),\n  }).then(() => {\n    showNotification(\"created lot \"+id+\" with name \"+name);\n  });\n}\n\n\nasync function conductAuctionTrade(artwork, user, seller, offer, auctionid) {\n  // change current owner of painting to user\n  fetch(`http://fantasycollecting.hamilton.edu/api/artworks/${artwork}`, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      owner: user,\n      actualprice: offer\n    }),\n  }).then((res) => {\n  });\n\n  // subtract user's payment from their account, increment number of paintings\n  let userBody = await fetch(`http://fantasycollecting.hamilton.edu/api/users/${user}`, {\n    method: 'get',\n    mode: 'cors',\n  })\n  userBody = await userBody.json();\n  userBody = userBody[0];\n  userBody.guilders -= offer;\n  fetch(`http://fantasycollecting.hamilton.edu/api/users/${user}`, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userBody),\n  });\n\n  // add to seller guilders\n  if(seller !== null && typeof seller !== 'undefined') {\n    let sellerBody = await fetch(`http://fantasycollecting.hamilton.edu/api/users/${seller}`, {\n      method: 'get',\n      mode: 'cors',\n    })\n    sellerBody = await sellerBody.json();\n    sellerBody = sellerBody[0];\n    sellerBody.guilders += offer;\n    fetch(`http://fantasycollecting.hamilton.edu/api/users/${seller}`, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(sellerBody),\n    });\n  }\n\n  // post transaction to history\n  let historyBody = {\n    'identifier': artwork,\n    'seller': 'sjarosi',\n    'buyer': user,\n    'price': offer,\n    'timestamp': new Date,\n  };\n  fetch(`http://fantasycollecting.hamilton.edu/api/history/`, {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(historyBody),\n  }).then((res) => {\n  });\n\n  fetch(`http://fantasycollecting.hamilton.edu/api/auction/`+artwork+'/'+auctionid, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      sold: 1,\n    }),\n  }).then((res) => {\n  });\n\n}","import * as tradeFuncs from './components/tradewindow.js';\nimport {MD5} from './md5';\nimport { conductTrade } from './tradefuncs';\nimport {checkForMessages} from './components/ChatMessage';\nimport { getAllAuctions, archiveAuction } from './auctionfuncs.js';\nimport { checkForAuctionUpdates } from './auctionfuncs.js';\nimport { unsubpub } from './components/ChatApp.js';\n\n\nexport const apiURL = \"http://fantasycollecting.hamilton.edu/api\";\n\n\n/* eslint-disable require-jsdoc */\nexport {updateArtwork, deleteArtwork, getArtworkInfo,\n  logOutUser, getAllUsers, createUser, getAllArtworks,\n  createArtwork, checkForTrade, updateUserData, deleteUser,\n  initiateTrade, acceptTrade, declineTrade, cancelTrade,\n  setTradeUser, setTradeID, addGuildersToTrade, addArtworkToTrade,\n  removeItemsFromTrade, finalizeAsBuyer, finalizeAsSeller, sendFormToAdmin,\n  isAdmin, getHistory, getMicroresearch, postMicroresearch, getTradeDetails,\n  getTrades, approveTrade, denyTrade, getUser, setBlurb,\n  removeArtworkFromTrade,\n  showNotification, hideNotification, resetGame,\n  clearApproval, shuffleArtworks};\n\n/*\n\n\n  coroutine functions\n\n\n*/\n\nfunction coroutine(f) {\n  const o = f();\n  o.next();\n  return function(x) {\n    o.next(x);\n  };\n}\n\nconst timerupdate = coroutine(function* () {\n  while(true) {\n    yield;\n    updatetimers();\n  }\n});\nsetInterval(timerupdate, 1000);\n\nasync function updatetimers() {\n  if (!window.location.toString().endsWith(\"auction\") && !window.location.toString().endsWith(\"/auction\")){\n    return;\n  }\n\n  const auctions = await getAllAuctions();\n  for(let t in auctions) {\n    let timeleft = new Date(auctions[t].date) - Date.now();\n    try {\n      if (timeleft < 0) {\n        document.getElementById(\"timernode\"+auctions[t].groupid.toString()).innerHTML = 'Expired';\n        document.getElementById(\"timernode\"+auctions[t].groupid.toString()).style.color = 'red';\n        if(auctions[t].archived == 0 || auctions[t].archived == null) {\n          await archiveAuction(auctions[t].groupid);\n          Location.reload();\n        }\n      }\n      else {\n        document.getElementById(\"timernode\"+auctions[t].groupid.toString()).innerHTML = \n        \"Expires in: \"+parseTime(timeleft);\n      }\n    } catch {\n      // pass\n    }\n  }\n}\nfunction parseTime(datetime) {\n  const datedays = Math.floor(datetime / (1000*60*60*24));\n  datetime -= 1000*60*60*24 * datedays;\n  const datehours = Math.floor(datetime / (1000*60*60));\n  datetime -= 1000*60*60 * datehours \n  const dateminutes = Math.floor(datetime / (1000*60));\n  datetime -= 1000*60 * dateminutes;\n  const dateseconds = Math.floor(datetime / 1000);\n  return datedays.toString().padStart(2, '0') + \":\" +\n  datehours.toString().padStart(2, '0') + \":\" +\n  dateminutes.toString().padStart(2, '0')+ \":\" +\n  dateseconds.toString().padStart(2, '0');\n}\n\n\nconst messageCheck = coroutine(function* () {\n  while(true) {\n    yield;\n    console.log('checking for messages');\n    checkForMessages();\n  }\n});\n\nsetInterval(messageCheck, 5000);\n\nconst auctionCheck = coroutine(function* () {\n  while(true) {\n    console.log(\"CALLED AC\");\n    yield;\n    if(window.location.toString().endsWith(\"auction\")) {\n      checkForAuctionUpdates();\n    }\n  }\n})\n\n//setInterval(auctionCheck, 5000);\n\n\n\nvar NOT_REF;\n\nconst notCheck = coroutine(function* () {\n  while(true) {\n    yield;\n    hideNotification();\n    clearInterval(NOT_REF);\n  }\n});\n\n\nfunction showNotification(notification) {\n  clearInterval(NOT_REF);\n  try {\n    document.getElementById(\"notification\").style.top = \"50px\";\n    document.getElementById(\"notification\").innerHTML = notification;\n    NOT_REF = setInterval(notCheck, 5000);\n  }\n  catch {\n\n  }\n}\n\nfunction hideNotification() {\n  document.getElementById(\"notification\").style.top = \"-\"+document.getElementById(\"notification\").offsetHeight+\"px\";\n}\n\n\n/*\n\n\n  trading functions\n\n\n*/\n\nvar RESPONSE_INTERVAL_REF;\nvar ITEM_INTERVAL_REF;\nvar FINALIZE_INTERVAL_REF;\nvar CURRENT_TRADE_ID;\nvar CURRENT_TRADE_USER;\n\nconst tradeCheck = coroutine(function* () {\n  while (true) {\n    yield;\n    checkForTrade();\n  }\n});\n\nsetInterval(tradeCheck, 2000);\n\nconst itemCheck = coroutine(function* () {\n  while (true) {\n    yield;\n    updateItems();\n  }\n});\n\nconst finalizeCheck = coroutine(function* () {\n  while (true) {\n    yield;\n    checkForFinalize();\n  }\n});\n\nconst responseCheck = coroutine(function* () {\n  while (true) {\n    yield;\n    checkForResponse();\n  }\n});\n\nasync function clearApproval() {\n  await fetch(apiURL + '/trades/' + CURRENT_TRADE_ID, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      buyerapproved: 0,\n      sellerapproved: 0,\n    })\n  });\n}\n\nasync function checkForFinalize() {\n  const response = await fetch(apiURL + '/trades/' + CURRENT_TRADE_ID);\n  const myJson = await response.json();\n  const trade = JSON.parse(JSON.stringify(myJson))['0'];\n  if (typeof trade === 'undefined') {\n    clearIntervals();\n    tradeFuncs.closeTrade();\n    return;\n  }\n  if(trade.seller.toString() === localStorage.getItem(\"username\").toString() && parseInt(trade.sellerapproved) === 0 ||\n     trade.buyer.toString() === localStorage.getItem(\"username\").toString() && parseInt(trade.buyerapproved) === 0) {\n    clearInterval(FINALIZE_INTERVAL_REF);\n    document.getElementById(\"confirmbutton\").innerHTML = \"Confirm Trade\";\n    document.getElementById(\"ldsanim2\").style.display = \"none\";\n    showNotification(\"trade updated\");\n    return;\n  }\n  if(trade.sellerapproved === 1 && trade.buyerapproved === 1) {\n    clearInterval(FINALIZE_INTERVAL_REF);\n    clearInterval(ITEM_INTERVAL_REF);\n    tradeFuncs.closeTrade();\n    showNotification(\"trade sent to admin\");\n    if(trade.buyer == localStorage.getItem('username')) {\n      sendFormToAdmin();\n    }\n  }\n}\n\nasync function updateItems() {\n  var still_active = await fetch(apiURL + '/trades/' + CURRENT_TRADE_ID);\n  still_active = await still_active.json();\n  still_active = JSON.parse(JSON.stringify(still_active))['0'];\n  if(typeof still_active === 'undefined') {\n    // console.log(\"TRADE CANELLED\");\n    clearInterval(ITEM_INTERVAL_REF);\n    tradeFuncs.closeTrade();\n    clearIntervals();\n    return;\n  }\n  const items = await fetch(apiURL + '/tradedetails/' + CURRENT_TRADE_ID);\n  const items_json = await items.json();\n  const final_items = JSON.parse(JSON.stringify(items_json));\n  tradeFuncs.populateUserTradeFields(final_items);\n}\n\nasync function addArtworkToTrade(artwork) {\n  var arts = await fetch(apiURL + '/tradedetails');\n  arts = await arts.json();\n  for(var art in arts) {\n    if(arts[art].offer === artwork && arts[art].tradeid === CURRENT_TRADE_ID) {\n      return;\n    }\n  }\n\n  await fetch(apiURL + '/tradedetails', {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {tradeid: CURRENT_TRADE_ID,\n        buyer: CURRENT_TRADE_USER,\n        seller: localStorage.getItem('username'),\n        offer: artwork,\n        approved: 0})\n  }).then(function (res) {\n  })\n}\n\nfunction removeItemsFromTrade() {\n  fetch(apiURL + '/tradedetails/'+CURRENT_TRADE_ID, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  }).then(function (res) {\n  })\n}\n\nasync function removeArtworkFromTrade(art) {\n  var offers = await fetch(apiURL + '/tradedetails/' + CURRENT_TRADE_ID);\n  offers = await offers.json();\n  for(var offer in offers) {\n    if(offers[offer].offer == art) {\n      delete offers[offer];\n      break;\n    }\n  }\n  await fetch(apiURL + '/tradedetails/'+CURRENT_TRADE_ID, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n\n  for(var offer in offers) {\n    await fetch(apiURL + '/tradedetails/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(offers[offer])\n    // }).then(function (res) {\n      // console.log(res);\n    })\n  }\n}\n\nasync function userHasEnough(name, guilders) {\n  var info = await fetch(apiURL + '/users/'+name);\n  info = await info.json();\n  info = JSON.parse(JSON.stringify(info))['0'];\n  // console.log(info);\n  return parseInt(info.guilders) >= parseInt(guilders);\n}\n\nasync function addGuildersToTrade(guilders) {\n  if(!(await userHasEnough(localStorage.getItem(\"username\"), guilders))){\n    showNotification(\"not enough guilders\");\n    return;\n  }\n  var offers = await fetch(apiURL + '/tradedetails/' + CURRENT_TRADE_ID);\n  var change_g = false;\n  offers = await offers.json();\n  for(var offer in offers) {\n    if(offers[offer].seller === localStorage.getItem(\"username\") && offers[offer].tradeid === CURRENT_TRADE_ID && !isNaN(offers[offer].offer)) {\n      offers[offer].offer = guilders;\n      change_g = true;\n      break;\n    }\n  }\n  await fetch(apiURL + '/tradedetails/'+CURRENT_TRADE_ID, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  });\n  if(!change_g) {\n    await fetch(apiURL + '/tradedetails/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        tradeid: CURRENT_TRADE_ID,\n        buyer: CURRENT_TRADE_USER,\n        seller: localStorage.getItem(\"username\"),\n        offer: guilders,\n        approved: 0,\n      })\n    })\n  }\n  for(var offer in offers) {\n    await fetch(apiURL + '/tradedetails/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(offers[offer])\n    }).then(function (res) {\n      // console.log(res);\n    })\n  }\n  document.getElementById(\"addguilders\").value = \"\";\n}\n\n/*\n\n\n  buyer functions\n\n\n*/\n\nasync function initiateTrade(user) {\n  if(user == localStorage.getItem('username')) {\n    // console.log('cannot trade with self');\n    return;\n  }\n  const response = await fetch(apiURL +'/users/'+user);\n  const myJson = await response.json();\n  const exists = JSON.parse(JSON.stringify(myJson))['0'];\n  if(typeof exists === 'undefined') {\n    // console.log('user does not exist');\n    return;\n  }\n  const tid = Date.now();\n  CURRENT_TRADE_ID = tid;\n  // console.log(CURRENT_TRADE_ID);\n  fetch(apiURL + '/trades', {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {tradeid: tid,\n        seller: user,\n        buyer: localStorage.getItem('username'),\n        buyerinit: true,\n        sellerinit: false,\n        buyerapproved: false,\n        sellerapproved: false})\n  }).then(function (res) {\n    showNotification(\"Trade Initiated\");\n    // console.log(\"trade requested sent to \"+user);\n    RESPONSE_INTERVAL_REF = setInterval(responseCheck, 2000);\n  })\n}\n\nfunction setTradeUser(user) {\n  CURRENT_TRADE_USER = user;\n}\n\nfunction setTradeID(id) {\n  CURRENT_TRADE_ID = id;\n}\n\nasync function checkForResponse() {\n  const response = await fetch(apiURL + '/trades/' + CURRENT_TRADE_ID);\n  const myJson = await response.json();\n  const trade = JSON.parse(JSON.stringify(myJson))['0'];\n  if (typeof trade === 'undefined') {\n    clearInterval(RESPONSE_INTERVAL_REF);\n    document.getElementById(\"ldsanim\").style.display = \"none\";\n    document.getElementById(\"maininit\").innerHTML = \"trade\";\n    return;\n  }\n  if(trade.sellerinit == true) {\n    CURRENT_TRADE_USER = trade.seller;\n    tradeFuncs.openTrade(false, CURRENT_TRADE_USER);\n    clearInterval(RESPONSE_INTERVAL_REF);\n    ITEM_INTERVAL_REF = setInterval(itemCheck, 1000);\n  }\n}\n\nfunction finalizeAsBuyer(check) {\n  // console.log(\"setting approval\");\n  // console.log(check);\n  fetch(apiURL + '/trades/'+CURRENT_TRADE_ID, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {buyerapproved: check})\n  }).then(function (res) {\n    // console.log(res);\n    if(check) {\n      FINALIZE_INTERVAL_REF = setInterval(finalizeCheck, 1000);\n    }\n    else {\n      clearInterval(FINALIZE_INTERVAL_REF);\n    }\n  })\n}\n\nasync function sendFormToAdmin() {\n  await fetch(apiURL + '/tradedetails/'+CURRENT_TRADE_ID, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {approved: true})\n  }); \n}\n\nasync function approveTrade(tid) {\n  var offers = await fetch(apiURL + '/tradedetails/' + tid);\n  offers = await offers.json();\n  offers = JSON.parse(JSON.stringify(offers));\n  var artworks = await getAllArtworks();\n  var users = await getAllUsers();\n  for(var offer in offers) {\n\n    var userguilders = 0;\n    var username = \"\";\n    var artworkowner = \"\";\n    for(var u in users) {\n      if (users[u].username.toString() === offers[offer].seller.toString()) {\n        userguilders = users[u].guilders;\n        username = users[u].username;\n      }\n    }\n    for(var a in artworks) {\n      if(artworks[a].identifier.toString() === offers[offer].offer.toString()) {\n        artworkowner = artworks[a].owner;\n      }\n    }\n\n    if(/^\\d+$/.test(offers[offer].offer)) {\n      if(parseInt(userguilders) < parseInt(offers[offer].offer)) {\n        showNotification(\"users no longer have the required items for this trade\");\n        return;\n      }\n    }\n    else {\n      if(username !== artworkowner) {\n        showNotification(\"users no longer have the required items for this trade\");\n        return;\n      }\n    }\n  }\n\n  // this isn't wanted in the final product - keeping it just in case\n\n  // // setting actual price\n  // // if length of offers is 2, and it consists of one string and one number, and the users involved are different\n  // // it's safe to assume it's an artwork being traded for money\n  // if (offers.length === 2) {\n  //   const offerTypes = [/^\\d+$/.test(offers[0].offer), /^\\d+$/.test(offers[1].offer)]\n\n  //   // checking for XOR\n  //   if ((offerTypes[0] == true && offerTypes[1] == false) || \n  //     (offerTypes[0] == false && offerTypes[1] == true)) {\n\n  //     // checking for differing owners\n  //     if ((offers[0].buyer !== offers[1].buyer) && (offers[0].seller !== offers[1].seller)) {\n\n  //       // once all that checking is done we can set the actual price of the object.\n\n  //       // if offerTypes[0] is a number we set it as the actual price for the other offer\n  //       if (offerTypes[0] == true) {\n  //         fetch(`http://fantasycollecting.hamilton.edu/api/artworks/${offers[1].offer}`, {\n  //           method: 'put',\n  //           mode: 'cors',\n  //           headers: {\n  //             'Content-Type': 'application/json',\n  //           },\n  //           body: JSON.stringify({\n  //             actualprice: offers[0].offer,\n  //           }),\n  //         // }).then((res) => {\n  //         //   console.log(res)\n  //         });\n\n  //       } else {\n  //         fetch(`http://fantasycollecting.hamilton.edu/api/artworks/${offers[0].offer}`, {\n  //           method: 'put',\n  //           mode: 'cors',\n  //           headers: {\n  //             'Content-Type': 'application/json',\n  //           },\n  //           body: JSON.stringify({\n  //             actualprice: offers[1].offer,\n  //           }),\n  //         // }).then((res) => {\n  //         //   console.log(res)\n  //         });\n  //       }\n  //     }\n  //   }\n  // }\n\n  for(var offer in offers) {\n    // console.log(offers);\n    await conductTrade(offers[offer].buyer, offers[offer].seller, offers[offer].offer, tid);\n  }\n  try {\n    // mark trade as archived, delete trades stuff\n    await fetch(apiURL + '/trades/'+tid, {\n      method: 'delete',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n    // }).then(function (res) {\n    //   console.log(res);\n    });\n    \n    await fetch(apiURL + '/tradedetails/'+tid, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        archived: 1\n      }),\n    // }).then(function (res) {\n    //   console.log(res);\n    });\n\n    showNotification(\"trade between \"+offers[0].buyer+\" and \"+offers[0].seller+\" approved\");\n  } catch {\n    console.error(\"no trade details\");\n  }\n}\n\nasync function denyTrade(tid) {\n    await fetch(apiURL + '/trades/'+tid, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  }).then(function (res) {\n  });\n  await fetch(apiURL + '/tradedetails/'+tid, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  }).then(function (res) {\n  });\n  //clearIntervals();\n}\n\n/*\n\n\n  seller functions\n\n\n*/\n\nasync function checkForTrade() {\n  if(!window.location.toString().endsWith(\"/gallery\") && !window.location.toString().endsWith(\"/auction\")) return;\n  var theTrades = [];\n  const response = await fetch(apiURL + '/trades/');\n  const myJson = await response.json();\n  for(var trade of myJson) {\n    if(trade.seller == localStorage.getItem('username')\n    && !(trade.sellerapproved === 1 && trade.buyerapproved === 1)) {\n      theTrades.push(trade);\n    }\n  }\n  if(theTrades.length > 0) {\n    document.getElementById(\"mainalert\").style.display = 'block';\n    tradeFuncs.addTrades(theTrades);\n  }\n  else {\n    tradeFuncs.addTrades(theTrades);\n  }\n}\n\nasync function acceptTrade(tid) {\n  // console.log(tid);\n  fetch(apiURL + '/trades/'+tid, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {sellerinit: true})\n  }).then(function (res) {\n    CURRENT_TRADE_ID = tid;\n    // console.log(res);\n    // add trade ui\n    ITEM_INTERVAL_REF = setInterval(itemCheck, 1000);\n  })\n}\n\nasync function declineTrade(tid) {\n  fetch(apiURL + '/trades/'+tid, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n}\n\nasync function cancelTrade() {\n  var trade = await fetch(apiURL + '/trades/'+CURRENT_TRADE_ID);\n  trade = await trade.json();\n  if(trade.sellerapproved === 1 && trade.buyerapproved === 1) return;\n  fetch(apiURL + '/trades/'+CURRENT_TRADE_ID, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  // }).then(function (res) {\n    // console.log(res);\n  });\n  fetch(apiURL + '/tradedetails/'+CURRENT_TRADE_ID, {\n    method: 'delete',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n  // }).then(function (res) {\n    // console.log(res);\n  });\n  clearIntervals();\n}\n\n// async function adminCancelTrade(id) {\n//   await fetch(apiURL + '/trades/'+id, {\n//     method: 'delete',\n//     mode: 'cors',\n//     headers: {\n//         'Content-Type': 'application/json'\n//     },\n//   }).then(function (res) {\n//     console.log(res);\n//   });\n\n//   await fetch(apiURL + '/tradedetails/'+id, {\n//     method: 'put',\n//     mode: 'cors',\n//     headers: {\n//         'Content-Type': 'application/json'\n//     },\n//     body: JSON.stringify(\n//       {\n//       archived: true,\n//     }),\n//   }).then(function (res) {\n//     // console.log(res);\n//   });\n//   clearIntervals();\n// }\n\nfunction clearIntervals() {\n  clearInterval(FINALIZE_INTERVAL_REF);\n  clearInterval(RESPONSE_INTERVAL_REF);\n  clearInterval(ITEM_INTERVAL_REF);\n}\n\nfunction finalizeAsSeller(check) {\n  fetch(apiURL + '/trades/'+CURRENT_TRADE_ID, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {sellerapproved: check})\n  }).then(function (res) {\n    // console.log(res);\n    if(check) {\n      FINALIZE_INTERVAL_REF = setInterval(finalizeCheck, 1000);\n    }\n    else {\n      clearInterval(FINALIZE_INTERVAL_REF);\n    }\n  })\n}\n\n/*\n\n\n            USER MANAGEMENT FUNCS\n\n\n*/\n\n\n\nfunction logOutUser() {\n  localStorage.clear();\n  window.location.reload();\n  unsubpub();\n}\n\n/*\n\n            ADMIN STUDENT MANAGEMENT FUNCS\n\n*/\n\nasync function isAdmin(user) {\n  const response = await fetch(apiURL + '/users');\n  const myJson = await response.json();\n  const users = JSON.parse(JSON.stringify(myJson));\n  for(var u in users) {\n    if(users[u].username === user) {\n      return (users[u].admin === 1);\n      // return users[u].admin;\n    }\n  }\n}\n\nasync function getUser(user) {\n  //console.log(\"getting all users\");\n  const response = await fetch(apiURL + '/users/' + user);\n  const myJson = await response.json();\n  const student = JSON.parse(JSON.stringify(myJson));\n  // console.log(\"student: \");\n  // console.log(student);\n  return student;\n}\n\nasync function getAllUsers() {\n  //console.log(\"getting all users\");\n  const apiURL = \"http://fantasycollecting.hamilton.edu/api\";\n  const response = await fetch(apiURL + '/users');\n  const myJson = await response.json();\n  const students = JSON.parse(JSON.stringify(myJson));\n  // console.log(\"students: \");\n  // console.log(students);\n  return students;\n}\n\nasync function getAllArtworks() {\n  const response = await fetch(apiURL + '/artworks');\n  const myJson = await response.json();\n  const artworks = JSON.parse(JSON.stringify(myJson));\n  return artworks;\n}\n\nasync function updateUserData(data) {\n  const response = await fetch(apiURL + '/users/' + data.username);\n  const myJson = await response.json();\n  const students = JSON.parse(JSON.stringify(myJson));\n  if (data.hash === \"*****\"){\n    data.hash = students[0].hash;\n  } else {\n    data.hash = MD5(data.hash);\n  }\n\n  // defaulting number based info\n  if (!data.admin) {\n    data.admin = 0;\n  }\n  if (!data.formcompleted) {\n    data.formcompleted = 0;\n  }\n  if (!data.guilders) {\n    data.guilders = 0;\n  }\n  if (!data.microresearchpoints) {\n    data.microresearchpoints = 0;\n  }\n\n  fetch(apiURL + '/users/'+data.username, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {username: data.username,\n        hash: data.hash,\n        name: data.name,\n        admin: data.admin,\n        formcompleted: data.formcompleted,\n        guilders: data.guilders,\n        microresearchpoints: data.microresearchpoints,\n        blurb: data.blurb})\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n}\n\nasync function createUser(user) {\n  //const stringName = localStorage.getItem('username');\n  if (user.username === undefined) {\n    alert('Please specify a username for your user.')\n    return;\n  }\n\n  const response = await fetch(apiURL + '/users/' + user.username);\n  const myJson = await response.json();\n  const student = JSON.parse(JSON.stringify(myJson))['0'];\n  if (typeof student === 'undefined') {\n    // console.log(user);\n\n    // defaulting number based info \n    if (!user.admin) {\n      user.admin = 0;\n    }\n    if (!user.formcompleted) {\n      user.formcompleted = 0;\n    }\n    if (!user.guilders) {\n      user.guilders = 0;\n    }\n    if (!user.microresearchpoints) {\n      user.microresearchpoints = 0;\n    }\n\n    fetch(apiURL + '/users/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(\n          {username: user.username,\n            hash: MD5(user.hash),\n            name: user.name,\n            admin: user.admin,\n            formcompleted: user.formcompleted,\n            guilders: user.guilders,\n            microresearchpoints: user.microresearchpoints,\n            blurb: user.blurb,\n          }),\n    // }).then(function(res) {\n    //   console.log(res);\n    })\n  } else {\n    alert('User already exists.');\n  }\n}\n\nfunction deleteUser(username) {\n  fetch(apiURL + '/users/'+username, {\n    method: 'delete',\n    mode: 'cors',\n  // }).then(function(res) {\n  //   console.log(res);\n  })\n}\n\n/*\n\n            ADMIN ARTWORK MANAGEMENT FUNCS\n\n*/\n\nasync function createArtwork(artwork) {\n  //const stringName = localStorage.getItem('username');\n  if (artwork.identifier === undefined) {\n    alert('Please specify an artwork identifier.');\n    return;\n  }\n  const response = await fetch(apiURL + '/artworks/' + artwork.identifier);\n  const myJson = await response.json();\n  const artworkInDB = JSON.parse(JSON.stringify(myJson))['0'];\n  if (typeof artworkInDB === 'undefined') {\n    // defaulting number based info \n    if (!artwork.theoreticalprice) {\n      artwork.theoreticalprice = 0;\n    }\n    if (!artwork.actualprice) {\n      artwork.actualprice = 0;\n    }\n    if (!artwork.rateable) {\n      artwork.rateable = 0;\n    }\n    if(!artwork.title) {\n      artwork.title = \"...\";\n    }\n    if(!artwork.artist) {\n      artwork.artist = \"...\";\n    }\n    if(!artwork.owner) {\n      artwork.owner = \"\";\n    }\n\n    fetch(apiURL + '/artworks/', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(\n          {identifier: artwork.identifier,\n          title: artwork.title,\n          artist: artwork.artist,\n          year: artwork.year,\n          theoreticalprice: artwork.theoreticalprice,\n          actualprice: artwork.actualprice,\n          owner: artwork.owner,\n          url: artwork.url,\n          rateable: artwork.rateable}),\n    // }).then(function(res) {\n    //   console.log(res);\n    })\n  } else {\n    alert('Artwork already exists.');\n  }\n}\n\nasync function updateArtwork(data) {\n\n  // defaulting number based info \n  if (!data.theoreticalprice) {\n    data.theoreticalprice = 0;\n  }\n  if (!data.actualprice) {\n    data.actualprice = 0;\n  }\n  if (!data.rateable) {\n    data.rateable = 0;\n  }\n\n  fetch(apiURL + '/artworks/'+data.identifier, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {title: data.title,\n        artist: data.artist,\n        year: data.year,\n        theoreticalprice: data.theoreticalprice,\n        actualprice: data.actualprice,\n        owner: data.owner,\n        url: data.url,\n        rateable: data.rateable})\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n}\n\nfunction deleteArtwork(artwork) {\n  fetch(apiURL + '/artworks/'+artwork, {\n    method: 'delete',\n    mode: 'cors',\n  // }).then(function(res) {\n  //   console.log(res);\n  })\n}\n\n/*\n\n            ARTWORK MANAGEMENT FUNCS\n\n*/\n\nasync function getArtworkInfo(art) {\n  const response = await fetch(apiURL + '/artworks/' + art);\n  const myJson = await response.json();\n  const artwork = JSON.parse(JSON.stringify(myJson))['0'];\n  return artwork;\n}\n\nasync function getHistory(artwork) {\n  //console.log(\"getting all users\");\n  const response = await fetch(apiURL + '/history/' + artwork);\n  const myJson = await response.json();\n  const history = JSON.parse(JSON.stringify(myJson));\n  return history;\n}\n\nasync function getMicroresearch(artwork) {\n  const response = await fetch(apiURL + '/microresearch/' + artwork);\n  const myJson = await response.json();\n  const microresearch = JSON.parse(JSON.stringify(myJson));\n  return microresearch;\n}\n\nasync function postMicroresearch(data) {\n  fetch(apiURL + '/microresearch/', {\n    method: 'post',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {identifier: data.identifier,\n        username: data.username,\n        information: data.information,\n        timestamp: data.timestamp})\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n\n  let user = await getUser(data.username);\n  user = user[0];\n  console.log(user);\n\n  fetch(apiURL + '/users/' + data.username, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n      {\n        'microresearchpoints': user.microresearchpoints + 1\n      }\n    )\n  })\n\n}\n\nasync function getTradeDetails() {\n  const response = await fetch(apiURL + '/tradedetails/');\n  const myJson = await response.json();\n  const tradedetails = JSON.parse(JSON.stringify(myJson));\n  return tradedetails;\n}\n\nasync function getTrades() {\n  const response = await fetch(apiURL + '/trades/');\n  const myJson = await response.json();\n  const tradedetails = JSON.parse(JSON.stringify(myJson));\n  return tradedetails;\n}\n\nasync function setBlurb(user, blurb) {\n    fetch(apiURL + '/users/' + user, {\n    method: 'put',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(\n        {blurb: blurb})\n  // }).then(function (res) {\n  //   console.log(res);\n  })\n}\n\nasync function resetGame() {\n  // remove all users except those marked as admins\n  let users = await getAllUsers();\n  for (let user of users) {\n    if (user.admin !== 1) {\n      fetch(apiURL + '/users/' + user.username, {\n        method: 'delete',\n        mode: 'cors',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n      // }).then(function (res) {\n      //   console.log(res);\n      })\n    }\n  }\n\n  let artworks = await getAllArtworks();\n  for (let artwork of artworks) {\n    // set owner of artwork to none\n    fetch(apiURL + '/artworks/' + artwork.identifier, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        owner: \"\"\n      })\n      // }).then(function (res) {\n      //   console.log(res);\n    })\n\n    // remove all history\n    fetch(apiURL + '/history/' + artwork.identifier, {\n      method: 'delete',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n    // }).then(function (res) {\n    //   console.log(res);\n    })\n\n    // remove all microresearch\n    fetch(apiURL + '/microresearch/' + artwork.identifier, {\n      method: 'delete',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n    // }).then(function (res) {\n    //   console.log(res);\n    })\n\n    // remove all ratetable information\n    fetch(apiURL + '/ratetable/' + artwork.identifier, {\n      method: 'delete',\n      mode: 'cors',\n      headers: {\n          'Content-Type': 'application/json'\n      },\n    // }).then(function (res) {\n    //   console.log(res);\n    })\n\n  }\n\n  // remove all archived tradedetails\n  let tradedetails = await getTradeDetails();\n  for (let trade of tradedetails) {\n    if (trade.archived === 1) {\n      fetch(apiURL + '/tradedetails/' + trade.tradeid, {\n        method: 'delete',\n        mode: 'cors',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n      // }).then(function (res) {\n      //   console.log(res);\n      })\n    }\n  }\n\n  logOutUser();\n}\n\nasync function shuffleArtworks() {\n  // Shuffles artworks to all current users who are not admins. Any artwork not marked as rateable is ignored.\n\n  const artworks = await getAllArtworks();\n  const users = await getAllUsers();\n\n  // filter playable users - are they admin? if not, push them into playableUsers\n  const playableUsers = [];\n  for (const user of users) {\n    if (user.admin !== 1) {\n      playableUsers.push(user);\n    }\n  }\n\n  // filter rateable artworks - are they rateable? push them into rateableArtworks\n  const rateableArtworks = [];\n  for (const artwork of artworks) {\n    if (artwork.rateable === 1) {\n      rateableArtworks.push(artwork);\n    }\n  }\n\n  // randomly get users and give them an artwork\n  for (const artwork of rateableArtworks) {\n    let randomUser = playableUsers[Math.floor(Math.random() * (playableUsers.length))];\n\n    await fetch(apiURL + '/artworks/' + artwork.identifier, {\n      method: 'put',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        owner: randomUser.username,\n      })\n    });\n  }\n}\n","import React from 'react';\nimport * as serverfuncs from '../serverfuncs';\nimport './tradewindow.css'\n\nexport { addTrades, currentTradeIds, openTrade, closeTrade, populateUserTradeFields }\n\nclass IndexElem extends HTMLElement {\n  indexValue = 0;\n  constructor() {  \n    super();\n  }\n}\ncustomElements.define('index-element', IndexElem);\n\nvar receivingRequest = false;\nvar currentTradeIds = []\n\nwindow.onbeforeunload = function (event) {\n  event.preventDefault();\n  serverfuncs.cancelTrade();\n  var message = 'leave?',\n  event = event || window.event;\n  // For IE and Firefox\n  if (event) {\n    event.returnValue = message;\n  }\n  // For Safari\n  return message;\n};\n\nfunction openNav() {\n  document.getElementById('tradeinit').style.left = '0px';\n  document.getElementById('maininit').style.left = '210px';\n\n  if(document.getElementById('maininit').innerHTML.toString() == 'Cancel') {\n    serverfuncs.cancelTrade();\n    document.getElementById('ldsanim').style.display = 'none';\n    document.getElementById('maininit').innerHTML = 'Trade';\n  }\n}\n\nfunction closeNav() {\n  document.getElementById('tradeinit').style.left = '-200px';\n  document.getElementById('maininit').style.left = '10px';\n}\n\nfunction openalert() {\n  document.getElementById('tradealert').style.left = '0px';\n  document.getElementById('mainalert').style.left = '210px';\n}\n\nfunction closealert() {\n  document.getElementById('tradealert').style.left = '-200px';\n  document.getElementById('mainalert').style.left = '10px';\n}\n\nfunction openTrade(isReceiving, other) {\n  document.getElementById('tradewindow').style.left = '0%';\n  receivingRequest = isReceiving;\n  document.getElementById('otheritems').innerHTML = other;\n  document.getElementById('localitems').innerHTML = localStorage.getItem('username');\n\n  // if initiated trade, reset button\n  document.getElementById('ldsanim').style.display = 'none';\n  document.getElementById('maininit').innerHTML = 'Trade';\n}\n\nfunction closeTrade() {\n  document.getElementById('tradewindow').style.left = '-100%';\n  document.getElementById('confirmbutton').innerHTML = 'Confirm Trade';\n  document.getElementById('ldsanim2').style.display = 'none';\n}\n\n// shows all available users to trade with\n\nasync function expandUsers() {\n  var userList = await serverfuncs.getAllUsers();\n  for(var user in userList) {\n    if(userList[user].username === localStorage.getItem('username')\n    || userList[user].admin === 1) {\n      continue;\n    }\n    try {\n      document.getElementById('user_t'+user.toString()).remove();\n    } catch { }\n    var buttonnode = document.createElement('a');\n    buttonnode.id = 'user_t'+user.toString();\n    buttonnode.style.padding = '0px 0px 5px 0px';\n    buttonnode.innerHTML = userList[user].username;\n    buttonnode.onclick = function() { \n      serverfuncs.initiateTrade(this.innerHTML);\n      closeNav();\n      document.getElementById('ldsanim').style.display = 'inline-block';\n      document.getElementById('maininit').innerHTML = 'Cancel';\n    }\n    document.getElementById('tradeusers').appendChild(buttonnode);\n  }\n  document.getElementById('tradeusers').style.height = '100px';\n}\n\n// funtion that displays artworks user can add to the trade\nvar ARTWORKS_READ = false;\nasync function expandArtworks() {\n  if(ARTWORKS_READ) {\n    document.getElementById('tradeartworks').style.height = '70px';\n    return;\n  }\n  var artList = await serverfuncs.getAllArtworks();\n  for(var art in artList) {\n    if(artList[art].owner == localStorage.getItem('username')) {\n      var buttonnode = document.createElement('a');\n      buttonnode.id = 'art_t'+art.toString();\n      buttonnode.innerHTML = artList[art].identifier;\n      buttonnode.onclick = async function() {\n        await serverfuncs.addArtworkToTrade(this.innerHTML.toString());\n        await serverfuncs.clearApproval();\n      }\n      document.getElementById('tradeartworks').appendChild(buttonnode);\n    }\n  }\n  document.getElementById('tradeartworks').style.height = '70px';\n  ARTWORKS_READ = true;\n}\n\nvar totalTradeItems = 0;\nvar itemImages = [];\n\n// function for adding current trade items to trade fields\n\n\n\nasync function populateUserTradeFields(items) {\n  itemImages = [];\n  for(var item in items) {\n    itemImages.push(await serverfuncs.getArtworkInfo(items[item].offer));\n  }\n  for(var i = 0; i < totalTradeItems; i++) {\n    try {\n      document.getElementById('trade_l_t'+i.toString()).remove();\n      document.getElementById('trade_l_i'+i.toString()).remove();\n    }\n    catch {\n    }\n  }\n  // reset guilder fields\n  document.getElementById('currentlocalg').innerHTML = 'Guilders: 0';\n  document.getElementById('currentotherg').innerHTML = 'Guilders: 0';\n  // set trade items\n  totalTradeItems = 0;\n  for(var item in items) {\n    if(/^\\d+$/.test(items[item].offer)) {\n      if(items[item].buyer == localStorage.getItem('username')) {\n        document.getElementById('currentotherg').innerHTML = 'Guilders:  '+items[item].offer;\n      }\n      else {\n        document.getElementById('currentlocalg').innerHTML = 'Guilders:  '+items[item].offer;\n      }\n    }\n    else {\n      var parentid;\n      if(items[item].buyer == localStorage.getItem('username')) {\n        parentid = 'otherartworks';\n      }\n      else {\n        parentid = 'localartworks';\n      }\n      var textnode = document.createElement('a');\n      textnode.id = 'trade_l_t'+item.toString();\n      textnode.innerHTML = items[item].offer;\n      textnode.style.position = 'relative';\n      document.getElementById(parentid).appendChild(textnode);\n\n      var imagenode = document.createElement('img');\n      imagenode.id = 'trade_l_i'+item.toString();\n      imagenode.style.width = '200px';\n      imagenode.style.height= '200px';\n      imagenode.style.position = 'relative';\n      imagenode.src = itemImages[item].url;\n      document.getElementById(parentid).appendChild(imagenode);\n\n      if(parentid === 'localartworks') {\n        var deletenode = document.createElement('index-element');\n        deletenode.className = 'closebtnart';\n        deletenode.indexValue = item;\n        deletenode.onclick = async function() {\n          serverfuncs.removeArtworkFromTrade(items[this.indexValue].offer);\n          await serverfuncs.clearApproval();\n        }\n        deletenode.innerHTML = 'x';\n        textnode.appendChild(deletenode);\n      }\n\n    }\n    totalTradeItems++;\n  }\n}\n\nvar totalTrades = 0;\nvar currentTrades = 0;\n// function for adding incoming trade requests to sidebar\n\nfunction addTrades(theTrades) {\n  for(var i = 0; i <= totalTrades; i++) {\n    try {\n      document.getElementById('trade_n'+i.toString()).remove();\n      document.getElementById('trade_ba'+i.toString()).remove();\n      document.getElementById('trade_bd'+i.toString()).remove();\n      document.getElementById('trade_d'+i.toString()).remove();\n    }\n    catch {\n    }\n  }\n  currentTrades = 0;\n  totalTrades = 0;\n  for(var trade in theTrades) {\n    var textnode = document.createElement('h1');\n    textnode.id = 'trade_n'+trade.toString();\n    textnode.className = 'tradealertdrop';\n    textnode.innerHTML = theTrades[trade].buyer;\n    document.getElementById('tradealert').appendChild(textnode);\n\n    var buttonnode = document.createElement('button');\n    buttonnode.id = 'trade_ba'+trade.toString();\n    buttonnode.innerHTML = 'accept';\n    buttonnode.className = 'requestbutton';\n    buttonnode.onclick = function() {\n      serverfuncs.acceptTrade(theTrades[parseInt(this.id[8])].tradeid);\n      closealert();\n      openTrade(true, document.getElementById('trade_n'+this.id[8]).innerHTML);\n      serverfuncs.setTradeUser(document.getElementById('trade_n'+this.id[8]).innerHTML);\n      removeTrade(this.id[8]);\n    }\n    //document.getElementById(textnode.id).appendChild(buttonnode);\n    document.getElementById('tradealert').appendChild(buttonnode);\n\n\n    var divnode = document.createElement('div');\n    divnode.id = 'trade_d'+trade.toString();\n    document.getElementById('tradealert').appendChild(divnode);\n\n    var buttonnode2 = document.createElement('button');\n    buttonnode2.id = 'trade_bd'+trade.toString();\n    buttonnode2.innerHTML = 'decline';\n    buttonnode2.className = 'requestbutton';\n    buttonnode2.onclick = function() {\n      serverfuncs.declineTrade(theTrades[trade].tradeid);\n      removeTrade(parseInt(this.id[8]));\n    }\n    //document.getElementById(textnode.id).appendChild(buttonnode2);\n    document.getElementById('tradealert').appendChild(buttonnode2);\n\n    \n    totalTrades = trade;\n    currentTrades = trade+1;\n  }\n  if(currentTrades == 0) {\n    document.getElementById('mainalert').style.display = 'none';\n    closealert();\n  }\n}\n\nfunction removeTrade(index) {\n  try {\n    document.getElementById('trade_n'+index.toString()).remove();\n    document.getElementById('trade_ba'+index.toString()).remove();\n    document.getElementById('trade_bd'+index.toString()).remove();\n    document.getElementById('trade_d'+index.toString()).remove();\n    currentTrades--;\n    if(currentTrades == 0) {\n      document.getElementById('mainalert').style.display = 'none';\n      closealert();\n    }\n  }\n  catch {\n  }\n}\n\nvar waiting = false;\n\nfunction confirmanimation() {\n  if(waiting) {\n    document.getElementById('confirmbutton').innerHTML = 'Confirm Trade';\n    document.getElementById('ldsanim2').style.display = 'none';\n  }\n  else {\n    document.getElementById('confirmbutton').innerHTML = 'Cancel Confirm';\n    document.getElementById('ldsanim2').style.display = 'inline-block';\n  }\n  waiting = !waiting;\n}\n\nclass TradeWindow extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n    \n    <div>\n    {/* initiate trade window */}\n    <div id = 'ldsanim' class='lds-dual-ring'></div>\n    <div id='tradeinit' class='sidebarinit'>\n      <a class='closebtn' onClick={closeNav}>&times;</a>\n\n      <button class='dropbtn'>Users</button>\n\n      <div id = 'tradeusers' class='dropdown-content'></div>\n    </div>\n\n    <button id='maininit' class='openbtninit' onClick={() => {\n      openNav();\n      expandUsers();}}>Trade</button>\n\n    {/* trade window */}\n    <div id='tradewindow' class='tradewin' display='none'>\n      <div class = 'centering'>\n\n      <a id = 'localitems' class = 'myuser'>My Items</a>\n\n\n      <div class = 'addg'>\n        <a>Guilders</a>\n        <input id = 'addguilders' type = 'number'/>\n        <button onClick = {async () => {\n          var num = Number(document.getElementById('addguilders').value)\n\n          // checking if less than 0\n          if (num < 0) {\n            serverfuncs.showNotification('Guilders must be greater than or equal to 0.')\n            return;\n          }\n\n          // checking if not whole number\n          if (!(Number.isInteger(num))) {\n            serverfuncs.showNotification('Number must be a whole number without decimals.')\n            return;\n          }\n\n          // if either of those two flags are true then it's not going to be added as a guilder value, so we carry on.\n          await serverfuncs.addGuildersToTrade(document.getElementById('addguilders').value);\n          await serverfuncs.clearApproval();\n      }}>Add</button>\n      </div>\n\n      <div class='dropbtnArtworks' onClick = {expandArtworks}>Select Artworks to Trade...\n          <div id = 'tradeartworks' class='dropdown-content-art'/>\n      </div>\n\n\n      <div id = 'localguilders' class = 'localg'>\n        <a id = 'currentlocalg'>Guilders: 0</a>\n      </div>\n\n      <div id = 'localartworks' class = 'locala'/>\n\n\n      <a id = 'confirmbutton' class = 'localconfirm' onClick = {\n          () => {\n            if(receivingRequest) serverfuncs.finalizeAsSeller(!waiting); \n            else serverfuncs.finalizeAsBuyer(!waiting);\n            confirmanimation();\n          }\n        }>Confirm Trade\n      </a>\n      <div id = 'ldsanim2' class='lds-dual-ring2'></div>\n\n      <a class='closebtn' onClick={() => {closeTrade(); serverfuncs.cancelTrade();}}>Cancel</a>\n\n      <a id = 'otheritems' class = 'otheruser'>Other User</a>\n      <div id = 'otherguilders' class = 'otherg'>\n      <a id = 'currentotherg'>Guilders: 0</a>\n      </div>\n      <div id = 'otherartworks' class = 'othera'></div>\n      </div>\n    </div>\n\n    {/* alert window */}\n    <div id='tradealert' class='sidebaralert'>\n      <a class='closebtn' onClick={closealert}>&times;</a>\n    </div>\n\n    <button id = 'mainalert' class='openbtnalert' onClick={openalert}>Trade Request</button>\n\n    </div>\n    )\n  }\n}\n\nexport default TradeWindow\n\n","import React from 'react';\nimport {View} from 'react-native';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport * as serverfuncs from '../serverfuncs';\n\nconst tileData = [];\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tileData: [],\n    };\n    this.getArtworks();\n    this.checkIfDone();\n  };\n  OnComponentDidMount() {\n    this.checkIfDone();\n  }\n  async getArtworks() {\n    let images = await fetch('http://fantasycollecting.hamilton.edu/api/artworks/');\n    images = await images.json();\n    for (const i in images) {\n      if (images[i].rateable === 1) {\n        tileData.push({\n          img: images[i].url,\n          title: images[i].title,\n          artist: images[i].artist,\n          identifier: images[i].identifier,\n        });\n      }\n    }\n    this.forceUpdate();\n  }\n\n  async checkIfDone() {\n    const users = await serverfuncs.getAllUsers();\n    for (const u in users) {\n      if (users[u].username === localStorage.getItem('username')) {\n        if (users[u].formcompleted === 0) {\n          document.getElementById('ratingbutton').style.display = 'inline-block';\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n          textAlign: 'center',\n          paddingTop: 20,\n          paddingBottom: 10}}>Estimated Values</Typography>\n        {tileData.map((tile) => (\n          <View style={{padding: 10, flexDirection: 'row', justifyContent: 'center'}}>\n            <img src={tile.img} alt={tile.title} height={300} style={{alignItem: 'center'}}/>\n            <Paper style={{padding: 10}}>\n              <Typography variant='h6' fontFamily='roboto' style={{textAlign: 'left', marginLeft: 20}}>{tile.title}</Typography>\n              <Typography variant='subtitle1' fontFamily='roboto' style={{marginLeft: 20}}>By: {tile.artist}</Typography>\n              <div style={{margin: 20}}>\n                <label>Estimated Value (1-10):\n                  <br></br>\n                  <input id = {'rate'+tile.identifier} type='number' name='lname' min='1' max='10' maxlength='2'></input>\n                  <br></br>\n                </label>\n                <br></br>\n                <br></br>\n                <br></br>\n                {/* </form> */}\n              </div>\n              <div style={{paddingTop: 5, position: 'relative', alignSelf: 'right', justifyContent: 'flex-end'}}>\n              </div>\n            </Paper>\n            {/* <GridListTileBar\n              title={tile.title}\n              subtitle={<span>by: {tile.artist}</span>}\n            /> */}\n          </View>\n        ))}\n        <View style={{padding: 10, flexDirection: 'row', justifyContent: 'center'}}>\n          <div>\n            <Button size='large' variant='contained' color='secondary' type='submit' value='Submit'\n              style={{fontSize: 20, backgroundColor: '#002f86', alignItem: 'center', margin: 20}}\n              onClick = {async () => {\n                let images = await fetch('http://fantasycollecting.hamilton.edu/api/artworks/');\n                images = await images.json();\n                for (const i in tileData) {\n                  const ratingIdentifier = document.getElementById('rate'+tileData[i].identifier);\n                  let rating = ratingIdentifier.value;\n                  // console.log('Before:' + rating);\n                  if (ratingIdentifier.value > 10) {\n                    rating = 10;\n                  } else if (ratingIdentifier.value < 1) { // this handles null cases as well as ones where the value is less than 0\n                    rating = 1;\n                  }\n                  // console.log('After:' + rating);\n                  await fetch('http://fantasycollecting.hamilton.edu/api/ratetable/', {\n                    method: 'post',\n                    headers: {'Content-Type': 'application/json'},\n                    mode: 'cors',\n                    body: JSON.stringify({\n                      identifier: tileData[i].identifier,\n                      price: rating,\n                    }),\n                  });\n                }\n                await fetch('http://fantasycollecting.hamilton.edu/api/users/'+localStorage.getItem('username'), {\n                  method: 'put',\n                  headers: {'Content-Type': 'application/json'},\n                  mode: 'cors',\n                  body: JSON.stringify({\n                    formcompleted: 1,\n                  }),\n                });\n                document.getElementById('ratingpage').style.left = '-100%';\n                document.getElementById('ratingbutton').style.display = 'none';\n              }}>Submit Form</Button>\n          </div>\n        </View>\n      </div>\n    );\n  }\n}\n\nexport default Form;\n","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TradeWindow from './tradewindow';\nimport OtherGallery from './homepageofother';\nimport {getAllArtworks, setBlurb, getUser} from '../serverfuncs';\nimport ChatComponent from './ChatMessage';\nimport './gallerydropdown.css';\nimport Form from './form';\nimport './ratings.css';\nimport {Link} from 'react-router-dom';\n\nlet tileData = [];\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    tileData = [];\n    this.getTileData();\n    this.getBlurb();\n    document.body.className = 'gallery';\n  }\n\n  async getTileData() {\n    const artworks = await getAllArtworks();\n    for (const i in artworks) {\n      if (artworks[i].owner === localStorage.getItem('username') && artworks[i].hidden !== 1) {\n        tileData.push({\n          img: artworks[i].url,\n          identifier: artworks[i].identifier,\n          title: artworks[i].title,\n          artist: artworks[i].artist,\n          year: artworks[i].year,\n          theoreticalprice: artworks[i].theoreticalprice,\n          actualprice: artworks[i].actualprice,\n        });\n      }\n    }\n    this.forceUpdate();\n  }\n\n  async getBlurb() {\n    const user = localStorage.getItem('username');\n    let userInfo = await getUser(user);\n    userInfo = userInfo[0];\n    document.getElementById('galleryblurb').value = userInfo.blurb;\n  }\n\n  saveBlurb() {\n    const username = localStorage.getItem('username');\n    const blurb = document.getElementById('galleryblurb').value;\n    setBlurb(username, blurb);\n  }\n\n  openForm() {\n    document.getElementById('ratingpage').style.left = '0%';\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <div><ChatComponent /></div>\n          <div><OtherGallery/></div>\n          <div><TradeWindow></TradeWindow></div>\n        </div>\n        <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n          textAlign: 'center',\n          paddingTop: 20,\n          paddingBottom: 10}}>My Gallery</Typography>\n        <div>\n          <Grid\n            container\n            direction='row'\n            justify='center'\n            alignItems='left-justified'\n          >\n            {tileData.map((tile) => (\n              <div style={{padding: 10}}>\n                <Link to='/singleartwork'>\n                  <img id = {tile.identifier}\n                    src={tile.img}\n                    alt={tile.title}\n                    onClick={() => {\n                      localStorage.setItem('singleIdent', tile.identifier);\n                    }}\n                    height={350}></img>\n                </Link>\n                <Paper>\n                  <div style={{padding: 10, height: '1in'}}>\n                    <div style={{float: 'left',\n                      width: '80%'}}>\n                      <Typography variant='h6' fontFamily='roboto'>{tile.title}</Typography>\n                      <Typography variant='subtitle1' fontFamily='roboto'>{tile.artist}, {tile.year}</Typography>\n                    </div>\n                    <div style={{float: 'right',\n                      width: '20%',\n                      textAlign: 'right'}}>\n                      <Typography variant='h5' fontFamily='roboto'>{tile.actualprice !== 0 && tile.actualprice !== undefined ? tile.actualprice : tile.theoreticalprice}</Typography>\n                    </div>\n                  </div>\n                </Paper>\n              </div>\n            ))}\n          </Grid>\n          <br />\n          <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n            textAlign: 'center',\n            paddingTop: 20,\n            paddingBottom: 10}}>My Gallery Announcements</Typography>\n          <div style={{textAlign: 'center'}}>\n            <textarea style={{width: '50%', height: 100}} id='galleryblurb' multiline='true'></textarea>\n          </div>\n          <Button style={{margin: 'auto', display: 'block'}} onClick={this.saveBlurb}>Save</Button>\n        </div>\n        <button id = 'ratingbutton' onClick = {() => {\n          this.openForm();\n        }} className = 'openFormButton'>Rate Artworks</button>\n        <div id = 'ratingpage' style = {{overflowX: 'hidden', color: 'white', zIndex: 10000, backgroundColor: 'rgba(0, 0, 0, .7)', position: 'absolute', top: '0px', width: '100%', left: '-100%', transition: '1s'}}>\n          <Form/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\n\nexport default function SimpleMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {props.mode ?\n        (<Link to='/auction' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => {\n          handleClose();\n          serverfuncs.cancelTrade();\n        }}>Auction</MenuItem></Link>) :\n        (<Link to='/gallery' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => {\n          handleClose();\n          serverfuncs.cancelTrade();\n        }}>\n        My Gallery</MenuItem></Link>)}\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => {\n          serverfuncs.logOutUser();\n        }}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n","import React from 'react';\nimport './notification.css';\n\nclass Notification extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div id = 'notification' className = 'notification'>\n        notification\n      </div>\n    );\n  }\n}\n\nexport default Notification;\n\n","import React, {Component} from 'react';\nimport Homepage from '../components/homepage';\nimport SimpleMenu from '../components/simpleMenu';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport * as serverfuncs from '../serverfuncs';\nimport Grid from '@material-ui/core/Grid';\nimport Notification from '../components/notification';\nimport Guilder from '../static/guilder.svg';\n\nclass MainPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      guilders: 0,\n    };\n    this.getGuilders = this.getGuilders.bind(this);\n    this.getGuilders();\n  }\n\n  async getGuilders() {\n    const userlist = await serverfuncs.getUser(localStorage.getItem('username'));\n    this.setState({\n      guilders: userlist[0].guilders,\n    });\n    this.guilders = userlist[0].guilders;\n    // console.log('GUILDERS IS IT HERE');\n    // console.log(guilders)\n  }\n\n  render() {\n    return (\n      <div>\n        <Notification/>\n        <AppBar position='fixed' style={{backgroundColor: '#002f86'}}>\n          <Toolbar variant='dense'>\n            <Grid\n              justify='space-between'\n              container spacing={1}\n            >\n              <Grid item xs={'90%'}>\n                <SimpleMenu mode={true}/>\n              </Grid>\n              <Grid item xs>\n                <Typography variant='h6' color='inherit' style={{marginTop: 9}}>\n                    Fantasy Collecting - {localStorage.getItem('username')}\n                </Typography>\n              </Grid>\n              <Grid item xs>\n                <Typography variant='h6' style={{float: 'right', marginTop: 10}}>\n                  <img src={Guilder} height='20' width='20'></img>\n                  {this.state.guilders}</Typography>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <br></br>\n        <br></br>\n        {/* <Button onClick={() => {console.log(typeof localStorage.getItem('admin'))}}>click</Button> */}\n        <Homepage />\n      </div>\n    );\n  }\n}\n\nexport default MainPage;\n","import React from 'react';\nimport MaterialTable from 'material-table';\nimport SearchIcon from '@material-ui/icons/Search';\nimport * as serverfuncs from '../serverfuncs';\nimport {default as Chatkit} from '@pusher/chatkit-server';\nimport './backgroundlogin.css';\nimport './gallerydropdown.css';\n\nconst chatkit = new Chatkit({\n  instanceLocator: 'v1:us1:f04ab5ec-b8fc-49ca-bcfb-c15063c21da8',\n  key: '32b71a31-bcc2-4750-9cff-59640b74814e:hQq+MMcoDqpXgMK0aPNPcm8uFHFDRmNDWcYNeiP2Zjg=',\n});\n\nclass MicroresearchTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // stuff for memory of table\n    this.rows = [];\n    this.read = false;\n    this.getRows = this.getRows.bind(this);\n\n    // needs to be done for divid to be preserved\n    this.lowerTable = this.lowerTable.bind(this);\n    this.raiseTable = this.raiseTable.bind(this);\n    this.divid = this.props.username + 'MicroresearchDropdown';\n\n    this.getRows();\n    this.state = {columns: [\n      {title: 'User', field: 'username'},\n      {title: 'Microresearch', field: 'information'},\n      {title: 'Timestamp', field: 'timestamp'},\n    ],\n    data: this.rows,\n    };\n  }\n\n  lowerTable() {\n    document.getElementById(this.divid).style.top = '50px';\n  }\n\n  raiseTable() {\n    document.getElementById(this.divid).style.top = '-600px';\n  }\n\n  async getRows() {\n    this.rows = [];\n    this.username = this.props.username;\n    const artworkMicroresearch = await serverfuncs.getMicroresearch(this.props.username);\n    for (const microresearch of artworkMicroresearch) {\n      if (microresearch.username === this.props.username) {\n        microresearch.timestamp = new Date(microresearch.timestamp).toLocaleString();\n        this.rows.push(microresearch);\n      }\n    };\n    this.state.data = this.rows;\n    this.state.data = this.state.data.sort( function(a, b) {\n      return new Date(a.date) > new Date(b.date) ? 1 : -1;\n    });\n    this.read = true;\n    this.forceUpdate();\n  }\n\n  render() {\n    const title = this.username + '\\'s Microresearch';\n    return (\n      <div>\n        <div id={this.divid} class='galleryDropdownAdmin'>\n          <a class='closebtn' onClick={this.raiseTable}>&times;</a>\n          <p>&nbsp;</p>\n          {this.read ? (\n          <MaterialTable\n            title={title}\n            columns={this.state.columns}\n            data={this.state.data}\n          />\n        ) : (<h1>Loading...</h1>)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class MaterialTableDemo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.rows = [];\n    this.read = false;\n\n    // populated in getRows()\n    this.microresearchids = [];\n\n    this.stateBeg = {columns: [\n      {title: 'Username', field: 'username'},\n      {title: 'Password', field: 'hash'},\n      {title: 'Name', field: 'name'},\n      {title: 'Admin?', field: 'admin', type: 'numeric'},\n      {title: 'Completed form?', field: 'formcompleted', type: 'numeric'},\n      {title: 'Guilders', field: 'guilders', type: 'numeric'},\n      {title: 'Points', field: 'microresearchpoints', type: 'numeric'},\n      {title: 'Blurb', field: 'blurb'},\n    ],\n    data: this.rows,\n    };\n\n    this.getRows = this.getRows.bind(this);\n\n    this.getRows();\n\n    this.state = this.stateBeg;\n    document.body.className = 'background';\n  }\n\n  createUser(username) {\n    chatkit.createUser({\n      id: username,\n      name: username,\n    }).then((currentUser) => {\n      this.setState({\n        currentUsername: username,\n        currentId: username,\n        currentView: 'chatApp',\n      });\n    }).catch((err) => {\n      if (err.status === 400) {\n        this.setState({\n          currentUsername: username,\n          currentId: username,\n          currentView: 'chatApp',\n        });\n      } else {\n        console.error(err.status);\n      }\n    });\n  }\n\n  async getRows() {\n    this.rows = [];\n    const users = await serverfuncs.getAllUsers();\n    for (const user of users) {\n      const microresearchIdentifier = user.username + 'MicroresearchDropdown'\n      const dict = {username: user.username,\n        hash: '*****',\n        name: user.name,\n        admin: user.admin,\n        formcompleted: user.formcompleted,\n        guilders: user.guilders,\n        microresearchpoints: user.microresearchpoints,\n        blurb: user.blurb,\n        // used for searching by microresearch\n        id: microresearchIdentifier,\n      };\n      this.rows.push(dict);\n      this.microresearchids.push(dict.username);\n    };\n    this.state.data = this.rows;\n    this.state.data = this.state.data.sort(function(a, b) {\n      return a.username[0] > b.username[0] ? 1 : -1;\n    });\n    this.read = true;\n    this.forceUpdate();\n  }\n\n  hidePasswords() {\n    for (const row in this.state.data) {\n      this.state.data[row].hash = '*****';\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.read ? (\n      <MaterialTable\n        title='Users'\n        columns={this.state.columns}\n        data={this.state.data}\n        actions={[\n          {\n            icon: SearchIcon,\n            tooltip: 'User Microresearch',\n            onClick: (event, rowData) => {\n              document.getElementById(rowData.id).style.top = '50px';\n            },\n          },\n        ]}\n        editable={{\n          onRowAdd: (newData) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                resolve();\n                serverfuncs.createUser(newData);\n                this.state.data.push(newData);\n                this.state.data = this.state.data.sort(function(a, b) {\n                  return a.username[0] > b.username[0] ? 1 : -1;\n                });\n                this.setState({...this.state, ...this.state.data});\n                this.createUser(newData.username);\n                // this.hidePasswords();\n                this.forceUpdate();\n              }, 600);\n            }),\n          onRowUpdate: (newData, oldData) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                resolve();\n                this.state.data = this.state.data.filter(function(value, index, arr) {\n                  return arr[index].username !== oldData.username;\n                });\n                serverfuncs.updateUserData(newData);\n                this.state.data.push(newData);\n                this.state.data = this.state.data.sort(function(a, b) {\n                  return a.username[0] > b.username[0] ? 1 : -1;\n                });\n                this.setState({...this.state, ...this.state.data});\n                // this.hidePasswords();\n                this.forceUpdate();\n              }, 600);\n            }),\n          onRowDelete: (oldData) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                resolve();\n                this.state.data = this.state.data.filter(function(value, index, arr) {\n                  return arr[index].username !== oldData.username;\n                });\n                this.state.data = this.state.data.sort(function(a, b) {\n                  return a.username[0] > b.username[0] ? 1 : -1;\n                });\n                this.setState({...this.state, ...this.state.data});\n                serverfuncs.deleteUser(oldData.username);\n                this.forceUpdate();\n              }, 600);\n            }),\n        }}\n      />\n    ) : (<h1>Loading...</h1>)}\n        {this.microresearchids.map((username) => (\n          <MicroresearchTable username={username} />\n        ))}\n      </div> );\n  }\n}\n","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport './gallerydropdown.css';\nimport * as serverfuncs from '../serverfuncs';\nimport {Link} from 'react-router-dom';\n\nlet tileData = [];\n\nfunction openUserMenu() {\n  document.getElementById('galleryview').style.left = '0px';\n  document.getElementById('gallerybutton').style.left = '210px';\n}\n\nfunction closeUserMenu() {\n  document.getElementById('galleryview').style.left = '-200px';\n  document.getElementById('gallerybutton').style.left = '10px';\n}\n\nfunction raiseOtherGallery() {\n  document.getElementById('gallerydropdown').style.top = '-600px';\n}\n\nclass OtherGallery extends Component {\n  constructor(props) {\n    super(props);\n    tileData = [];\n  }\n\n  async getBlurb(user) {\n    let userInfo = await serverfuncs.getUser(user);\n    userInfo = userInfo[0];\n    // console.log(userInfo.blurb)\n    document.getElementById('othergalleryblurb').innerHTML = userInfo.blurb;\n  }\n\n  async expandUsers(ref) {\n    const userList = await serverfuncs.getAllUsers();\n    for (const user in userList) {\n      if (userList[user].username === localStorage.getItem('username') || userList[user].admin === 1) {\n        continue;\n      }\n      try {\n      document.getElementById('user_gt'+user.toString()).remove();\n      } catch {}\n      const buttonnode = document.createElement('a');\n      buttonnode.id = 'user_gt'+user.toString();\n      buttonnode.style.padding = '0px 0px 5px 0px';\n      buttonnode.innerHTML = userList[user].username;\n      buttonnode.onclick = function() {\n        ref.getTileData(this.innerHTML);\n        closeUserMenu();\n        document.getElementById('gallerydropdown').style.top = '50px';\n      };\n      document.getElementById('galleryusers').appendChild(buttonnode);\n    }\n    document.getElementById('galleryusers').style.height = '100px';\n  }\n\n  async getTileData(user) {\n    tileData = [];\n    const artworks = await serverfuncs.getAllArtworks();\n    for (const i in artworks) {\n      if (artworks[i].owner == user) {\n        tileData.push({\n          img: artworks[i].url,\n          identifier: artworks[i].identifier,\n          title: artworks[i].title,\n          artist: artworks[i].artist,\n          year: artworks[i].year,\n        });\n      }\n    }\n    this.getBlurb(user);\n    this.forceUpdate();\n    document.getElementById('subgalleryname').innerHTML = user+'\\'s Gallery';\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <div id='galleryview' class='sidebarinit'>\n            <a class='closebtn' onClick={closeUserMenu}>&times;</a>\n            <button class='dropbtn'>Users</button>\n            <div id = 'galleryusers' class='dropdown-content'></div>\n          </div>\n          <a id = 'gallerybutton' class = 'galleryButtonAdmin' onClick = {() => {\n            openUserMenu(); this.expandUsers(this);\n          }}>View Galleries</a>\n        </div>\n        <div id = 'gallerydropdown' class = 'galleryDropdownAdmin'>\n          <a class='closebtn' onClick={raiseOtherGallery}>&times;</a>\n          <div style={{padding: 10}}>\n            <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n              textAlign: 'center',\n              paddingTop: 20,\n              paddingBottom: 10}}>Gallery Announcements</Typography>\n            <h1 style={{textAlign: 'center'}} id='othergalleryblurb'></h1>\n          </div>\n          <Typography id = 'subgalleryname' fontFamily='roboto' variant='h4' component='h4' style={{\n            textAlign: 'center',\n            paddingTop: 20,\n            paddingBottom: 10}}>My Gallery</Typography>\n          <div>\n            <Grid\n              container\n              direction='row'\n              justify='center'\n              alignItems='left-justified'\n            >\n              {tileData.map((tile) => (\n                <div style={{padding: 10}}>\n                  <Link to='/singleartwork'>\n                  <img id = {tile.identifier}\n                  src={tile.img} \n                  alt={tile.title} \n                  onClick={() => {\n                    localStorage.setItem(\"singleIdent\", tile.identifier);}}\n                  height={350}></img>\n                  </Link>\n                  <Paper style={{padding: 10}}>\n                  <div>\n                    <Typography variant='h6' fontFamily='roboto'>{tile.title}</Typography>\n                    <Typography variant='subtitle1' fontFamily='roboto'>{tile.artist}, {tile.year}</Typography>\n                  </div>\n                  </Paper>\n                </div>\n              ))}\n            </Grid>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtherGallery;\n","import React from 'react';\nimport Table from '../components/newtable';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\nimport Notification from '../components/notification';\nimport OtherGallery from '../components/homepageofotheradmin';\n\nfunction SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link to='/admin' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Admin Homepage</MenuItem></Link>\n        <Link to='/arttable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Artworks</MenuItem></Link>\n        <Link to='/adminauction' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Auction</MenuItem></Link>\n        <Link to='/tradetable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Trades</MenuItem></Link>\n        <Link to='/adminform' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Ratings</MenuItem></Link>\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst TablePage = () => {\n  return (\n    <div>\n      <Notification/>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n              Fantasy Collecting\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <OtherGallery/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <Table/>\n    </div>\n  );\n};\n\nexport default TablePage;\n","import React from 'react';\n\nconst ErrorPage = () => {\n  return (\n    <div>\n      <h2>Page Not Found.</h2>\n      <p> If you believe this to be a mistake, email syoung@hamilton.edu and describe what occurred and the steps to reproduce the problem.</p>\n    </div>\n  );\n};\n\nexport default ErrorPage;\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function DenseAppBar() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position='static' style={{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          <Typography variant='h6' color='inherit'>\n            Fantasy Collecting\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {View} from 'react-native';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport Appbar from '../components/appbar';\nimport {MD5} from '../../src/md5';\nimport './backgroundlogin.css';\nimport * as serverfuncs from '../serverfuncs';\nimport {setUpUUID} from './ChatApp';\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {values: {username: '', password: '',\n      gotoadmin: false,\n      gotostudent: false}};\n    this.handleChange = this.handleChange.bind(this);\n    document.body.className = 'background';\n    if (localStorage.getItem('username') !== 'undefined') {\n      this.logBackInUser();\n    }\n  };\n\n  handleChange(event) {\n    this.setState({username: event.target.username});\n    this.setState({password: event.target.password});\n  }\n\n  async logBackInUser() {\n    const stringName = localStorage.getItem('username');\n    const response = await fetch('http://fantasycollecting.hamilton.edu/api/users/' + stringName);\n    const myJson = await response.json();\n    const student = JSON.parse(JSON.stringify(myJson))['0'];\n    if (typeof student === 'undefined') {\n      localStorage.clear();\n    } else {\n      setUpUUID();\n      if (student.admin === 1) {\n        this.setState({gotoadmin: true});\n      } else {\n        this.setState({gotostudent: true});\n      }\n    }\n  }\n\n  async logInUser() {\n    const stringName = document.getElementById('liusername').value;\n    const response = await fetch(serverfuncs.apiURL + '/users/' + stringName);\n    const myJson = await response.json();\n    const student = JSON.parse(JSON.stringify(myJson))['0'];\n    if (typeof student === 'undefined') {\n      alert('Username or password are incorrect. Please try again with correct credentials.');\n    } else if (student.hash !== MD5(document.getElementById('lipassword').value)) {\n      // console.log(student.hash);\n      // console.log(MD5(document.getElementById('lipassword').value));\n      alert('Username or password are incorrect. Please try again with correct credentials.');\n    } else {\n      // console.log('login successful');\n      localStorage.setItem('username', document.getElementById('liusername').value);\n      localStorage.setItem('admin', student.admin);\n      setUpUUID();\n      if (student.admin === 1) {\n        this.setState({gotoadmin: true});\n      } else {\n        // console.log('changing state');\n        this.setState({gotostudent: true});\n      }\n    }\n    \n  }\n\n  redirectToPage() {\n    if (this.state.gotoadmin) {\n      return <Redirect to='/admin' />;\n    } else {\n      return <Redirect to='/gallery' />;\n    }\n  }\n\n  render() {\n    return (\n      <div> { this.state.gotoadmin || this.state.gotostudent ? (<div>{this.redirectToPage()}</div>) : (<div className='Login'>\n        <Appbar />\n        <View style={{flexDirection: 'row', justifyContent: 'center'}}>\n          <Paper style={{width: 300, marginTop: 30}}>\n            <h1 style={{textAlign: 'center', color: 'black', marginTop: 20}}>Login</h1>\n            <div style={{alignItems: 'center', textAlign: 'center'}}>\n              <div>\n                <TextField\n                  id='liusername'\n                  label='Username'\n                  margin='normal'\n                  variant='outlined'\n                  value={this.state.username}\n                  onChange={(this.handleChange)}\n                />\n              </div>\n              <div>\n                <TextField\n                  id='lipassword'\n                  label='Password'\n                  margin='normal'\n                  variant='outlined'\n                  type='password'\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, backgroundColor: '#002f86'}}\n                onClick={() => (this.logInUser())}>Log In\n              </Button>\n            </div>\n          </Paper>\n        </View>\n      </div>)}\n      <br></br>\n      <div>\n        <Card style={{width: 300, margin: 'auto', padding: 10}}>\n          <p style={{textAlign: 'center', fontSize: '.75em'}}>Fantasy Collecting game created by Professor Susan Jarosi.</p>\n          <p style={{textAlign: 'center', fontSize: '.75em'}}>Web application developed by Julia Opatrny, Donald Holley, and Matthew R. Jenkins for their Computer Science Senior Project in Fall 2019. Further development by Donald Holley and Matthew R. Jenkins in Spring 2020.</p>\n          <p style={{textAlign: 'center', fontSize: '.75em'}}>Questions, comments and concerns should go to slyoung@hamilton.edu.</p>\n        </Card>\n      </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Login from '../components/login';\n\nconst LoginPage = () => {\n  return (\n    <div>\n      <Login />\n    </div>\n  );\n};\n\nexport default Login;\n","import React, {Component} from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport ChatComponent from '../components/ChatMessage';\nimport Typography from '@material-ui/core/Typography';\nimport * as serverfuncs from '../serverfuncs';\nimport AuctionStudent from '../components/studentauction';\nimport Grid from '@material-ui/core/Grid';\nimport Notification from '../components/notification';\nimport Guilder from '../static/guilder.svg';\nimport SimpleMenu from '../components/simpleMenu';\n\nclass AuctionPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      guilders: 0,\n    };\n    this.getGuilders = this.getGuilders.bind(this);\n    this.getGuilders();\n  }\n\n  async getGuilders() {\n    const guilders = 0;\n    const userlist = await serverfuncs.getUser(localStorage.getItem('username'));\n    this.setState({\n      guilders: userlist[0].guilders,\n    });\n    this.guilders = userlist[0].guilders;\n    // console.log('GUILDERS IS IT HERE');\n    // console.log(guilders)\n  }\n\n  render() {\n    return (\n      <div>\n        <Notification/>\n        <AppBar position='fixed' style={{backgroundColor: '#002f86'}}>\n          <Toolbar variant='dense'>\n            <Grid\n              justify='space-between'\n              container spacing={1}\n            >\n              <Grid item xs={'90%'}>\n                <SimpleMenu mode={false}/>\n              </Grid>\n              <Grid item xs>\n                <Typography variant='h6' color='inherit' style={{marginTop: 9}}>\n                    Fantasy Collecting - {localStorage.getItem('username')}\n                </Typography>\n              </Grid>\n              <Grid item xs>\n                <Typography variant='h6' style={{float: 'right', marginTop: 10}}>\n                  <img src={Guilder} height='20' width='20'></img>\n                  {this.state.guilders}</Typography>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <br></br>\n        <br></br>\n        <div><ChatComponent /></div>\n        <AuctionStudent/>\n      </div>\n    );\n  }\n}\n\nexport default AuctionPage;\n","import React from 'react';\nimport './imagedrop.css';\nimport * as serverfuncs from '../serverfuncs';\n\nfunction preventDefaults(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction handleDrop(e) {\n  const dt = e.dataTransfer;\n  const files = dt.files;\n  handleFiles(files);\n}\n\nfunction handleFiles(files) {\n  ([...files]).forEach(uploadFile);\n}\n\nfunction uploadFile(file) {\n  const url = 'http://fantasycollecting.hamilton.edu/api/upload';\n  const xhr = new XMLHttpRequest();\n  const formData = new FormData();\n  xhr.open('POST', url, true);\n\n  xhr.addEventListener('readystatechange', function(e) {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      // console.log('IMAGE SAVED');\n      document.getElementById('status').innerHTML = xhr.responseText;\n\n      // adding prompt which allows for autocreation of artwork based on photo name\n      if (window.confirm('Upload successful! Do you want to turn this photo into an artwork for the game?')) {\n        // file.name - convert to all lowercase and remove the ending\n        // remove illegal characters - defined as the following:\n        // space, semicolon, slash, question mark, colon, at sign, equals sign, and, double qoutes, left caret, right caret, hashtag, percent sign, left brace, right brace, pipe, up caret, tilde, left square bracket, right square bracket, left parenthesis, right parenthesis, tilde\n        let identifier = file.name;\n\n        identifier = identifier.replace(/\\.[^/.]+$/, '');\n        identifier = identifier.replace(/[\\ ;\\/?:@=&\\\"<>#%{}|\\^~\\[\\]\\(\\)`]/g, '_');\n        identifier = identifier.toLowerCase();\n\n        let url = file.name;\n        url = file.name.replace(/[\\ ;\\/?:@=&\\\"<>#%{}|\\^~\\[\\]\\(\\)`]/g, '_');\n\n        // generate url\n        url = 'http://fantasycollecting.hamilton.edu/static/media/' + url;\n\n        console.log(identifier);\n        console.log(url);\n\n        // make artwork\n        const artworkData = {\n          identifier: identifier,\n          url: url,\n        };\n\n        // add artwork and reload\n        serverfuncs.createArtwork(artworkData);\n        setTimeout( () => {\n          window.location.reload();\n        }, 500);\n      }\n    } else if (xhr.readyState === 4 && xhr.status !== 200) {\n      // console.log('IMAGE UPLOAD FAILED');\n      document.getElementById('status').innerHTML = 'Something went wrong. Try uploading again.';\n    }\n  });\n\n  formData.append('file', file);\n  xhr.send(formData);\n}\n\nclass ImageDrop extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  async componentDidMount() {\n    this.setUpDrop();\n    this.getAllImages();\n  }\n\n  async getAllImages() {\n    const imageDisplay = document.getElementById('imagebank');\n    let images = await fetch('http://fantasycollecting.hamilton.edu/api/upload');\n    images = await images.json();\n    // console.log(images);\n    for (const i in images.photos) {\n      // console.log(images.photos[i]);\n      const imageNode = document.createElement('p');\n      imageNode.style.backgroundImage = 'url(\\'http://fantasycollecting.hamilton.edu/static/media/' + images.photos[i] + '\\')';\n      imageNode.style.width = '200px';\n      imageNode.style.height = '200px';\n      imageNode.style.backgroundSize = '100%';\n      imageNode.style.objectFit = 'contain';\n      imageNode.style.display = 'inline-block';\n      imageNode.style.padding = '10px';\n      const urlNode = document.createElement('h1');\n      urlNode.innerHTML = images.photos[i];\n      urlNode.style.backgroundColor = 'rgba(0, 0, 0, .5)';\n      urlNode.style.borderRadius = '5px';\n      urlNode.style.color = 'white';\n      urlNode.style.width = '180px';\n      urlNode.style.padding = '5px';\n\n      imageNode.appendChild(urlNode);\n      imageDisplay.append(imageNode);\n    }\n  }\n\n  setUpDrop() {\n    const dropArea = document.getElementById('drop-area');\n    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach((eventName) => {\n      dropArea.addEventListener(eventName, preventDefaults, false);\n    });\n\n    ['dragenter', 'dragover'].forEach((eventName) => {\n      dropArea.addEventListener(eventName, highlight, false);\n    });\n\n    ['dragleave', 'drop'].forEach((eventName) => {\n      dropArea.addEventListener(eventName, unhighlight, false);\n    });\n\n    dropArea.addEventListener('drop', handleDrop, false);\n\n    function highlight(e) {\n      dropArea.classList.add('highlight');\n    }\n\n    function unhighlight(e) {\n      dropArea.classList.remove('highlight');\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div id='drop-area'>\n          <form className='my-form'>\n            <p>Upload files by dragging and dropping images onto the dashed region.\n            </p>\n            <p>Note that characters with diacritics will prevent the file from being added - replace any diacritics with the closest equivalent character.</p>\n            <br />\n            <i id='status'></i>\n          </form>\n        </div>\n\n        <div id='imagebank' style = {{padding: '10px', overflowX: 'wrap', backgroundColor: 'rgba(255, 255, 255, .9)'}}>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default ImageDrop;\n","import React from 'react';\nimport MaterialTable from 'material-table';\nimport * as serverfuncs from '../serverfuncs';\nimport ImageDrop from './imagedrop';\nimport './backgroundlogin.css';\nimport {TablePagination} from '@material-ui/core';\n\nlet rows = [];\nlet read = false;\n\nconst stateBeg = {columns: [\n  {title: 'Identifier', field: 'identifier'},\n  {title: 'Title', field: 'title'},\n  {title: 'Artist', field: 'artist'},\n  {title: 'Year', field: 'year', type: 'numeric'},\n  {title: 'Theoretical Price', field: 'theoreticalprice', type: 'numeric'},\n  {title: 'Actual Price', field: 'actualprice', type: 'numeric'},\n  {title: 'Rateable?', field: 'rateable'},\n  {title: 'Owner', field: 'owner'},\n  {title: 'URL', field: 'url'},\n],\ndata: rows,\n};\n\nexport default class ArtworkTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getRows();\n    this.state = stateBeg;\n    document.body.className = 'background';\n  }\n  async getRows() {\n    rows = [];\n    const artworks = await serverfuncs.getAllArtworks();\n    for (const artwork of artworks) {\n      rows.push(artwork);\n    };\n    this.state.data = rows;\n    this.state.data = this.state.data.sort(function(a, b) {\n      return a.identifier[0] > b.identifier[0] ? 1 : -1;\n    });\n    read = true;\n    this.forceUpdate();\n  }\n  render() {\n    return (\n      <div>\n        {read ? (\n        <div>\n          <MaterialTable\n            title='Artworks'\n            components={{\n              Pagination: (props) => (\n                <div>\n                  <TablePagination\n                    {...props}\n                  />\n                </div>\n              ),\n            }}\n            columns={this.state.columns}\n            data={this.state.data}\n            editable={{\n              onRowAdd: (newData) =>\n                new Promise((resolve) => {\n                  setTimeout(() => {\n                    resolve();\n                    this.state.data.push(newData);\n                    this.state.data = this.state.data.sort(function(a, b) {\n                      return a.identifier[0] > b.identifier[0] ? 1 : -1;\n                    });\n                    this.setState({...this.state, ...this.state.data});\n                    serverfuncs.createArtwork(newData);\n                    this.forceUpdate();\n                  }, 600);\n                }),\n              onRowUpdate: (newData, oldData) =>\n                new Promise((resolve) => {\n                  setTimeout(() => {\n                    resolve();\n                    this.state.data = this.state.data.filter(function(value, index, arr) {\n                      return arr[index].identifier !== oldData.identifier;\n                    });\n                    this.state.data.push(newData);\n                    this.state.data = this.state.data.sort(function(a, b) {\n                      return a.identifier[0] > b.identifier[0] ? 1 : -1;\n                    });\n                    this.setState({...this.state, ...this.state.data});\n                    serverfuncs.updateArtwork(newData);\n                    this.forceUpdate();\n                  }, 600);\n                }),\n              onRowDelete: (oldData) =>\n                new Promise((resolve) => {\n                  setTimeout(() => {\n                    resolve();\n                    this.state.data = this.state.data.filter(function(value, index, arr) {\n                      return arr[index].identifier !== oldData.identifier;\n                    });\n                    this.state.data = this.state.data.sort(function(a, b) {\n                      return a.identifier[0] > b.identifier[0] ? 1 : -1;\n                    });\n                    this.setState({...this.state, ...this.state.data});\n                    serverfuncs.deleteArtwork(oldData.identifier);\n                    this.forceUpdate();\n                  }, 600);\n                }),\n            }}\n          />\n          <ImageDrop/>\n        </div>\n    ) : (<h1>Loading...</h1>)} </div> );\n  }\n}\n","import React from 'react';\nimport Table from '../components/artworktable';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\nimport Notification from '../components/notification';\n\nfunction SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link to='/admin' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Admin Homepage</MenuItem></Link>\n        <Link to='/table' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Users</MenuItem></Link>\n        <Link to='/adminauction' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Auction</MenuItem></Link>\n        <Link to='/tradetable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Trades</MenuItem></Link>\n        <Link to='/adminform' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Ratings</MenuItem></Link>\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst TablePage = () => {\n  return (\n    <div>\n      <Notification/>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n              Fantasy Collecting -&nbsp;\n          </Typography>\n          <Typography variant='h6' color='inherit'>\n            {localStorage.getItem('username')}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <br></br>\n      <br></br>\n      <br></br>\n      <Table />\n    </div>\n  );\n};\n\nexport default TablePage;\n","import React from 'react';\n\nclass TradeOption extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (<div><button onClick = {() => window.resizeTo(400, 400)} >Accept</button><button onClick = {window.close}>Decline</button></div>);\n  }\n}\n\nexport default TradeOption;\n","import React from 'react';\nimport TradeOption from '../components/tradeoption';\n\nconst TradeOptionPage = () => {\n  return (\n    <div>\n      <TradeOption />\n    </div>\n  );\n};\n\nexport default TradeOptionPage;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport ChatComponent from '../components/ChatMessage';\nimport Paper from '@material-ui/core/Paper';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport {View} from 'react-native';\nimport * as serverfuncs from '../serverfuncs.js';\n\nfunction checkConfirmation() {\n  if (window.confirm('WARNING: Resetting the game means removing all non-admin users, all artwork metadata (including history, microresearch, and theoretical price data), and all archived trade details. Press OK if you want to continue.')) {\n    if (window.confirm('WARNING: THIS CANNOT BE UNDONE. Press OK if you are 100% certain you want to reset the game.')) {\n      serverfuncs.resetGame();\n    }\n  }\n}\n\nfunction SimpleMenu() {\n  document.body.className = 'background';\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst AdminPage = () => {\n  return (\n    <div>\n      <AppBar position='fixed' style={{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n                  Fantasy Collecting -&nbsp;\n          </Typography>\n          <Typography variant='h6' color='inherit'>\n            {localStorage.getItem('username')}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <br />\n      <br />\n      <br />\n      <View style={{flexDirection: 'row', justifyContent: 'center'}}>\n        <Paper style={{width: 500, marginTop: 30, padding: 20}}>\n          <Typography variant='h3' align='center'>Administrator Page</Typography>\n          <br />\n          <View style={{paddingLeft: '10%', paddingRight: '10%', flexDirection: 'column', alignItems: 'center'}}>\n            <Link style={{color: '#ffffff', textDecoration: 'none', justifyContent: 'center'}} to='/table'>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}\n              ><span style={{fontSize: '1.5em'}}>Users</span>\n              </Button>\n            </Link>\n            <Link style={{color: '#ffffff', textDecoration: 'none'}} to='/arttable'>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}\n              ><span style={{fontSize: '1.5em'}}>Artworks</span>\n              </Button>\n            </Link>\n            <Link style={{color: '#ffffff', textDecoration: 'none'}} to='/tradetable'>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}\n              ><span style={{fontSize: '1.5em'}}>Incoming Trades</span>\n              </Button>\n            </Link>\n            <Link style={{color: '#ffffff', textDecoration: 'none'}} to='/adminauction'>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}><span style={{fontSize: '1.5em'}}>Create Auction</span>\n              </Button>\n            </Link>\n            <Link style={{color: '#ffffff', textDecoration: 'none'}} to='/adminform'>\n              <Button variant='contained'\n                color='primary'\n                style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}><span style={{fontSize: '1.5em'}}>Artwork Ratings</span>\n              </Button>\n            </Link>\n            <Button variant='contained'\n              color='primary'\n              onClick={checkConfirmation}\n              style={{marginTop: 10, marginBottom: 20, width: 400, backgroundColor: '#002f86'}}><span style={{fontSize: '1.5em'}}\n              >Reset Game</span>\n            </Button>\n          </View>\n        </Paper>\n      </View>\n      <div>\n        <ChatComponent />\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPage;\n","import React from 'react';\nimport * as serverfuncs from '../serverfuncs';\nimport './incomingtrades.css';\nimport Notification from './notification';\nimport './backgroundlogin.css';\nimport Typography from '@material-ui/core/Typography';\n\nclass TradeDetails extends HTMLElement {\n  index = 0;\n  numofdetails = 0;\n  expanded = false;\n  constructor() {\n    super();\n  }\n}\ncustomElements.define('trade-details', TradeDetails);\n\nclass ExpandButton extends HTMLElement {\n  index = 0;\n  constructor() {\n    super();\n  }\n}\ncustomElements.define('expand-button', ExpandButton);\n\nfunction expandTradeDropdown(id) {\n  document.getElementById(id).style.height = '200px';\n}\nfunction closeTradeDropdown(id) {\n  document.getElementById(id).style.height = '35px';\n}\nlet totalTrades = 0;\nexport default class IncomingTrades extends React.Component {\n  constructor(props) {\n    super(props);\n    document.body.className = 'background';\n  }\n\n  componentDidMount() {\n    this.getIncomingTrades(this);\n  }\n\n  async getIncomingTrades(cRef) {\n    for (let i = 0; i < totalTrades; i++) {\n      try{\n        document.getElementById('trade'+i).remove();\n      } catch {}\n    }\n    const trades = await serverfuncs.getTrades();\n    const details = await serverfuncs.getTradeDetails();\n    totalTrades = 0;\n    for (const trade in trades) {\n      if (trades[trade].sellerapproved === 0 || trades[trade].buyerapproved === 0) continue;\n      totalTrades++;\n\n      const auctionNode = document.createElement('trade-details');\n      auctionNode.id = 'trade'+trade.toString();\n      auctionNode.index = trade;\n      auctionNode.className = 'tradedropdown';\n      auctionNode.style.color = 'white';\n      auctionNode.style.top = (150 + trade * 40).toString()+'px';\n      auctionNode.innerHTML = trades[trade].buyer + ' trading with ' + trades[trade].seller;\n\n      const expandNode = document.createElement('expand-button');\n      expandNode.innerHTML = 'expand';\n      expandNode.className = 'expandbutton';\n      expandNode.index = trade;\n      expandNode.onclick = function() {\n        const anode = document.getElementById('trade'+this.index.toString());\n        if (anode.expanded) {\n          anode.expanded = false;\n          closeTradeDropdown(anode.id);\n          for (let t = 0; t < totalTrades; t++) {\n            if (t > parseInt(anode.id.slice(5))) {\n              try {\n              document.getElementById('trade'+t.toString()).style.top = (parseInt(document.getElementById('trade'+t.toString()).style.top)-170).toString()+'px';\n              } catch {}\n            }\n          }\n        } else {\n          expandTradeDropdown(anode.id);\n          for (let t = 0; t < totalTrades; t++) {\n            if (t > parseInt(anode.id.slice(5))) {\n              try {\n              document.getElementById('trade'+t.toString()).style.top = (parseInt(document.getElementById('trade'+t.toString()).style.top)+170).toString()+'px';\n              } catch {}\n            }\n          }\n          anode.expanded = true;\n        }\n      };\n      auctionNode.append(expandNode);\n\n      const confirmNode = document.createElement('expand-button');\n      confirmNode.index = trade;\n      confirmNode.innerHTML = 'confirm';\n      confirmNode.className = 'confirmbutton';\n      confirmNode.onclick = async function() {\n        await serverfuncs.approveTrade(trades[this.index].tradeid);\n        // await serverfuncs.adminCancelTrade(trades[trade].tradeid);\n        cRef.getIncomingTrades(cRef);\n      };\n      auctionNode.append(confirmNode);\n\n      const denyNode = document.createElement('expand-button');\n      denyNode.index = trade;\n      denyNode.innerHTML = 'deny';\n      denyNode.className = 'denybutton';\n      denyNode.onclick = async function() {\n        await serverfuncs.denyTrade(trades[this.index].tradeid);\n        cRef.getIncomingTrades(cRef);\n        serverfuncs.showNotification('Trade denied');\n      };\n      auctionNode.append(denyNode);\n\n      document.getElementById('incomingtrades').append(auctionNode);\n\n      const breakNode = document.createElement('br');\n      document.getElementById('trade'+trade.toString()).append(breakNode);\n\n      for (const detail in details) {\n        if (details[detail].tradeid === trades[trade].tradeid) {\n          const breakNode = document.createElement('br');\n          document.getElementById('trade'+trade.toString()).append(breakNode);\n\n          const detailNode = document.createElement('a');\n          detailNode.text = details[detail].seller + ' -> ' + details[detail].offer + ' -> ' + details[detail].buyer;\n          document.getElementById('trade'+trade.toString()).append(detailNode);\n        }\n      }\n    }\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <div style = {{textAlign: 'center'}}>\n        <Notification/>\n        <div className='title'>\n          <Typography variant='h3'>Incoming Trades</Typography>\n        </div>\n        <div id = 'incomingtrades'></div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ChatComponent from '../components/ChatMessage';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\nimport IncomingTrades from '../components/incomingtrades';\n\nfunction SimpleMenu() {\n  document.body.className = 'background';\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link to='/admin' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Admin Homepage</MenuItem></Link>\n        <Link to='/table' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Users</MenuItem></Link>\n        <Link to='/arttable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Artworks</MenuItem></Link>\n        <Link to='/adminauction' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Auction</MenuItem></Link>\n        <Link to='/adminform' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Ratings</MenuItem></Link>\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst TablePage = () => {\n  return (\n    <div>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n              Fantasy Collecting -&nbsp;\n          </Typography>\n          <Typography variant='h6' color='inherit'>\n            {localStorage.getItem('username')}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <br></br>\n      <br></br>\n      <div><ChatComponent /></div>\n      {/* <Table /> */}\n      <IncomingTrades/>\n    </div>\n  );\n};\n\nexport default TablePage;\n","import React from 'react';\nimport AdminAuction from '../components/adminauction';\nimport AppBar from '@material-ui/core/AppBar';\nimport ChatComponent from '../components/ChatMessage';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\nimport Notification from '../components/notification';\n\nfunction SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {/* <MenuItem onClick={handleClose}><Link to='/gallery' style={{color: '#000000', textDecoration: 'none'}}>My Gallery</Link></MenuItem> */}\n        <Link to='/admin' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Admin Homepage</MenuItem></Link>\n        <Link to='/table' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Users</MenuItem></Link>\n        <Link to='/arttable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Artworks</MenuItem></Link>\n        <Link to='/tradetable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Trades</MenuItem></Link>\n        <Link to='/adminform' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Ratings</MenuItem></Link>\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst AuctionPage = () => {\n  return (\n    <div>\n      <Notification/>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n            Fantasy Collecting -&nbsp;\n          </Typography>\n          <Typography variant='h6' color='inherit'>\n            {localStorage.getItem('username')}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <br></br>\n      <br></br>\n      <ChatComponent />\n      <AdminAuction style={{flex: 1, zIndex: 1}}/>\n    </div>\n  );\n};\n\nexport default AuctionPage;\n","import React from 'react';\nimport {View} from 'react-native';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport * as serverfuncs from '../serverfuncs';\n\nlet tileData = [];\n\nclass AdminForm extends React.Component {\n  constructor(props) {\n    super(props);\n    document.body.className = 'background';\n    this.state = {\n      tileData: [],\n    };\n    this.getArtworks();\n  };\n\n  async getAverageValue(ident) {\n    let ratings = await fetch('http://fantasycollecting.hamilton.edu/api/ratetable/');\n    ratings = await ratings.json();\n    let average = 0;\n    let numofratings = 0;\n    for (const r in ratings) {\n      if (ratings[r].identifier === ident) {\n        numofratings++;\n        average+=parseInt(ratings[r].price);\n      }\n    }\n    average /= numofratings;\n    return average;\n  }\n\n  async getArtworks() {\n    tileData = [];\n    let images = await fetch('http://fantasycollecting.hamilton.edu/api/artworks/');\n    images = await images.json();\n    for (const i in images) {\n      if (images[i].rateable === 1) {\n        const av = await this.getAverageValue(images[i].identifier);\n        tileData.push({\n          img: images[i].url,\n          title: images[i].title,\n          artist: images[i].artist,\n          identifier: images[i].identifier,\n          average: av.toString().slice(0, 5),\n        });\n      }\n    }\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <div style = {{color: 'white'}}>\n        <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n          textAlign: 'center',\n          paddingTop: 20,\n          paddingBottom: 10}}>Estimated Values</Typography>\n        {tileData.map((tile) => (\n          <View style={{padding: 10, flexDirection: 'row', justifyContent: 'center'}}>\n            <img src={tile.img} alt={tile.title} height={300} style={{alignItem: 'center'}}/>\n            <Paper style={{padding: 10}}>\n              <Typography variant='h6' fontFamily='roboto' style={{textAlign: 'left', marginLeft: 20}}>{tile.title}</Typography>\n              <Typography variant='subtitle1' fontFamily='roboto' style={{marginLeft: 20}}>By: {tile.artist}</Typography>\n              <div style={{margin: 20}}>\n                <form>\n                  <label>Average Value:\n                  </label>\n                  <br></br>\n                  <p>{tile.average}</p>\n                  <br></br>\n                  <br></br>\n                </form>\n              </div>\n              <div style={{paddingTop: 5, position: 'relative', alignSelf: 'right', justifyContent: 'flex-end'}}>\n              </div>\n            </Paper>\n          </View>\n        ))}\n        <View style={{padding: 10, flexDirection: 'row', justifyContent: 'center', textAlign: 'center'}}>\n          <div>\n            <Paper style={{height: 20, width: 190, display: 'inline-block'}}>\n              <input type='checkbox' id='shuffle'></input>\n              <label for='shuffle'> Shuffle artworks?</label>\n            </Paper>\n            <br></br>\n            <Button size='large' variant='contained' color='secondary' type='submit' value='Submit' style={{fontSize: 20, backgroundColor: '#002f86', alignItem: 'center', margin: 20}} onClick = {async () => {\n              let images = await fetch('http://fantasycollecting.hamilton.edu/api/artworks/');\n              images = await images.json();\n              for (const i in images) {\n                if (images[i].rateable === 1) {\n                  let tp = await this.getAverageValue(images[i].identifier);\n                  tp *= 100;\n                  tp = Math.round(tp);\n                  // console.log(tp);\n                  await fetch('http://fantasycollecting.hamilton.edu/api/artworks/'+images[i].identifier,\n                      {\n                        method: 'put',\n                        mode: 'cors',\n                        headers: {\n                          'Content-Type': 'application/json',\n                        },\n                        body: JSON.stringify({\n                          theoreticalprice: tp,\n                        }),\n                      });\n                }\n              }\n              serverfuncs.showNotification('Theoretical prices of artworks assigned');\n\n              if (document.getElementById('shuffle').checked === true) {\n                serverfuncs.shuffleArtworks();\n                serverfuncs.showNotification('Artworks shuffled between users');\n              }\n            }}>Create Theoretical Prices</Button> </div></View>\n      </div>\n    );\n  }\n}\n\nexport default AdminForm;\n","\nimport AdminForm from '../components/adminform';\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {Link} from 'react-router-dom';\nimport * as serverfuncs from '../serverfuncs';\nimport Notification from '../components/notification';\n\nfunction SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <IconButton edge='start' color='inherit' aria-label='menu'\n        aria-controls='simple-menu' aria-haspopup='true' onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {/* <MenuItem onClick={handleClose}><Link to='/gallery' style={{color: '#000000', textDecoration: 'none'}}>My Gallery</Link></MenuItem> */}\n        <Link to='/admin' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Admin Homepage</MenuItem></Link>\n        <Link to='/table' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Users</MenuItem></Link>\n        <Link to='/arttable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Artworks</MenuItem></Link>\n        <Link to='/tradetable' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Trades</MenuItem></Link>\n        <Link to='/adminauction' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={handleClose}>Auction</MenuItem></Link>\n        <Link to='/' style={{color: '#000000', textDecoration: 'none'}}><MenuItem onClick={() => (serverfuncs.logOutUser())}>Log Out</MenuItem></Link>\n      </Menu>\n    </div>\n  );\n}\n\nconst FormPage = () => {\n  return (\n    <div>\n      <Notification/>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          {SimpleMenu()}\n          <Typography variant='h6' color='inherit'>\n              Fantasy Collecting -&nbsp;\n          </Typography>\n          <Typography variant='h6' color='inherit'>\n            {localStorage.getItem('username')}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <br></br>\n      <br></br>\n      <AdminForm />\n    </div>\n  );\n};\n\nexport default FormPage;","import React from 'react';\nimport MaterialTable from 'material-table';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Button from '@material-ui/core/Button';\nimport * as serverfuncs from '../serverfuncs';\nimport './gallerydropdown.css';\n\nclass TradeTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.rows = [];\n    this.read = false;\n\n    this.tradeid = props.identifier;\n\n    this.divid = 'TradeDropdown' + props.identifier;\n\n    this.getRows = this.getRows.bind(this);\n\n    this.raiseTable = this.raiseTable.bind(this);\n\n    this.getRows();\n    this.state = {columns: [\n      {title: 'Buyer', field: 'buyer'},\n      {title: 'Seller', field: 'seller'},\n      {title: 'Offer', field: 'offer'},\n    ],\n    data: this.rows,\n    };\n  }\n\n  raiseTable() {\n    document.getElementById(this.divid).style.top = '-600px';\n  }\n\n  async getRows() {\n    this.rows = [];\n    const trades = await serverfuncs.getTradeDetails();\n    for (const trade of trades) {\n      if ((trade.archived === 1) && (trade.tradeid === this.tradeid)) {\n        this.rows.push(trade);\n      }\n    }\n    this.state.data = this.rows;\n    this.read = true;\n    this.forceUpdate();\n  }\n\n  render() {\n    const title = 'Trade Details for ' + this.tradeid;\n    return (\n      <div id={this.divid} class='tradeTableDropdown'>\n        <a class='closebtn' onClick={this.raiseTable}>&times;</a>\n        <p>&nbsp;</p>\n        {this.read ? (\n        <MaterialTable\n          title={title}\n          columns={this.state.columns}\n          data={this.state.data}\n          options={{\n            rowStyle: {\n              'z-index': 3,\n            },\n          }}\n        />\n      ) : (<h1>Loading...</h1>)};\n      </div>\n    );\n  }\n}\n\nexport default class HistoryTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // stuff for memory of table\n    this.rows = [];\n    this.read = false;\n\n    this.tradetables = [];\n\n    this.getRows = this.getRows.bind(this);\n\n    // needs to be done for divid and other this variables to be preserved\n    this.lowerTable = this.lowerTable.bind(this);\n    this.raiseTable = this.raiseTable.bind(this);\n\n    this.render = this.render.bind(this);\n\n    this.divid = props.identifier + 'HistoryDropdown';\n\n    this.getRows();\n    this.state = {columns: [\n      {title: 'Date', field: 'timestamp'},\n      {title: 'Buyer', field: 'buyer'},\n      {title: 'Seller', field: 'seller'},\n      {title: 'Selling Price', field: 'price', type: 'numeric'},\n    ],\n    data: this.rows,\n    };\n  }\n\n  lowerTable() {\n    document.getElementById(this.divid).style.top = '50px';\n  }\n\n  raiseTable() {\n    document.getElementById(this.divid).style.top = '-600px';\n  }\n\n  async getRows() {\n    const history = await serverfuncs.getHistory(this.props.identifier);\n\n    // used in render to print name of artwork rather than the identifier\n    this.artwork = await serverfuncs.getArtworkInfo(this.props.identifier);\n    this.artworkName = this.artwork.title;\n\n    // converts timestamp to a good string\n    for (let i = 0; i < history.length; i++) {\n      history[i].timestamp = new Date(history[i].timestamp).toLocaleString();\n\n      // checks if there is a corresponding trade with the trade - if there is, we add a divid to an array\n      if (history[i].tradeid !== null) {\n        history[i].tradetableid = 'TradeDropdown' + history[i].tradeid;\n        this.tradetables.push(history[i].tradeid);\n      } else {\n        history[i].tradetableid = null;\n      }\n      this.rows.push(history[i]);\n    };\n    this.state.data = this.rows;\n    this.state.data = this.state.data.sort(function(a, b) {\n      return a.timestamp[0] > b.timestamp[0] ? 1 : -1;\n    });\n    this.read = true;\n    this.forceUpdate();\n  }\n\n  render() {\n    const title = 'Provenance for \\'' + this.artworkName + '\\'';\n    return (\n      <div>\n        <Button onClick={this.lowerTable}><i>Provenance</i></Button>\n        <div id={this.divid} class='galleryDropdown'>\n          <a class='closebtn' onClick={this.raiseTable}>&times;</a>\n          <p>&nbsp;</p>\n          {this.read ? (\n          <MaterialTable\n            title={title}\n            columns={this.state.columns}\n            data={this.state.data}\n            actions={[\n              {\n                icon: SearchIcon,\n                tooltip: 'Trade Information',\n                onClick: (event, rowData) => {\n                  if (rowData.tradetableid !== null) {\n                    document.getElementById(rowData.tradetableid).style.top = '0px';\n                  } else {\n                    alert('No trade information found.');\n                  }\n                },\n              },\n            ]}\n          />\n          ) : (<h1>Loading...</h1>)}\n          {this.tradetables.map((tradetableid) => (\n            <TradeTable identifier={tradetableid} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport * as serverfuncs from '../serverfuncs';\nimport './gallerydropdown.css';\n\nexport default class MicroresearchPrompt extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // needs to be done for divid to be preserved\n    this.lowerTable = this.lowerTable.bind(this);\n    this.raiseTable = this.raiseTable.bind(this);\n    this.submitMicroresearch = this.submitMicroresearch.bind(this);\n    this.getName = this.getName.bind(this);\n\n    this.textid = this.props.identifier + 'MicroresearchPromptText';\n    this.divid = this.props.identifier + 'MicroresearchPromptDropdown';\n    this.identifier = props.identifier;\n    this.artworkName = undefined;\n\n    this.getName();\n  }\n\n  async getName() {\n    const artwork = await serverfuncs.getArtworkInfo(this.identifier);\n    this.artworkName = artwork.title;\n    this.forceUpdate();\n  }\n\n  lowerTable() {\n    document.getElementById(this.divid).style.top = '50px';\n  }\n\n  raiseTable() {\n    document.getElementById(this.divid).style.top = '-600px';\n  }\n\n  submitMicroresearch() {\n    const data = {\n      username: localStorage.getItem('username'),\n      identifier: this.identifier,\n      information: document.getElementById(this.textid).value,\n      timestamp: new Date(),\n    };\n\n    serverfuncs.postMicroresearch(data);\n\n    // raise table\n    document.getElementById(this.divid).style.top = '-600px';\n\n    serverfuncs.showNotification('Microresearch submitted');\n    \n    // refresh\n    setTimeout( () => {\n      window.location.reload();\n    }, 500);\n  }\n\n  render() {\n    const title = 'Add Microresearch for \\\"' + this.artworkName + '\\\"';\n    return (\n      <div>\n        <Button onClick={this.lowerTable}><i>Add Microresearch...</i></Button>\n        <div id={this.divid} class='galleryDropdown'>\n          <a class='closebtn' onClick={this.raiseTable}>&times;</a>\n          <p>&nbsp;</p>\n          <div style={{textAlign: 'center'}}>\n            <h1>{title}</h1>\n            <textarea style={{width: 400, height: 300}} id={this.textid} multiline='true'></textarea>\n          </div>\n          <button onClick={this.submitMicroresearch} style={{margin: 'auto', display: 'block'}}>Submit</button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport MaterialTable from 'material-table';\nimport Button from '@material-ui/core/Button';\nimport * as serverfuncs from '../serverfuncs';\nimport './gallerydropdown.css';\n\nexport default class MicroresearchTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // stuff for memory of table\n    this.rows = [];\n    this.read = false;\n    this.getRows = this.getRows.bind(this);\n\n    // needs to be done for divid to be preserved\n    this.lowerTable = this.lowerTable.bind(this);\n    this.raiseTable = this.raiseTable.bind(this);\n    this.divid = this.props.identifier + 'MicroresearchDropdown';\n\n    this.getRows();\n    this.state = {columns: [\n      {title: 'User', field: 'username'},\n      {title: 'Microresearch', field: 'information'},\n      {title: 'Timestamp', field: 'timestamp'},\n    ],\n    data: this.rows,\n    };\n  }\n\n  lowerTable() {\n    document.getElementById(this.divid).style.top = '50px';\n  }\n\n  raiseTable() {\n    document.getElementById(this.divid).style.top = '-600px';\n  }\n\n  async getRows() {\n    // used in render to print name of artwork rather than the identifier\n    this.artwork = await serverfuncs.getArtworkInfo(this.props.identifier);\n    this.artworkName = this.artwork.title;\n\n    this.rows = [];\n    const artworkMicroresearch = await serverfuncs.getMicroresearch(this.props.identifier);\n    for (const microresearch of artworkMicroresearch) {\n      if (microresearch.identifier === this.props.identifier) {\n        microresearch.timestamp = new Date(microresearch.timestamp).toLocaleString();\n        this.rows.push(microresearch);\n      }\n    };\n    this.state.data = this.rows;\n    this.state.data = this.state.data.sort( function(a, b) {\n      return new Date(a.date) > new Date(b.date) ? 1 : -1;\n    });\n    this.read = true;\n    this.forceUpdate();\n  }\n\n  render() {\n    const title = 'Microresearch for \\\"' + this.artworkName + '\\\"';\n    return (\n      <div>\n        <Button onClick={this.lowerTable}><i>Show Microresearch</i></Button>\n        <div id={this.divid} class='galleryDropdown'>\n          <a class='closebtn' onClick={this.raiseTable}>&times;</a>\n          <p>&nbsp;</p>\n          {this.read ? (\n          <MaterialTable\n            title={title}\n            columns={this.state.columns}\n            data={this.state.data}\n          />\n        ) : (<h1>Loading...</h1>)}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport OtherGallery from './homepageofother';\nimport ChatComponent from '../components/ChatMessage';\nimport './gallerydropdown.css';\nimport {getArtworkInfo, getUser} from '../serverfuncs.js';\nimport Paper from '@material-ui/core/Paper';\nimport HistoryTable from '../components/historytable';\nimport MicroresearchPrompt from '../components/microresearchprompt.js';\nimport MicroresearchTable from '../components/microresearchtable.js';\nimport TradeWindow from './tradewindow';\n\nclass Single extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getArtworkInformation = this.getArtworkInformation.bind(this);\n    this.render = this.render.bind(this);\n\n    this.identifier = localStorage.getItem('singleIdent');\n\n    this.artworkInfo = {};\n    this.getArtworkInformation();\n\n    document.body.className = 'gallery';\n  }\n\n  async getArtworkInformation() {\n    this.artworkInfo = await getArtworkInfo(this.identifier);\n    this.currentUser = localStorage.getItem('username');\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <div><ChatComponent/></div>\n          <div><OtherGallery/></div>\n          <div><TradeWindow></TradeWindow></div>\n        </div>\n        <Typography fontFamily='roboto' variant='h4' component='h4' style={{\n          textAlign: 'center',\n          paddingTop: 20,\n          paddingBottom: 10}}>More Information</Typography>\n        <div>\n          <Grid\n            container\n            direction='row'\n            justify='center'\n            alignItems='left-justified'\n          >\n            <div style={{padding: 10}}>\n              <div style={{float: 'left'}}>\n                <img src={this.artworkInfo.url} alt={this.artworkInfo.title} style={{leftMargin: 'auto', rightMargin: 'auto', display: 'block', height: 300}}/>\n              </div>\n              <div style={{float: 'right'}}>\n                <Paper style={{height: 300}}>\n                  <div style={{padding: 10}}>\n                    <Typography variant='h6' fontFamily='roboto'>{this.artworkInfo.title}</Typography>\n                    <Typography variant='h6' fontFamily='roboto'>{this.artworkInfo.artist} </Typography>\n                    <Typography variant='h6' fontFamily='roboto'>{this.artworkInfo.year} </Typography>\n                    <br></br>\n                    <Typography variant='subtitle1' fontFamily='roboto'>\n                    Most recent sale price: {this.artworkInfo.actualprice !== 0 && this.artworkInfo.actualprice !== undefined ? this.artworkInfo.actualprice : 'N/A'} \n                    </Typography>\n                    <br></br>\n                    <HistoryTable identifier = {this.identifier} />\n                    <MicroresearchTable identifier = {this.identifier} />\n                    {(this.currentUser === this.artworkInfo.owner ? <MicroresearchPrompt identifier = {this.identifier} /> : <br />)}\n                  </div>\n                </Paper>\n              </div>\n            </div>\n          </Grid>\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Single;\n","import React from 'react';\nimport Single from '../components/singleartwork';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Notification from '../components/notification';\nimport SimpleMenu from '../components/simpleMenu';\nimport Grid from '@material-ui/core/Grid';\nimport Guilder from '../static/guilder.svg';\nimport {getUser} from '../serverfuncs';\n\nasync function getGuilders(user) {\n  const userlist = await getUser(user);\n  document.getElementById('guilders').innerHTML = `<img src=${Guilder} height='20' width='20'></img>${userlist[0].guilders}`;\n}\n\nconst SinglePage = () => {\n  getGuilders(localStorage.getItem('username'));\n  return (\n    <div>\n      <Notification/>\n      <AppBar position='fixed' style = {{backgroundColor: '#002f86'}}>\n        <Toolbar variant='dense'>\n          <Grid\n            justify='space-between'\n            container spacing={1}\n          >\n            <Grid item xs={'90%'}>\n              <SimpleMenu mode={true}/>\n            </Grid>\n            <Grid item xs>\n              <Typography variant='h6' color='inherit' style={{marginTop: 9}}>\n                  Fantasy Collecting - {localStorage.getItem('username')}\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <Typography variant='h6' style={{float: 'right', marginTop: 10}} id='guilders'>\n                <img src={Guilder} height='20' width='20'></img>{0}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <Single/>\n    </div>\n  );\n};\n\nexport default SinglePage;\n","import React, {Component} from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\n// Pages\nimport MainPage from './pages/index';\nimport Table from './pages/usertable';\nimport ErrorPage from './pages/error';\nimport Login from './pages/login';\nimport Auction from './pages/auction';\nimport ArtTable from './pages/arttable';\nimport TradeOption from './pages/tradeoption';\nimport AdminPage from './pages/admin';\nimport TradeTable from './pages/tradetable';\nimport AdminAuction from './pages/adminauction';\nimport AdminForm from './pages/adminform';\nimport SinglePage from './pages/singleartwork';\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n  <Route {...rest} render={(props) => (\n    (localStorage.getItem('username') !== null) ?\n    <Component {...props} /> :\n    <Redirect to='/' />\n  )} />\n);\n\nconst AdminRoute = ({component: Component, ...rest}) => (\n  <Route {...rest} render={(props) => (\n    ((localStorage.getItem('username') !== null) &&\n    (localStorage.getItem('admin') === '1')) ?\n    <Component {...props} /> :\n    <Redirect to='/gallery' />\n  )} />\n);\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <Router>\n            <Switch>\n              <Route exact path='/' component={Login} />\n              <PrivateRoute path='/tradeoption' component={TradeOption}/>\n              <AdminRoute path='/table' component={Table} />\n              <AdminRoute path='/arttable' component={ArtTable} />\n              <AdminRoute path='/tradetable' component={TradeTable}/>\n              <AdminRoute path='/adminauction' component={AdminAuction}/>\n              <PrivateRoute path='/gallery' component={MainPage} />\n              <PrivateRoute path='/auction' component={Auction} />\n              {/* <PrivateRoute path='/form' component={FormPage} /> */}\n              <PrivateRoute path='/adminform' component={AdminForm} />\n              <PrivateRoute path='/singleartwork' component={SinglePage} />\n              <AdminRoute path='/admin' component={AdminPage}/>\n              <Route exact path='/404notfound' component={ErrorPage}/>\n              <Redirect to='/404notfound'/>\n            </Switch>\n          </Router>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}